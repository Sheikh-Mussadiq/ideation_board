function vI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var KN={exports:{}},dm={},JN={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),wI=Symbol.for("react.portal"),bI=Symbol.for("react.fragment"),SI=Symbol.for("react.strict_mode"),kI=Symbol.for("react.profiler"),EI=Symbol.for("react.provider"),TI=Symbol.for("react.context"),CI=Symbol.for("react.forward_ref"),NI=Symbol.for("react.suspense"),MI=Symbol.for("react.memo"),jI=Symbol.for("react.lazy"),lS=Symbol.iterator;function OI(t){return t===null||typeof t!="object"?null:(t=lS&&t[lS]||t["@@iterator"],typeof t=="function"?t:null)}var QN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XN=Object.assign,ZN={};function Bl(t,e,n){this.props=t,this.context=e,this.refs=ZN,this.updater=n||QN}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eM(){}eM.prototype=Bl.prototype;function rw(t,e,n){this.props=t,this.context=e,this.refs=ZN,this.updater=n||QN}var sw=rw.prototype=new eM;sw.constructor=rw;XN(sw,Bl.prototype);sw.isPureReactComponent=!0;var cS=Array.isArray,tM=Object.prototype.hasOwnProperty,iw={current:null},nM={key:!0,ref:!0,__self:!0,__source:!0};function rM(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)tM.call(e,r)&&!nM.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gd,type:t,key:i,ref:o,props:s,_owner:iw.current}}function AI(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ow(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function LI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uS=/\/+/g;function Lg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LI(""+t.key):e.toString(36)}function Hf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gd:case wI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Lg(o,0):r,cS(s)?(n="",t!=null&&(n=t.replace(uS,"$&/")+"/"),Hf(s,e,n,"",function(c){return c})):s!=null&&(ow(s)&&(s=AI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(uS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",cS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Lg(i,a);o+=Hf(i,e,n,l,s)}else if(l=OI(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Lg(i,a++),o+=Hf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kd(t,e,n){if(t==null)return t;var r=[],s=0;return Hf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function DI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Wf={transition:null},PI={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Wf,ReactCurrentOwner:iw};function sM(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Kd,forEach:function(t,e,n){Kd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kd(t,function(){e++}),e},toArray:function(t){return Kd(t,function(e){return e})||[]},only:function(t){if(!ow(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Bl;Me.Fragment=bI;Me.Profiler=kI;Me.PureComponent=rw;Me.StrictMode=SI;Me.Suspense=NI;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;Me.act=sM;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XN({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=iw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tM.call(e,l)&&!nM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gd,type:t.type,key:s,ref:i,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:TI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EI,_context:t},t.Consumer=t};Me.createElement=rM;Me.createFactory=function(t){var e=rM.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:CI,render:t}};Me.isValidElement=ow;Me.lazy=function(t){return{$$typeof:jI,_payload:{_status:-1,_result:t},_init:DI}};Me.memo=function(t,e){return{$$typeof:MI,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Wf.transition;Wf.transition={};try{t()}finally{Wf.transition=e}};Me.unstable_act=sM;Me.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Me.useContext=function(t){return Tn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Me.useId=function(){return Tn.current.useId()};Me.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Me.useRef=function(t){return Tn.current.useRef(t)};Me.useState=function(t){return Tn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return Tn.current.useTransition()};Me.version="18.3.1";JN.exports=Me;var g=JN.exports;const _=nw(g),bh=vI({__proto__:null,default:_},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RI=g,II=Symbol.for("react.element"),_I=Symbol.for("react.fragment"),$I=Object.prototype.hasOwnProperty,FI=RI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zI={key:!0,ref:!0,__self:!0,__source:!0};function iM(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$I.call(e,r)&&!zI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:II,type:t,key:i,ref:o,props:s,_owner:FI.current}}dm.Fragment=_I;dm.jsx=iM;dm.jsxs=iM;KN.exports=dm;var f=KN.exports,oM={exports:{}},sr={},aM={exports:{}},lM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var V=P.length;P.push(A);e:for(;0<V;){var H=V-1>>>1,X=P[H];if(0<s(X,A))P[H]=A,P[V]=X,V=H;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],V=P.pop();if(V!==A){P[0]=V;e:for(var H=0,X=P.length,z=X>>>1;H<z;){var fe=2*(H+1)-1,ae=P[fe],Ce=fe+1,Le=P[Ce];if(0>s(ae,V))Ce<X&&0>s(Le,ae)?(P[H]=Le,P[Ce]=V,H=Ce):(P[H]=ae,P[fe]=V,H=fe);else if(Ce<X&&0>s(Le,V))P[H]=Le,P[Ce]=V,H=Ce;else break e}}return A}function s(P,A){var V=P.sortIndex-A.sortIndex;return V!==0?V:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=P)r(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function S(P){if(y=!1,b(P),!m)if(n(l)!==null)m=!0,te(k);else{var A=n(c);A!==null&&$(S,A.startTime-P)}}function k(P,A){m=!1,y&&(y=!1,v(C),C=-1),p=!0;var V=h;try{for(b(A),d=n(l);d!==null&&(!(d.expirationTime>A)||P&&!N());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var X=H(d.expirationTime<=A);A=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),b(A)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var fe=n(c);fe!==null&&$(S,fe.startTime-A),z=!1}return z}finally{d=null,h=V,p=!1}}var E=!1,T=null,C=-1,L=5,M=-1;function N(){return!(t.unstable_now()-M<L)}function j(){if(T!==null){var P=t.unstable_now();M=P;var A=!0;try{A=T(!0,P)}finally{A?I():(E=!1,T=null)}}else E=!1}var I;if(typeof w=="function")I=function(){w(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,se=B.port2;B.port1.onmessage=j,I=function(){se.postMessage(null)}}else I=function(){x(j,0)};function te(P){T=P,E||(E=!0,I())}function $(P,A){C=x(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,te(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var V=h;h=A;try{return P()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=h;h=P;try{return A()}finally{h=V}},t.unstable_scheduleCallback=function(P,A,V){var H=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?H+V:H):V=H,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,P={id:u++,callback:A,priorityLevel:P,startTime:V,expirationTime:X,sortIndex:-1},V>H?(P.sortIndex=V,e(c,P),n(l)===null&&P===n(c)&&(y?(v(C),C=-1):y=!0,$(S,V-H))):(P.sortIndex=X,e(l,P),m||p||(m=!0,te(k))),P},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(P){var A=h;return function(){var V=h;h=A;try{return P.apply(this,arguments)}finally{h=V}}}})(lM);aM.exports=lM;var BI=aM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI=g,rr=BI;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cM=new Set,Eu={};function pa(t,e){ml(t,e),ml(t+"Capture",e)}function ml(t,e){for(Eu[t]=e,t=0;t<e.length;t++)cM.add(e[t])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j0=Object.prototype.hasOwnProperty,VI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dS={},fS={};function HI(t){return j0.call(fS,t)?!0:j0.call(dS,t)?!1:VI.test(t)?fS[t]=!0:(dS[t]=!0,!1)}function WI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GI(t,e,n,r){if(e===null||typeof e>"u"||WI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var aw=/[\-:]([a-z])/g;function lw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aw,lw);Wt[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aw,lw);Wt[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aw,lw);Wt[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function cw(t,e,n,r){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GI(e,n,s,r)&&(n=null),r||s===null?HI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qs=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jd=Symbol.for("react.element"),Ia=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),O0=Symbol.for("react.profiler"),uM=Symbol.for("react.provider"),dM=Symbol.for("react.context"),dw=Symbol.for("react.forward_ref"),A0=Symbol.for("react.suspense"),L0=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),fM=Symbol.for("react.offscreen"),hS=Symbol.iterator;function uc(t){return t===null||typeof t!="object"?null:(t=hS&&t[hS]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Dg;function Dc(t){if(Dg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dg=e&&e[1]||""}return`
`+Dg+t}var Pg=!1;function Rg(t,e){if(!t||Pg)return"";Pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dc(t):""}function YI(t){switch(t.tag){case 5:return Dc(t.type);case 16:return Dc("Lazy");case 13:return Dc("Suspense");case 19:return Dc("SuspenseList");case 0:case 2:case 15:return t=Rg(t.type,!1),t;case 11:return t=Rg(t.type.render,!1),t;case 1:return t=Rg(t.type,!0),t;default:return""}}function D0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case Ia:return"Portal";case O0:return"Profiler";case uw:return"StrictMode";case A0:return"Suspense";case L0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dM:return(t.displayName||"Context")+".Consumer";case uM:return(t._context.displayName||"Context")+".Provider";case dw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fw:return e=t.displayName||null,e!==null?e:D0(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return D0(t(e))}catch{}}return null}function qI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D0(e);case 8:return e===uw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KI(t){var e=hM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qd(t){t._valueTracker||(t._valueTracker=KI(t))}function pM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function P0(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mM(t,e){e=e.checked,e!=null&&cw(t,"checked",e,!1)}function R0(t,e){mM(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I0(t,e.type,n):e.hasOwnProperty("defaultValue")&&I0(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function I0(t,e,n){(e!=="number"||Sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pc=Array.isArray;function tl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Pc(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function gM(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xd,vM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xd=Xd||document.createElement("div"),Xd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JI=["Webkit","ms","Moz","O"];Object.keys(Gc).forEach(function(t){JI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gc[e]=Gc[t]})});function xM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gc.hasOwnProperty(t)&&Gc[t]?(""+e).trim():e+"px"}function wM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var QI=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F0(t,e){if(e){if(QI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function z0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=null;function hw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var U0=null,nl=null,rl=null;function vS(t){if(t=xd(t)){if(typeof U0!="function")throw Error(G(280));var e=t.stateNode;e&&(e=gm(e),U0(t.stateNode,t.type,e))}}function bM(t){nl?rl?rl.push(t):rl=[t]:nl=t}function SM(){if(nl){var t=nl,e=rl;if(rl=nl=null,vS(t),e)for(t=0;t<e.length;t++)vS(e[t])}}function kM(t,e){return t(e)}function EM(){}var Ig=!1;function TM(t,e,n){if(Ig)return t(e,n);Ig=!0;try{return kM(t,e,n)}finally{Ig=!1,(nl!==null||rl!==null)&&(EM(),SM())}}function Cu(t,e){var n=t.stateNode;if(n===null)return null;var r=gm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var V0=!1;if(Hs)try{var dc={};Object.defineProperty(dc,"passive",{get:function(){V0=!0}}),window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{V0=!1}function XI(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Yc=!1,kh=null,Eh=!1,H0=null,ZI={onError:function(t){Yc=!0,kh=t}};function e_(t,e,n,r,s,i,o,a,l){Yc=!1,kh=null,XI.apply(ZI,arguments)}function t_(t,e,n,r,s,i,o,a,l){if(e_.apply(this,arguments),Yc){if(Yc){var c=kh;Yc=!1,kh=null}else throw Error(G(198));Eh||(Eh=!0,H0=c)}}function ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xS(t){if(ma(t)!==t)throw Error(G(188))}function n_(t){var e=t.alternate;if(!e){if(e=ma(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xS(s),t;if(i===r)return xS(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function NM(t){return t=n_(t),t!==null?MM(t):null}function MM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MM(t);if(e!==null)return e;t=t.sibling}return null}var jM=rr.unstable_scheduleCallback,wS=rr.unstable_cancelCallback,r_=rr.unstable_shouldYield,s_=rr.unstable_requestPaint,ft=rr.unstable_now,i_=rr.unstable_getCurrentPriorityLevel,pw=rr.unstable_ImmediatePriority,OM=rr.unstable_UserBlockingPriority,Th=rr.unstable_NormalPriority,o_=rr.unstable_LowPriority,AM=rr.unstable_IdlePriority,fm=null,ds=null;function a_(t){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(fm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:u_,l_=Math.log,c_=Math.LN2;function u_(t){return t>>>=0,t===0?32:31-(l_(t)/c_|0)|0}var Zd=64,ef=4194304;function Rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ch(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Rc(a):(i&=o,i!==0&&(r=Rc(i)))}else o=n&~s,o!==0?r=Rc(o):i!==0&&(r=Rc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),s=1<<n,r|=t[n],e&=~s;return r}function d_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ur(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=d_(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function W0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LM(){var t=Zd;return Zd<<=1,!(Zd&4194240)&&(Zd=64),t}function _g(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function h_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function mw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $e=0;function DM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PM,gw,RM,IM,_M,G0=!1,tf=[],Ri=null,Ii=null,_i=null,Nu=new Map,Mu=new Map,bi=[],p_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bS(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(e.pointerId)}}function fc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xd(e),e!==null&&gw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function m_(t,e,n,r,s){switch(e){case"focusin":return Ri=fc(Ri,t,e,n,r,s),!0;case"dragenter":return Ii=fc(Ii,t,e,n,r,s),!0;case"mouseover":return _i=fc(_i,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nu.set(i,fc(Nu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mu.set(i,fc(Mu.get(i)||null,t,e,n,r,s)),!0}return!1}function $M(t){var e=Lo(t.target);if(e!==null){var n=ma(e);if(n!==null){if(e=n.tag,e===13){if(e=CM(n),e!==null){t.blockedOn=e,_M(t.priority,function(){RM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Y0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B0=r,n.target.dispatchEvent(r),B0=null}else return e=xd(n),e!==null&&gw(e),t.blockedOn=n,!1;e.shift()}return!0}function SS(t,e,n){Gf(t)&&n.delete(e)}function g_(){G0=!1,Ri!==null&&Gf(Ri)&&(Ri=null),Ii!==null&&Gf(Ii)&&(Ii=null),_i!==null&&Gf(_i)&&(_i=null),Nu.forEach(SS),Mu.forEach(SS)}function hc(t,e){t.blockedOn===e&&(t.blockedOn=null,G0||(G0=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,g_)))}function ju(t){function e(s){return hc(s,t)}if(0<tf.length){hc(tf[0],t);for(var n=1;n<tf.length;n++){var r=tf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&hc(Ri,t),Ii!==null&&hc(Ii,t),_i!==null&&hc(_i,t),Nu.forEach(e),Mu.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)$M(n),n.blockedOn===null&&bi.shift()}var sl=Qs.ReactCurrentBatchConfig,Nh=!0;function y_(t,e,n,r){var s=$e,i=sl.transition;sl.transition=null;try{$e=1,yw(t,e,n,r)}finally{$e=s,sl.transition=i}}function v_(t,e,n,r){var s=$e,i=sl.transition;sl.transition=null;try{$e=4,yw(t,e,n,r)}finally{$e=s,sl.transition=i}}function yw(t,e,n,r){if(Nh){var s=Y0(t,e,n,r);if(s===null)Yg(t,e,r,Mh,n),bS(t,r);else if(m_(s,t,e,n,r))r.stopPropagation();else if(bS(t,r),e&4&&-1<p_.indexOf(t)){for(;s!==null;){var i=xd(s);if(i!==null&&PM(i),i=Y0(t,e,n,r),i===null&&Yg(t,e,r,Mh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yg(t,e,r,null,n)}}var Mh=null;function Y0(t,e,n,r){if(Mh=null,t=hw(r),t=Lo(t),t!==null)if(e=ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mh=t,null}function FM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i_()){case pw:return 1;case OM:return 4;case Th:case o_:return 16;case AM:return 536870912;default:return 16}default:return 16}}var Mi=null,vw=null,Yf=null;function zM(){if(Yf)return Yf;var t,e=vw,n=e.length,r,s="value"in Mi?Mi.value:Mi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yf=s.slice(t,1<r?1-r:void 0)}function qf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nf(){return!0}function kS(){return!1}function ir(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nf:kS,this.isPropagationStopped=kS,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),e}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xw=ir(Ul),vd=it({},Ul,{view:0,detail:0}),x_=ir(vd),$g,Fg,pc,hm=it({},vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ww,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pc&&(pc&&t.type==="mousemove"?($g=t.screenX-pc.screenX,Fg=t.screenY-pc.screenY):Fg=$g=0,pc=t),$g)},movementY:function(t){return"movementY"in t?t.movementY:Fg}}),ES=ir(hm),w_=it({},hm,{dataTransfer:0}),b_=ir(w_),S_=it({},vd,{relatedTarget:0}),zg=ir(S_),k_=it({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),E_=ir(k_),T_=it({},Ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C_=ir(T_),N_=it({},Ul,{data:0}),TS=ir(N_),M_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O_[t])?!!e[t]:!1}function ww(){return A_}var L_=it({},vd,{key:function(t){if(t.key){var e=M_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ww,charCode:function(t){return t.type==="keypress"?qf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D_=ir(L_),P_=it({},hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CS=ir(P_),R_=it({},vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ww}),I_=ir(R_),__=it({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),$_=ir(__),F_=it({},hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z_=ir(F_),B_=[9,13,27,32],bw=Hs&&"CompositionEvent"in window,qc=null;Hs&&"documentMode"in document&&(qc=document.documentMode);var U_=Hs&&"TextEvent"in window&&!qc,BM=Hs&&(!bw||qc&&8<qc&&11>=qc),NS=" ",MS=!1;function UM(t,e){switch(t){case"keyup":return B_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function V_(t,e){switch(t){case"compositionend":return VM(e);case"keypress":return e.which!==32?null:(MS=!0,NS);case"textInput":return t=e.data,t===NS&&MS?null:t;default:return null}}function H_(t,e){if($a)return t==="compositionend"||!bw&&UM(t,e)?(t=zM(),Yf=vw=Mi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BM&&e.locale!=="ko"?null:e.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W_[t.type]:e==="textarea"}function HM(t,e,n,r){bM(r),e=jh(e,"onChange"),0<e.length&&(n=new xw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kc=null,Ou=null;function G_(t){tj(t,0)}function pm(t){var e=Ba(t);if(pM(e))return t}function Y_(t,e){if(t==="change")return e}var WM=!1;if(Hs){var Bg;if(Hs){var Ug="oninput"in document;if(!Ug){var OS=document.createElement("div");OS.setAttribute("oninput","return;"),Ug=typeof OS.oninput=="function"}Bg=Ug}else Bg=!1;WM=Bg&&(!document.documentMode||9<document.documentMode)}function AS(){Kc&&(Kc.detachEvent("onpropertychange",GM),Ou=Kc=null)}function GM(t){if(t.propertyName==="value"&&pm(Ou)){var e=[];HM(e,Ou,t,hw(t)),TM(G_,e)}}function q_(t,e,n){t==="focusin"?(AS(),Kc=e,Ou=n,Kc.attachEvent("onpropertychange",GM)):t==="focusout"&&AS()}function K_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pm(Ou)}function J_(t,e){if(t==="click")return pm(e)}function Q_(t,e){if(t==="input"||t==="change")return pm(e)}function X_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hr=typeof Object.is=="function"?Object.is:X_;function Au(t,e){if(Hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!j0.call(e,s)||!Hr(t[s],e[s]))return!1}return!0}function LS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DS(t,e){var n=LS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LS(n)}}function YM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qM(){for(var t=window,e=Sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sh(t.document)}return e}function Sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Z_(t){var e=qM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YM(n.ownerDocument.documentElement,n)){if(r!==null&&Sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=DS(n,i);var o=DS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e4=Hs&&"documentMode"in document&&11>=document.documentMode,Fa=null,q0=null,Jc=null,K0=!1;function PS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;K0||Fa==null||Fa!==Sh(r)||(r=Fa,"selectionStart"in r&&Sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jc&&Au(Jc,r)||(Jc=r,r=jh(q0,"onSelect"),0<r.length&&(e=new xw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fa)))}function rf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var za={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},Vg={},KM={};Hs&&(KM=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function mm(t){if(Vg[t])return Vg[t];if(!za[t])return t;var e=za[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KM)return Vg[t]=e[n];return t}var JM=mm("animationend"),QM=mm("animationiteration"),XM=mm("animationstart"),ZM=mm("transitionend"),ej=new Map,RS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(t,e){ej.set(t,e),pa(e,[t])}for(var Hg=0;Hg<RS.length;Hg++){var Wg=RS[Hg],t4=Wg.toLowerCase(),n4=Wg[0].toUpperCase()+Wg.slice(1);ro(t4,"on"+n4)}ro(JM,"onAnimationEnd");ro(QM,"onAnimationIteration");ro(XM,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(ZM,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ic));function IS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t_(r,e,void 0,t),t.currentTarget=null}function tj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;IS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;IS(s,a,c),i=l}}}if(Eh)throw t=H0,Eh=!1,H0=null,t}function We(t,e){var n=e[ev];n===void 0&&(n=e[ev]=new Set);var r=t+"__bubble";n.has(r)||(nj(e,t,2,!1),n.add(r))}function Gg(t,e,n){var r=0;e&&(r|=4),nj(n,t,r,e)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Lu(t){if(!t[sf]){t[sf]=!0,cM.forEach(function(n){n!=="selectionchange"&&(r4.has(n)||Gg(n,!1,t),Gg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sf]||(e[sf]=!0,Gg("selectionchange",!1,e))}}function nj(t,e,n,r){switch(FM(e)){case 1:var s=y_;break;case 4:s=v_;break;default:s=yw}n=s.bind(null,e,n,t),s=void 0,!V0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Lo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}TM(function(){var c=i,u=hw(n),d=[];e:{var h=ej.get(t);if(h!==void 0){var p=xw,m=t;switch(t){case"keypress":if(qf(n)===0)break e;case"keydown":case"keyup":p=D_;break;case"focusin":m="focus",p=zg;break;case"focusout":m="blur",p=zg;break;case"beforeblur":case"afterblur":p=zg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ES;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=b_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=I_;break;case JM:case QM:case XM:p=E_;break;case ZM:p=$_;break;case"scroll":p=x_;break;case"wheel":p=z_;break;case"copy":case"cut":case"paste":p=C_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=CS}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,b;w!==null;){b=w;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Cu(w,v),S!=null&&y.push(Du(w,S,b)))),x)break;w=w.return}0<y.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==B0&&(m=n.relatedTarget||n.fromElement)&&(Lo(m)||m[Ws]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Lo(m):null,m!==null&&(x=ma(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=ES,S="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=CS,S="onPointerLeave",v="onPointerEnter",w="pointer"),x=p==null?h:Ba(p),b=m==null?h:Ba(m),h=new y(S,w+"leave",p,n,u),h.target=x,h.relatedTarget=b,S=null,Lo(u)===c&&(y=new y(v,w+"enter",m,n,u),y.target=b,y.relatedTarget=x,S=y),x=S,p&&m)t:{for(y=p,v=m,w=0,b=y;b;b=Ca(b))w++;for(b=0,S=v;S;S=Ca(S))b++;for(;0<w-b;)y=Ca(y),w--;for(;0<b-w;)v=Ca(v),b--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ca(y),v=Ca(v)}y=null}else y=null;p!==null&&_S(d,h,p,y,!1),m!==null&&x!==null&&_S(d,x,m,y,!0)}}e:{if(h=c?Ba(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=Y_;else if(jS(h))if(WM)k=Q_;else{k=K_;var E=q_}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=J_);if(k&&(k=k(t,c))){HM(d,k,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&I0(h,"number",h.value)}switch(E=c?Ba(c):window,t){case"focusin":(jS(E)||E.contentEditable==="true")&&(Fa=E,q0=c,Jc=null);break;case"focusout":Jc=q0=Fa=null;break;case"mousedown":K0=!0;break;case"contextmenu":case"mouseup":case"dragend":K0=!1,PS(d,n,u);break;case"selectionchange":if(e4)break;case"keydown":case"keyup":PS(d,n,u)}var T;if(bw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else $a?UM(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(BM&&n.locale!=="ko"&&($a||C!=="onCompositionStart"?C==="onCompositionEnd"&&$a&&(T=zM()):(Mi=u,vw="value"in Mi?Mi.value:Mi.textContent,$a=!0)),E=jh(c,C),0<E.length&&(C=new TS(C,t,null,n,u),d.push({event:C,listeners:E}),T?C.data=T:(T=VM(n),T!==null&&(C.data=T)))),(T=U_?V_(t,n):H_(t,n))&&(c=jh(c,"onBeforeInput"),0<c.length&&(u=new TS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}tj(d,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cu(t,n),i!=null&&r.unshift(Du(t,i,s)),i=Cu(t,e),i!=null&&r.push(Du(t,i,s))),t=t.return}return r}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _S(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Cu(n,i),l!=null&&o.unshift(Du(n,l,a))):s||(l=Cu(n,i),l!=null&&o.push(Du(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s4=/\r\n?/g,i4=/\u0000|\uFFFD/g;function $S(t){return(typeof t=="string"?t:""+t).replace(s4,`
`).replace(i4,"")}function of(t,e,n){if(e=$S(e),$S(t)!==e&&n)throw Error(G(425))}function Oh(){}var J0=null,Q0=null;function X0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Z0=typeof setTimeout=="function"?setTimeout:void 0,o4=typeof clearTimeout=="function"?clearTimeout:void 0,FS=typeof Promise=="function"?Promise:void 0,a4=typeof queueMicrotask=="function"?queueMicrotask:typeof FS<"u"?function(t){return FS.resolve(null).then(t).catch(l4)}:Z0;function l4(t){setTimeout(function(){throw t})}function qg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ju(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ju(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),cs="__reactFiber$"+Vl,Pu="__reactProps$"+Vl,Ws="__reactContainer$"+Vl,ev="__reactEvents$"+Vl,c4="__reactListeners$"+Vl,u4="__reactHandles$"+Vl;function Lo(t){var e=t[cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ws]||n[cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zS(t);t!==null;){if(n=t[cs])return n;t=zS(t)}return e}t=n,n=t.parentNode}return null}function xd(t){return t=t[cs]||t[Ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function gm(t){return t[Pu]||null}var tv=[],Ua=-1;function so(t){return{current:t}}function Ye(t){0>Ua||(t.current=tv[Ua],tv[Ua]=null,Ua--)}function Ve(t,e){Ua++,tv[Ua]=t.current,t.current=e}var Ji={},on=so(Ji),$n=so(!1),ea=Ji;function gl(t,e){var n=t.type.contextTypes;if(!n)return Ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fn(t){return t=t.childContextTypes,t!=null}function Ah(){Ye($n),Ye(on)}function BS(t,e,n){if(on.current!==Ji)throw Error(G(168));Ve(on,e),Ve($n,n)}function rj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,qI(t)||"Unknown",s));return it({},n,r)}function Lh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,ea=on.current,Ve(on,t),Ve($n,$n.current),!0}function US(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=rj(t,e,ea),r.__reactInternalMemoizedMergedChildContext=t,Ye($n),Ye(on),Ve(on,t)):Ye($n),Ve($n,n)}var Rs=null,ym=!1,Kg=!1;function sj(t){Rs===null?Rs=[t]:Rs.push(t)}function d4(t){ym=!0,sj(t)}function io(){if(!Kg&&Rs!==null){Kg=!0;var t=0,e=$e;try{var n=Rs;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rs=null,ym=!1}catch(s){throw Rs!==null&&(Rs=Rs.slice(t+1)),jM(pw,io),s}finally{$e=e,Kg=!1}}return null}var Va=[],Ha=0,Dh=null,Ph=0,mr=[],gr=0,ta=null,Is=1,_s="";function So(t,e){Va[Ha++]=Ph,Va[Ha++]=Dh,Dh=t,Ph=e}function ij(t,e,n){mr[gr++]=Is,mr[gr++]=_s,mr[gr++]=ta,ta=t;var r=Is;t=_s;var s=32-Ur(r)-1;r&=~(1<<s),n+=1;var i=32-Ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Is=1<<32-Ur(e)+s|n<<s|r,_s=i+t}else Is=1<<i|n<<s|r,_s=t}function kw(t){t.return!==null&&(So(t,1),ij(t,1,0))}function Ew(t){for(;t===Dh;)Dh=Va[--Ha],Va[Ha]=null,Ph=Va[--Ha],Va[Ha]=null;for(;t===ta;)ta=mr[--gr],mr[gr]=null,_s=mr[--gr],mr[gr]=null,Is=mr[--gr],mr[gr]=null}var Zn=null,Qn=null,Qe=!1,Fr=null;function oj(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Qn=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ta!==null?{id:Is,overflow:_s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Qn=null,!0):!1;default:return!1}}function nv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rv(t){if(Qe){var e=Qn;if(e){var n=e;if(!VS(t,e)){if(nv(t))throw Error(G(418));e=$i(n.nextSibling);var r=Zn;e&&VS(t,e)?oj(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Zn=t)}}else{if(nv(t))throw Error(G(418));t.flags=t.flags&-4097|2,Qe=!1,Zn=t}}}function HS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function af(t){if(t!==Zn)return!1;if(!Qe)return HS(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!X0(t.type,t.memoizedProps)),e&&(e=Qn)){if(nv(t))throw aj(),Error(G(418));for(;e;)oj(t,e),e=$i(e.nextSibling)}if(HS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qn=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qn=null}}else Qn=Zn?$i(t.stateNode.nextSibling):null;return!0}function aj(){for(var t=Qn;t;)t=$i(t.nextSibling)}function yl(){Qn=Zn=null,Qe=!1}function Tw(t){Fr===null?Fr=[t]:Fr.push(t)}var f4=Qs.ReactCurrentBatchConfig;function mc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function lf(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WS(t){var e=t._init;return e(t._payload)}function lj(t){function e(v,w){if(t){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Ui(v,w),v.index=0,v.sibling=null,v}function i(v,w,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,b,S){return w===null||w.tag!==6?(w=ny(b,v.mode,S),w.return=v,w):(w=s(w,b),w.return=v,w)}function l(v,w,b,S){var k=b.type;return k===_a?u(v,w,b.props.children,S,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hi&&WS(k)===w.type)?(S=s(w,b.props),S.ref=mc(v,w,b),S.return=v,S):(S=th(b.type,b.key,b.props,null,v.mode,S),S.ref=mc(v,w,b),S.return=v,S)}function c(v,w,b,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=ry(b,v.mode,S),w.return=v,w):(w=s(w,b.children||[]),w.return=v,w)}function u(v,w,b,S,k){return w===null||w.tag!==7?(w=Wo(b,v.mode,S,k),w.return=v,w):(w=s(w,b),w.return=v,w)}function d(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ny(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jd:return b=th(w.type,w.key,w.props,null,v.mode,b),b.ref=mc(v,null,w),b.return=v,b;case Ia:return w=ry(w,v.mode,b),w.return=v,w;case hi:var S=w._init;return d(v,S(w._payload),b)}if(Pc(w)||uc(w))return w=Wo(w,v.mode,b,null),w.return=v,w;lf(v,w)}return null}function h(v,w,b,S){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(v,w,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jd:return b.key===k?l(v,w,b,S):null;case Ia:return b.key===k?c(v,w,b,S):null;case hi:return k=b._init,h(v,w,k(b._payload),S)}if(Pc(b)||uc(b))return k!==null?null:u(v,w,b,S,null);lf(v,b)}return null}function p(v,w,b,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(w,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jd:return v=v.get(S.key===null?b:S.key)||null,l(w,v,S,k);case Ia:return v=v.get(S.key===null?b:S.key)||null,c(w,v,S,k);case hi:var E=S._init;return p(v,w,b,E(S._payload),k)}if(Pc(S)||uc(S))return v=v.get(b)||null,u(w,v,S,k,null);lf(w,S)}return null}function m(v,w,b,S){for(var k=null,E=null,T=w,C=w=0,L=null;T!==null&&C<b.length;C++){T.index>C?(L=T,T=null):L=T.sibling;var M=h(v,T,b[C],S);if(M===null){T===null&&(T=L);break}t&&T&&M.alternate===null&&e(v,T),w=i(M,w,C),E===null?k=M:E.sibling=M,E=M,T=L}if(C===b.length)return n(v,T),Qe&&So(v,C),k;if(T===null){for(;C<b.length;C++)T=d(v,b[C],S),T!==null&&(w=i(T,w,C),E===null?k=T:E.sibling=T,E=T);return Qe&&So(v,C),k}for(T=r(v,T);C<b.length;C++)L=p(T,v,C,b[C],S),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?C:L.key),w=i(L,w,C),E===null?k=L:E.sibling=L,E=L);return t&&T.forEach(function(N){return e(v,N)}),Qe&&So(v,C),k}function y(v,w,b,S){var k=uc(b);if(typeof k!="function")throw Error(G(150));if(b=k.call(b),b==null)throw Error(G(151));for(var E=k=null,T=w,C=w=0,L=null,M=b.next();T!==null&&!M.done;C++,M=b.next()){T.index>C?(L=T,T=null):L=T.sibling;var N=h(v,T,M.value,S);if(N===null){T===null&&(T=L);break}t&&T&&N.alternate===null&&e(v,T),w=i(N,w,C),E===null?k=N:E.sibling=N,E=N,T=L}if(M.done)return n(v,T),Qe&&So(v,C),k;if(T===null){for(;!M.done;C++,M=b.next())M=d(v,M.value,S),M!==null&&(w=i(M,w,C),E===null?k=M:E.sibling=M,E=M);return Qe&&So(v,C),k}for(T=r(v,T);!M.done;C++,M=b.next())M=p(T,v,C,M.value,S),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?C:M.key),w=i(M,w,C),E===null?k=M:E.sibling=M,E=M);return t&&T.forEach(function(j){return e(v,j)}),Qe&&So(v,C),k}function x(v,w,b,S){if(typeof b=="object"&&b!==null&&b.type===_a&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Jd:e:{for(var k=b.key,E=w;E!==null;){if(E.key===k){if(k=b.type,k===_a){if(E.tag===7){n(v,E.sibling),w=s(E,b.props.children),w.return=v,v=w;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hi&&WS(k)===E.type){n(v,E.sibling),w=s(E,b.props),w.ref=mc(v,E,b),w.return=v,v=w;break e}n(v,E);break}else e(v,E);E=E.sibling}b.type===_a?(w=Wo(b.props.children,v.mode,S,b.key),w.return=v,v=w):(S=th(b.type,b.key,b.props,null,v.mode,S),S.ref=mc(v,w,b),S.return=v,v=S)}return o(v);case Ia:e:{for(E=b.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(v,w.sibling),w=s(w,b.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=ry(b,v.mode,S),w.return=v,v=w}return o(v);case hi:return E=b._init,x(v,w,E(b._payload),S)}if(Pc(b))return m(v,w,b,S);if(uc(b))return y(v,w,b,S);lf(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,b),w.return=v,v=w):(n(v,w),w=ny(b,v.mode,S),w.return=v,v=w),o(v)):n(v,w)}return x}var vl=lj(!0),cj=lj(!1),Rh=so(null),Ih=null,Wa=null,Cw=null;function Nw(){Cw=Wa=Ih=null}function Mw(t){var e=Rh.current;Ye(Rh),t._currentValue=e}function sv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){Ih=t,Cw=Wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Tr(t){var e=t._currentValue;if(Cw!==t)if(t={context:t,memoizedValue:e,next:null},Wa===null){if(Ih===null)throw Error(G(308));Wa=t,Ih.dependencies={lanes:0,firstContext:t}}else Wa=Wa.next=t;return e}var Do=null;function jw(t){Do===null?Do=[t]:Do.push(t)}function uj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gs(t,r)}function Gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function Ow(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gs(t,n)}return s=r.interleaved,s===null?(e.next=e,jw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gs(t,n)}function Kf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mw(t,n)}}function GS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _h(t,e,n,r){var s=t.updateQueue;pi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=it({},d,h);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ra|=o,t.lanes=o,t.memoizedState=d}}function YS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var wd={},fs=so(wd),Ru=so(wd),Iu=so(wd);function Po(t){if(t===wd)throw Error(G(174));return t}function Aw(t,e){switch(Ve(Iu,e),Ve(Ru,t),Ve(fs,wd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$0(e,t)}Ye(fs),Ve(fs,e)}function xl(){Ye(fs),Ye(Ru),Ye(Iu)}function fj(t){Po(Iu.current);var e=Po(fs.current),n=$0(e,t.type);e!==n&&(Ve(Ru,t),Ve(fs,n))}function Lw(t){Ru.current===t&&(Ye(fs),Ye(Ru))}var et=so(0);function $h(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jg=[];function Dw(){for(var t=0;t<Jg.length;t++)Jg[t]._workInProgressVersionPrimary=null;Jg.length=0}var Jf=Qs.ReactCurrentDispatcher,Qg=Qs.ReactCurrentBatchConfig,na=0,rt=null,kt=null,jt=null,Fh=!1,Qc=!1,_u=0,h4=0;function Kt(){throw Error(G(321))}function Pw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hr(t[n],e[n]))return!1;return!0}function Rw(t,e,n,r,s,i){if(na=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jf.current=t===null||t.memoizedState===null?y4:v4,t=n(r,s),Qc){i=0;do{if(Qc=!1,_u=0,25<=i)throw Error(G(301));i+=1,jt=kt=null,e.updateQueue=null,Jf.current=x4,t=n(r,s)}while(Qc)}if(Jf.current=zh,e=kt!==null&&kt.next!==null,na=0,jt=kt=rt=null,Fh=!1,e)throw Error(G(300));return t}function Iw(){var t=_u!==0;return _u=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?rt.memoizedState=jt=t:jt=jt.next=t,jt}function Cr(){if(kt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=jt===null?rt.memoizedState:jt.next;if(e!==null)jt=e,kt=t;else{if(t===null)throw Error(G(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jt===null?rt.memoizedState=jt=t:jt=jt.next=t}return jt}function $u(t,e){return typeof e=="function"?e(t):e}function Xg(t){var e=Cr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=kt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((na&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,rt.lanes|=u,ra|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Hr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,ra|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zg(t){var e=Cr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hr(i,e.memoizedState)||(_n=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function hj(){}function pj(t,e){var n=rt,r=Cr(),s=e(),i=!Hr(r.memoizedState,s);if(i&&(r.memoizedState=s,_n=!0),r=r.queue,_w(yj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Fu(9,gj.bind(null,n,r,s,e),void 0,null),Lt===null)throw Error(G(349));na&30||mj(n,e,s)}return s}function mj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gj(t,e,n,r){e.value=n,e.getSnapshot=r,vj(e)&&xj(t)}function yj(t,e,n){return n(function(){vj(e)&&xj(t)})}function vj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hr(t,n)}catch{return!0}}function xj(t){var e=Gs(t,1);e!==null&&Vr(e,t,1,-1)}function qS(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:t},e.queue=t,t=t.dispatch=g4.bind(null,rt,t),[e.memoizedState,t]}function Fu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wj(){return Cr().memoizedState}function Qf(t,e,n,r){var s=ss();rt.flags|=t,s.memoizedState=Fu(1|e,n,void 0,r===void 0?null:r)}function vm(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(kt!==null){var o=kt.memoizedState;if(i=o.destroy,r!==null&&Pw(r,o.deps)){s.memoizedState=Fu(e,n,i,r);return}}rt.flags|=t,s.memoizedState=Fu(1|e,n,i,r)}function KS(t,e){return Qf(8390656,8,t,e)}function _w(t,e){return vm(2048,8,t,e)}function bj(t,e){return vm(4,2,t,e)}function Sj(t,e){return vm(4,4,t,e)}function kj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ej(t,e,n){return n=n!=null?n.concat([t]):null,vm(4,4,kj.bind(null,e,t),n)}function $w(){}function Tj(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cj(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Nj(t,e,n){return na&21?(Hr(n,e)||(n=LM(),rt.lanes|=n,ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function p4(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Qg.transition;Qg.transition={};try{t(!1),e()}finally{$e=n,Qg.transition=r}}function Mj(){return Cr().memoizedState}function m4(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jj(t))Oj(e,n);else if(n=uj(t,e,n,r),n!==null){var s=vn();Vr(n,t,r,s),Aj(n,e,r)}}function g4(t,e,n){var r=Bi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jj(t))Oj(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hr(a,o)){var l=e.interleaved;l===null?(s.next=s,jw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=uj(t,e,s,r),n!==null&&(s=vn(),Vr(n,t,r,s),Aj(n,e,r))}}function jj(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function Oj(t,e){Qc=Fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Aj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mw(t,n)}}var zh={readContext:Tr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},y4={readContext:Tr,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:Tr,useEffect:KS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qf(4194308,4,kj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qf(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=m4.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:qS,useDebugValue:$w,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=qS(!1),e=t[0];return t=p4.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=ss();if(Qe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Lt===null)throw Error(G(349));na&30||mj(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,KS(yj.bind(null,r,i,t),[t]),r.flags|=2048,Fu(9,gj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ss(),e=Lt.identifierPrefix;if(Qe){var n=_s,r=Is;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=h4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v4={readContext:Tr,useCallback:Tj,useContext:Tr,useEffect:_w,useImperativeHandle:Ej,useInsertionEffect:bj,useLayoutEffect:Sj,useMemo:Cj,useReducer:Xg,useRef:wj,useState:function(){return Xg($u)},useDebugValue:$w,useDeferredValue:function(t){var e=Cr();return Nj(e,kt.memoizedState,t)},useTransition:function(){var t=Xg($u)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:hj,useSyncExternalStore:pj,useId:Mj,unstable_isNewReconciler:!1},x4={readContext:Tr,useCallback:Tj,useContext:Tr,useEffect:_w,useImperativeHandle:Ej,useInsertionEffect:bj,useLayoutEffect:Sj,useMemo:Cj,useReducer:Zg,useRef:wj,useState:function(){return Zg($u)},useDebugValue:$w,useDeferredValue:function(t){var e=Cr();return kt===null?e.memoizedState=t:Nj(e,kt.memoizedState,t)},useTransition:function(){var t=Zg($u)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:hj,useSyncExternalStore:pj,useId:Mj,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xm={isMounted:function(t){return(t=t._reactInternals)?ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),s=Bi(t),i=Fs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fi(t,i,s),e!==null&&(Vr(e,t,s,r),Kf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),s=Bi(t),i=Fs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fi(t,i,s),e!==null&&(Vr(e,t,s,r),Kf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=Bi(t),s=Fs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fi(t,s,r),e!==null&&(Vr(e,t,r,n),Kf(e,t,r))}};function JS(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Au(n,r)||!Au(s,i):!0}function Lj(t,e,n){var r=!1,s=Ji,i=e.contextType;return typeof i=="object"&&i!==null?i=Tr(i):(s=Fn(e)?ea:on.current,r=e.contextTypes,i=(r=r!=null)?gl(t,s):Ji),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function QS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function ov(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ow(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Tr(i):(i=Fn(e)?ea:on.current,s.context=gl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(iv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xm.enqueueReplaceState(s,s.state,null),_h(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function wl(t,e){try{var n="",r=e;do n+=YI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ey(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function av(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var w4=typeof WeakMap=="function"?WeakMap:Map;function Dj(t,e,n){n=Fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uh||(Uh=!0,yv=r),av(t,e)},n}function Pj(t,e,n){n=Fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){av(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){av(t,e),typeof r!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new w4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=P4.bind(null,t,e,n),e.then(t,t))}function ZS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ek(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fs(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var b4=Qs.ReactCurrentOwner,_n=!1;function pn(t,e,n,r){e.child=t===null?cj(e,null,n,r):vl(e,t.child,n,r)}function tk(t,e,n,r,s){n=n.render;var i=e.ref;return il(e,s),r=Rw(t,e,n,r,i,s),n=Iw(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ys(t,e,s)):(Qe&&n&&kw(e),e.flags|=1,pn(t,e,r,s),e.child)}function nk(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Gw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Rj(t,e,i,r,s)):(t=th(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Au,n(o,r)&&t.ref===e.ref)return Ys(t,e,s)}return e.flags|=1,t=Ui(i,r),t.ref=e.ref,t.return=e,e.child=t}function Rj(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Au(i,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Ys(t,e,s)}return lv(t,e,n,r,s)}function Ij(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ya,Kn),Kn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Ya,Kn),Kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(Ya,Kn),Kn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ve(Ya,Kn),Kn|=r;return pn(t,e,s,n),e.child}function _j(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lv(t,e,n,r,s){var i=Fn(n)?ea:on.current;return i=gl(e,i),il(e,s),n=Rw(t,e,n,r,i,s),r=Iw(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ys(t,e,s)):(Qe&&r&&kw(e),e.flags|=1,pn(t,e,n,s),e.child)}function rk(t,e,n,r,s){if(Fn(n)){var i=!0;Lh(e)}else i=!1;if(il(e,s),e.stateNode===null)Xf(t,e),Lj(e,n,r),ov(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tr(c):(c=Fn(n)?ea:on.current,c=gl(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&QS(e,o,r,c),pi=!1;var h=e.memoizedState;o.state=h,_h(e,r,o,s),l=e.memoizedState,a!==r||h!==l||$n.current||pi?(typeof u=="function"&&(iv(e,n,u,r),l=e.memoizedState),(a=pi||JS(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dj(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ir(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tr(l):(l=Fn(n)?ea:on.current,l=gl(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&QS(e,o,r,l),pi=!1,h=e.memoizedState,o.state=h,_h(e,r,o,s);var m=e.memoizedState;a!==d||h!==m||$n.current||pi?(typeof p=="function"&&(iv(e,n,p,r),m=e.memoizedState),(c=pi||JS(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return cv(t,e,n,r,i,s)}function cv(t,e,n,r,s,i){_j(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&US(e,n,!1),Ys(t,e,i);r=e.stateNode,b4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vl(e,t.child,null,i),e.child=vl(e,null,a,i)):pn(t,e,a,i),e.memoizedState=r.state,s&&US(e,n,!0),e.child}function $j(t){var e=t.stateNode;e.pendingContext?BS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BS(t,e.context,!1),Aw(t,e.containerInfo)}function sk(t,e,n,r,s){return yl(),Tw(s),e.flags|=256,pn(t,e,n,r),e.child}var uv={dehydrated:null,treeContext:null,retryLane:0};function dv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fj(t,e,n){var r=e.pendingProps,s=et.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(et,s&1),t===null)return rv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sm(o,r,0,null),t=Wo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=dv(n),e.memoizedState=uv,t):Fw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return S4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ui(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ui(a,i):(i=Wo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?dv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=uv,r}return i=t.child,t=i.sibling,r=Ui(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fw(t,e){return e=Sm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cf(t,e,n,r){return r!==null&&Tw(r),vl(e,t.child,null,n),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ey(Error(G(422))),cf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sm({mode:"visible",children:r.children},s,0,null),i=Wo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&vl(e,t.child,null,o),e.child.memoizedState=dv(o),e.memoizedState=uv,i);if(!(e.mode&1))return cf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=ey(i,r,void 0),cf(t,e,o,r)}if(a=(o&t.childLanes)!==0,_n||a){if(r=Lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gs(t,s),Vr(r,t,s,-1))}return Ww(),r=ey(Error(G(421))),cf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=R4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qn=$i(s.nextSibling),Zn=e,Qe=!0,Fr=null,t!==null&&(mr[gr++]=Is,mr[gr++]=_s,mr[gr++]=ta,Is=t.id,_s=t.overflow,ta=e),e=Fw(e,r.children),e.flags|=4096,e)}function ik(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sv(t.return,e,n)}function ty(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zj(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ik(t,n,e);else if(t.tag===19)ik(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$h(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ty(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$h(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ty(e,!0,n,null,i);break;case"together":ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k4(t,e,n){switch(e.tag){case 3:$j(e),yl();break;case 5:fj(e);break;case 1:Fn(e.type)&&Lh(e);break;case 4:Aw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(Rh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?Fj(t,e,n):(Ve(et,et.current&1),t=Ys(t,e,n),t!==null?t.sibling:null);Ve(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,Ij(t,e,n)}return Ys(t,e,n)}var Bj,fv,Uj,Vj;Bj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fv=function(){};Uj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Po(fs.current);var i=null;switch(n){case"input":s=P0(t,s),r=P0(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=_0(t,s),r=_0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Oh)}F0(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&We("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Vj=function(t,e,n,r){n!==r&&(e.flags|=4)};function gc(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E4(t,e,n){var r=e.pendingProps;switch(Ew(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Fn(e.type)&&Ah(),Jt(e),null;case 3:return r=e.stateNode,xl(),Ye($n),Ye(on),Dw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fr!==null&&(wv(Fr),Fr=null))),fv(t,e),Jt(e),null;case 5:Lw(e);var s=Po(Iu.current);if(n=e.type,t!==null&&e.stateNode!=null)Uj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Jt(e),null}if(t=Po(fs.current),af(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cs]=e,r[Pu]=i,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(s=0;s<Ic.length;s++)We(Ic[s],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":pS(r,i),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},We("invalid",r);break;case"textarea":gS(r,i),We("invalid",r)}F0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&of(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&of(r.textContent,a,t),s=["children",""+a]):Eu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":Qd(r),mS(r,i,!0);break;case"textarea":Qd(r),yS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Oh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cs]=e,t[Pu]=r,Bj(t,e,!1,!1),e.stateNode=t;e:{switch(o=z0(n,r),n){case"dialog":We("cancel",t),We("close",t),s=r;break;case"iframe":case"object":case"embed":We("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ic.length;s++)We(Ic[s],t);s=r;break;case"source":We("error",t),s=r;break;case"img":case"image":case"link":We("error",t),We("load",t),s=r;break;case"details":We("toggle",t),s=r;break;case"input":pS(t,r),s=P0(t,r),We("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),We("invalid",t);break;case"textarea":gS(t,r),s=_0(t,r),We("invalid",t);break;default:s=r}F0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?wM(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vM(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tu(t,l):typeof l=="number"&&Tu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&We("scroll",t):l!=null&&cw(t,i,l,o))}switch(n){case"input":Qd(t),mS(t,r,!1);break;case"textarea":Qd(t),yS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?tl(t,!!r.multiple,i,!1):r.defaultValue!=null&&tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)Vj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Po(Iu.current),Po(fs.current),af(e)){if(r=e.stateNode,n=e.memoizedProps,r[cs]=e,(i=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:of(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&of(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cs]=e,e.stateNode=r}return Jt(e),null;case 13:if(Ye(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Qn!==null&&e.mode&1&&!(e.flags&128))aj(),yl(),e.flags|=98560,i=!1;else if(i=af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[cs]=e}else yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else Fr!==null&&(wv(Fr),Fr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?Nt===0&&(Nt=3):Ww())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return xl(),fv(t,e),t===null&&Lu(e.stateNode.containerInfo),Jt(e),null;case 10:return Mw(e.type._context),Jt(e),null;case 17:return Fn(e.type)&&Ah(),Jt(e),null;case 19:if(Ye(et),i=e.memoizedState,i===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)gc(i,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$h(t),o!==null){for(e.flags|=128,gc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(et,et.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>bl&&(e.flags|=128,r=!0,gc(i,!1),e.lanes=4194304)}else{if(!r)if(t=$h(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Jt(e),null}else 2*ft()-i.renderingStartTime>bl&&n!==1073741824&&(e.flags|=128,r=!0,gc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=et.current,Ve(et,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return Hw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function T4(t,e){switch(Ew(e),e.tag){case 1:return Fn(e.type)&&Ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xl(),Ye($n),Ye(on),Dw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lw(e),null;case 13:if(Ye(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(et),null;case 4:return xl(),null;case 10:return Mw(e.type._context),null;case 22:case 23:return Hw(),null;case 24:return null;default:return null}}var uf=!1,Zt=!1,C4=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){lt(t,e,r)}}var ok=!1;function N4(t,e){if(J0=Nh,t=qM(),Sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Q0={focusedElem:t,selectionRange:n},Nh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ir(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){lt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return m=ok,ok=!1,m}function Xc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&hv(e,n,i)}s=s.next}while(s!==r)}}function wm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hj(t){var e=t.alternate;e!==null&&(t.alternate=null,Hj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[Pu],delete e[ev],delete e[c4],delete e[u4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wj(t){return t.tag===5||t.tag===3||t.tag===4}function ak(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oh));else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}function gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gv(t,e,n),t=t.sibling;t!==null;)gv(t,e,n),t=t.sibling}var Ft=null,_r=!1;function oi(t,e,n){for(n=n.child;n!==null;)Gj(t,e,n),n=n.sibling}function Gj(t,e,n){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(fm,n)}catch{}switch(n.tag){case 5:Zt||Ga(n,e);case 6:var r=Ft,s=_r;Ft=null,oi(t,e,n),Ft=r,_r=s,Ft!==null&&(_r?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(_r?(t=Ft,n=n.stateNode,t.nodeType===8?qg(t.parentNode,n):t.nodeType===1&&qg(t,n),ju(t)):qg(Ft,n.stateNode));break;case 4:r=Ft,s=_r,Ft=n.stateNode.containerInfo,_r=!0,oi(t,e,n),Ft=r,_r=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hv(n,e,o),s=s.next}while(s!==r)}oi(t,e,n);break;case 1:if(!Zt&&(Ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,oi(t,e,n),Zt=r):oi(t,e,n);break;default:oi(t,e,n)}}function lk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C4),e.forEach(function(r){var s=I4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,_r=!1;break e;case 3:Ft=a.stateNode.containerInfo,_r=!0;break e;case 4:Ft=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(Ft===null)throw Error(G(160));Gj(i,o,s),Ft=null,_r=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){lt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yj(e,t),e=e.sibling}function Yj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(e,t),ns(t),r&4){try{Xc(3,t,t.return),wm(3,t)}catch(y){lt(t,t.return,y)}try{Xc(5,t,t.return)}catch(y){lt(t,t.return,y)}}break;case 1:Ar(e,t),ns(t),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(Ar(e,t),ns(t),r&512&&n!==null&&Ga(n,n.return),t.flags&32){var s=t.stateNode;try{Tu(s,"")}catch(y){lt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&mM(s,i),z0(a,o);var c=z0(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?wM(s,d):u==="dangerouslySetInnerHTML"?vM(s,d):u==="children"?Tu(s,d):cw(s,u,d,c)}switch(a){case"input":R0(s,i);break;case"textarea":gM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?tl(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?tl(s,!!i.multiple,i.defaultValue,!0):tl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pu]=i}catch(y){lt(t,t.return,y)}}break;case 6:if(Ar(e,t),ns(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){lt(t,t.return,y)}}break;case 3:if(Ar(e,t),ns(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ju(e.containerInfo)}catch(y){lt(t,t.return,y)}break;case 4:Ar(e,t),ns(t);break;case 13:Ar(e,t),ns(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uw=ft())),r&4&&lk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(c=Zt)||u,Ar(e,t),Zt=c):Ar(e,t),ns(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(d=ne=u;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xc(4,h,h.return);break;case 1:Ga(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){lt(r,n,y)}}break;case 5:Ga(h,h.return);break;case 22:if(h.memoizedState!==null){uk(d);continue}}p!==null?(p.return=h,ne=p):uk(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xM("display",o))}catch(y){lt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){lt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ar(e,t),ns(t),r&4&&lk(t);break;case 21:break;default:Ar(e,t),ns(t)}}function ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wj(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Tu(s,""),r.flags&=-33);var i=ak(t);gv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ak(t);mv(t,a,o);break;default:throw Error(G(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M4(t,e,n){ne=t,qj(t)}function qj(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||uf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Zt;a=uf;var c=Zt;if(uf=o,(Zt=l)&&!c)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?dk(s):l!==null?(l.return=o,ne=l):dk(s);for(;i!==null;)ne=i,qj(i),i=i.sibling;ne=s,uf=a,Zt=c}ck(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):ck(t)}}function ck(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||wm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&YS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ju(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Zt||e.flags&512&&pv(e)}catch(h){lt(e,e.return,h)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function uk(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function dk(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wm(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){lt(e,s,l)}}var i=e.return;try{pv(e)}catch(l){lt(e,i,l)}break;case 5:var o=e.return;try{pv(e)}catch(l){lt(e,o,l)}}}catch(l){lt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var j4=Math.ceil,Bh=Qs.ReactCurrentDispatcher,zw=Qs.ReactCurrentOwner,br=Qs.ReactCurrentBatchConfig,Ae=0,Lt=null,vt=null,Ht=0,Kn=0,Ya=so(0),Nt=0,zu=null,ra=0,bm=0,Bw=0,Zc=null,Dn=null,Uw=0,bl=1/0,Ds=null,Uh=!1,yv=null,zi=null,df=!1,ji=null,Vh=0,eu=0,vv=null,Zf=-1,eh=0;function vn(){return Ae&6?ft():Zf!==-1?Zf:Zf=ft()}function Bi(t){return t.mode&1?Ae&2&&Ht!==0?Ht&-Ht:f4.transition!==null?(eh===0&&(eh=LM()),eh):(t=$e,t!==0||(t=window.event,t=t===void 0?16:FM(t.type)),t):1}function Vr(t,e,n,r){if(50<eu)throw eu=0,vv=null,Error(G(185));yd(t,n,r),(!(Ae&2)||t!==Lt)&&(t===Lt&&(!(Ae&2)&&(bm|=n),Nt===4&&Si(t,Ht)),zn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(bl=ft()+500,ym&&io()))}function zn(t,e){var n=t.callbackNode;f_(t,e);var r=Ch(t,t===Lt?Ht:0);if(r===0)n!==null&&wS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wS(n),e===1)t.tag===0?d4(fk.bind(null,t)):sj(fk.bind(null,t)),a4(function(){!(Ae&6)&&io()}),n=null;else{switch(DM(r)){case 1:n=pw;break;case 4:n=OM;break;case 16:n=Th;break;case 536870912:n=AM;break;default:n=Th}n=n2(n,Kj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kj(t,e){if(Zf=-1,eh=0,Ae&6)throw Error(G(327));var n=t.callbackNode;if(ol()&&t.callbackNode!==n)return null;var r=Ch(t,t===Lt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hh(t,r);else{e=r;var s=Ae;Ae|=2;var i=Qj();(Lt!==t||Ht!==e)&&(Ds=null,bl=ft()+500,Ho(t,e));do try{L4();break}catch(a){Jj(t,a)}while(!0);Nw(),Bh.current=i,Ae=s,vt!==null?e=0:(Lt=null,Ht=0,e=Nt)}if(e!==0){if(e===2&&(s=W0(t),s!==0&&(r=s,e=xv(t,s))),e===1)throw n=zu,Ho(t,0),Si(t,r),zn(t,ft()),n;if(e===6)Si(t,r);else{if(s=t.current.alternate,!(r&30)&&!O4(s)&&(e=Hh(t,r),e===2&&(i=W0(t),i!==0&&(r=i,e=xv(t,i))),e===1))throw n=zu,Ho(t,0),Si(t,r),zn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ko(t,Dn,Ds);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=Uw+500-ft(),10<e)){if(Ch(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Z0(ko.bind(null,t,Dn,Ds),e);break}ko(t,Dn,Ds);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j4(r/1960))-r,10<r){t.timeoutHandle=Z0(ko.bind(null,t,Dn,Ds),r);break}ko(t,Dn,Ds);break;case 5:ko(t,Dn,Ds);break;default:throw Error(G(329))}}}return zn(t,ft()),t.callbackNode===n?Kj.bind(null,t):null}function xv(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=Hh(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&wv(e)),t}function wv(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function O4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~Bw,e&=~bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function fk(t){if(Ae&6)throw Error(G(327));ol();var e=Ch(t,0);if(!(e&1))return zn(t,ft()),null;var n=Hh(t,e);if(t.tag!==0&&n===2){var r=W0(t);r!==0&&(e=r,n=xv(t,r))}if(n===1)throw n=zu,Ho(t,0),Si(t,e),zn(t,ft()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,Dn,Ds),zn(t,ft()),null}function Vw(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(bl=ft()+500,ym&&io())}}function sa(t){ji!==null&&ji.tag===0&&!(Ae&6)&&ol();var e=Ae;Ae|=1;var n=br.transition,r=$e;try{if(br.transition=null,$e=1,t)return t()}finally{$e=r,br.transition=n,Ae=e,!(Ae&6)&&io()}}function Hw(){Kn=Ya.current,Ye(Ya)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,o4(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Ew(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ah();break;case 3:xl(),Ye($n),Ye(on),Dw();break;case 5:Lw(r);break;case 4:xl();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:Mw(r.type._context);break;case 22:case 23:Hw()}n=n.return}if(Lt=t,vt=t=Ui(t.current,null),Ht=Kn=e,Nt=0,zu=null,Bw=bm=ra=0,Dn=Zc=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Do=null}return t}function Jj(t,e){do{var n=vt;try{if(Nw(),Jf.current=zh,Fh){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fh=!1}if(na=0,jt=kt=rt=null,Qc=!1,_u=0,zw.current=null,n===null||n.return===null){Nt=1,zu=e,vt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ZS(o);if(p!==null){p.flags&=-257,ek(p,o,a,i,e),p.mode&1&&XS(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){XS(i,c,e),Ww();break e}l=Error(G(426))}}else if(Qe&&a.mode&1){var x=ZS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ek(x,o,a,i,e),Tw(wl(l,a));break e}}i=l=wl(l,a),Nt!==4&&(Nt=2),Zc===null?Zc=[i]:Zc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Dj(i,l,e);GS(i,v);break e;case 1:a=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zi===null||!zi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Pj(i,a,e);GS(i,S);break e}}i=i.return}while(i!==null)}Zj(n)}catch(k){e=k,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function Qj(){var t=Bh.current;return Bh.current=zh,t===null?zh:t}function Ww(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Lt===null||!(ra&268435455)&&!(bm&268435455)||Si(Lt,Ht)}function Hh(t,e){var n=Ae;Ae|=2;var r=Qj();(Lt!==t||Ht!==e)&&(Ds=null,Ho(t,e));do try{A4();break}catch(s){Jj(t,s)}while(!0);if(Nw(),Ae=n,Bh.current=r,vt!==null)throw Error(G(261));return Lt=null,Ht=0,Nt}function A4(){for(;vt!==null;)Xj(vt)}function L4(){for(;vt!==null&&!r_();)Xj(vt)}function Xj(t){var e=t2(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,e===null?Zj(t):vt=e,zw.current=null}function Zj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T4(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,vt=null;return}}else if(n=E4(n,e,Kn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Nt===0&&(Nt=5)}function ko(t,e,n){var r=$e,s=br.transition;try{br.transition=null,$e=1,D4(t,e,n,r)}finally{br.transition=s,$e=r}return null}function D4(t,e,n,r){do ol();while(ji!==null);if(Ae&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(h_(t,i),t===Lt&&(vt=Lt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||df||(df=!0,n2(Th,function(){return ol(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=br.transition,br.transition=null;var o=$e;$e=1;var a=Ae;Ae|=4,zw.current=null,N4(t,n),Yj(n,t),Z_(Q0),Nh=!!J0,Q0=J0=null,t.current=n,M4(n),s_(),Ae=a,$e=o,br.transition=i}else t.current=n;if(df&&(df=!1,ji=t,Vh=s),i=t.pendingLanes,i===0&&(zi=null),a_(n.stateNode),zn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uh)throw Uh=!1,t=yv,yv=null,t;return Vh&1&&t.tag!==0&&ol(),i=t.pendingLanes,i&1?t===vv?eu++:(eu=0,vv=t):eu=0,io(),null}function ol(){if(ji!==null){var t=DM(Vh),e=br.transition,n=$e;try{if(br.transition=null,$e=16>t?16:t,ji===null)var r=!1;else{if(t=ji,ji=null,Vh=0,Ae&6)throw Error(G(331));var s=Ae;for(Ae|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:Xc(8,u,i)}var d=u.child;if(d!==null)d.return=u,ne=d;else for(;ne!==null;){u=ne;var h=u.sibling,p=u.return;if(Hj(u),u===c){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ne=v;break e}ne=i.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ne=b;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wm(9,a)}}catch(k){lt(a,a.return,k)}if(a===o){ne=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ne=S;break e}ne=a.return}}if(Ae=s,io(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(fm,t)}catch{}r=!0}return r}finally{$e=n,br.transition=e}}return!1}function hk(t,e,n){e=wl(n,e),e=Dj(t,e,1),t=Fi(t,e,1),e=vn(),t!==null&&(yd(t,1,e),zn(t,e))}function lt(t,e,n){if(t.tag===3)hk(t,t,n);else for(;e!==null;){if(e.tag===3){hk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zi===null||!zi.has(r))){t=wl(n,t),t=Pj(e,t,1),e=Fi(e,t,1),t=vn(),e!==null&&(yd(e,1,t),zn(e,t));break}}e=e.return}}function P4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Ht&n)===n&&(Nt===4||Nt===3&&(Ht&130023424)===Ht&&500>ft()-Uw?Ho(t,0):Bw|=n),zn(t,e)}function e2(t,e){e===0&&(t.mode&1?(e=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):e=1);var n=vn();t=Gs(t,e),t!==null&&(yd(t,e,n),zn(t,n))}function R4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),e2(t,n)}function I4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),e2(t,n)}var t2;t2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,k4(t,e,n);_n=!!(t.flags&131072)}else _n=!1,Qe&&e.flags&1048576&&ij(e,Ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xf(t,e),t=e.pendingProps;var s=gl(e,on.current);il(e,n),s=Rw(null,e,r,t,s,n);var i=Iw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(i=!0,Lh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ow(e),s.updater=xm,e.stateNode=s,s._reactInternals=e,ov(e,r,t,n),e=cv(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&kw(e),pn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=$4(r),t=Ir(r,t),s){case 0:e=lv(null,e,r,t,n);break e;case 1:e=rk(null,e,r,t,n);break e;case 11:e=tk(null,e,r,t,n);break e;case 14:e=nk(null,e,r,Ir(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),lv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),rk(t,e,r,s,n);case 3:e:{if($j(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dj(t,e),_h(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=wl(Error(G(423)),e),e=sk(t,e,r,n,s);break e}else if(r!==s){s=wl(Error(G(424)),e),e=sk(t,e,r,n,s);break e}else for(Qn=$i(e.stateNode.containerInfo.firstChild),Zn=e,Qe=!0,Fr=null,n=cj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yl(),r===s){e=Ys(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return fj(e),t===null&&rv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,X0(r,s)?o=null:i!==null&&X0(r,i)&&(e.flags|=32),_j(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&rv(e),null;case 13:return Fj(t,e,n);case 4:return Aw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vl(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),tk(t,e,r,s,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(Rh,r._currentValue),r._currentValue=o,i!==null)if(Hr(i.value,o)){if(i.children===s.children&&!$n.current){e=Ys(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Fs(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,il(e,n),s=Tr(s),r=r(s),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,s=Ir(r,e.pendingProps),s=Ir(r.type,s),nk(t,e,r,s,n);case 15:return Rj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),Xf(t,e),e.tag=1,Fn(r)?(t=!0,Lh(e)):t=!1,il(e,n),Lj(e,r,s),ov(e,r,s,n),cv(null,e,r,!0,t,n);case 19:return zj(t,e,n);case 22:return Ij(t,e,n)}throw Error(G(156,e.tag))};function n2(t,e){return jM(t,e)}function _4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new _4(t,e,n,r)}function Gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $4(t){if(typeof t=="function")return Gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dw)return 11;if(t===fw)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function th(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Gw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return Wo(n.children,s,i,e);case uw:o=8,s|=8;break;case O0:return t=xr(12,n,e,s|2),t.elementType=O0,t.lanes=i,t;case A0:return t=xr(13,n,e,s),t.elementType=A0,t.lanes=i,t;case L0:return t=xr(19,n,e,s),t.elementType=L0,t.lanes=i,t;case fM:return Sm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uM:o=10;break e;case dM:o=9;break e;case dw:o=11;break e;case fw:o=14;break e;case hi:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=xr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Wo(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function Sm(t,e,n,r){return t=xr(22,t,r,e),t.elementType=fM,t.lanes=n,t.stateNode={isHidden:!1},t}function ny(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function ry(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yw(t,e,n,r,s,i,o,a,l){return t=new F4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ow(i),t}function z4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function r2(t){if(!t)return Ji;t=t._reactInternals;e:{if(ma(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Fn(n))return rj(t,n,e)}return e}function s2(t,e,n,r,s,i,o,a,l){return t=Yw(n,r,!0,t,s,i,o,a,l),t.context=r2(null),n=t.current,r=vn(),s=Bi(n),i=Fs(r,s),i.callback=e??null,Fi(n,i,s),t.current.lanes=s,yd(t,s,r),zn(t,r),t}function km(t,e,n,r){var s=e.current,i=vn(),o=Bi(s);return n=r2(n),e.context===null?e.context=n:e.pendingContext=n,e=Fs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(s,e,o),t!==null&&(Vr(t,s,o,i),Kf(t,s,o)),o}function Wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qw(t,e){pk(t,e),(t=t.alternate)&&pk(t,e)}function B4(){return null}var i2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kw(t){this._internalRoot=t}Em.prototype.render=Kw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));km(t,e,null,null)};Em.prototype.unmount=Kw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){km(null,t,null,null)}),e[Ws]=null}};function Em(t){this._internalRoot=t}Em.prototype.unstable_scheduleHydration=function(t){if(t){var e=IM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&$M(t)}};function Jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mk(){}function U4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Wh(o);i.call(c)}}var o=s2(e,r,t,0,null,!1,!1,"",mk);return t._reactRootContainer=o,t[Ws]=o.current,Lu(t.nodeType===8?t.parentNode:t),sa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Wh(l);a.call(c)}}var l=Yw(t,0,!1,null,null,!1,!1,"",mk);return t._reactRootContainer=l,t[Ws]=l.current,Lu(t.nodeType===8?t.parentNode:t),sa(function(){km(e,l,n,r)}),l}function Cm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wh(o);a.call(l)}}km(e,o,t,s)}else o=U4(n,e,t,s,r);return Wh(o)}PM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rc(e.pendingLanes);n!==0&&(mw(e,n|1),zn(e,ft()),!(Ae&6)&&(bl=ft()+500,io()))}break;case 13:sa(function(){var r=Gs(t,1);if(r!==null){var s=vn();Vr(r,t,1,s)}}),qw(t,1)}};gw=function(t){if(t.tag===13){var e=Gs(t,134217728);if(e!==null){var n=vn();Vr(e,t,134217728,n)}qw(t,134217728)}};RM=function(t){if(t.tag===13){var e=Bi(t),n=Gs(t,e);if(n!==null){var r=vn();Vr(n,t,e,r)}qw(t,e)}};IM=function(){return $e};_M=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};U0=function(t,e,n){switch(e){case"input":if(R0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gm(r);if(!s)throw Error(G(90));pM(r),R0(r,s)}}}break;case"textarea":gM(t,n);break;case"select":e=n.value,e!=null&&tl(t,!!n.multiple,e,!1)}};kM=Vw;EM=sa;var V4={usingClientEntryPoint:!1,Events:[xd,Ba,gm,bM,SM,Vw]},yc={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H4={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=NM(t),t===null?null:t.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||B4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{fm=ff.inject(H4),ds=ff}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V4;sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(e))throw Error(G(200));return z4(t,e,null,n)};sr.createRoot=function(t,e){if(!Jw(t))throw Error(G(299));var n=!1,r="",s=i2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yw(t,1,!1,null,null,n,!1,r,s),t[Ws]=e.current,Lu(t.nodeType===8?t.parentNode:t),new Kw(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=NM(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return sa(t)};sr.hydrate=function(t,e,n){if(!Tm(e))throw Error(G(200));return Cm(null,t,e,!0,n)};sr.hydrateRoot=function(t,e,n){if(!Jw(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=i2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=s2(e,null,t,1,n??null,s,!1,i,o),t[Ws]=e.current,Lu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Em(e)};sr.render=function(t,e,n){if(!Tm(e))throw Error(G(200));return Cm(null,t,e,!1,n)};sr.unmountComponentAtNode=function(t){if(!Tm(t))throw Error(G(40));return t._reactRootContainer?(sa(function(){Cm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ws]=null})}),!0):!1};sr.unstable_batchedUpdates=Vw;sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tm(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Cm(t,e,n,!1,r)};sr.version="18.3.1-next-f1338f8080-20240426";function o2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o2)}catch(t){console.error(t)}}o2(),oM.exports=sr;var xt=oM.exports;const W4=nw(xt);var a2,gk=xt;a2=gk.createRoot,gk.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const yk="popstate";function G4(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=ga(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),bv("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Gh(i))}function r(s,i){Qw(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return q4(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y4(){return Math.random().toString(36).substr(2,8)}function vk(t,e){return{usr:t.state,key:t.key,idx:e}}function bv(t,e,n,r){return n===void 0&&(n=null),Bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ga(e):e,{state:n,key:e&&e.key||r||Y4()})}function Gh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function q4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Oi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Bu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Oi.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:v})}function h(x,v){a=Oi.Push;let w=bv(y.location,x,v);n&&n(w,x),c=u()+1;let b=vk(w,c),S=y.createHref(w);try{o.pushState(b,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:a,location:y.location,delta:1})}function p(x,v){a=Oi.Replace;let w=bv(y.location,x,v);n&&n(w,x),c=u();let b=vk(w,c),S=y.createHref(w);o.replaceState(b,"",S),i&&l&&l({action:a,location:y.location,delta:0})}function m(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:Gh(x);return w=w.replace(/ $/,"%20"),st(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(yk,d),l=x,()=>{s.removeEventListener(yk,d),l=null}},createHref(x){return e(s,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return y}var xk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xk||(xk={}));function K4(t,e,n){return n===void 0&&(n="/"),J4(t,e,n,!1)}function J4(t,e,n,r){let s=typeof e=="string"?ga(e):e,i=Sl(s.pathname||"/",n);if(i==null)return null;let o=l2(t);Q4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=l3(i);a=o3(o[l],c,r)}return a}function l2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Vi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),l2(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:s3(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of c2(i.path))s(i,o,l)}),e}function c2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=c2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Q4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const X4=/^:[\w-]+$/,Z4=3,e3=2,t3=1,n3=10,r3=-2,wk=t=>t==="*";function s3(t,e){let n=t.split("/"),r=n.length;return n.some(wk)&&(r+=r3),e&&(r+=e3),n.filter(s=>!wk(s)).reduce((s,i)=>s+(X4.test(i)?Z4:i===""?t3:n3),r)}function i3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function o3(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Yh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Yh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Vi([i,d.pathname]),pathnameBase:f3(Vi([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Vi([i,d.pathnameBase]))}return o}function Yh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function a3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function l3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:u3(n,e):e,search:h3(r),hash:p3(s)}}function u3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xw(t,e){let n=d3(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ga(t):(s=Bu({},t),st(!s.pathname||!s.pathname.includes("?"),sy("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),sy("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),sy("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=c3(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vi=t=>t.join("/").replace(/\/\/+/g,"/"),f3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u2=["post","put","patch","delete"];new Set(u2);const g3=["get",...u2];new Set(g3);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}const Nm=g.createContext(null),d2=g.createContext(null),Xs=g.createContext(null),Mm=g.createContext(null),Zs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),f2=g.createContext(null);function y3(t,e){let{relative:n}=e===void 0?{}:e;Hl()||st(!1);let{basename:r,navigator:s}=g.useContext(Xs),{hash:i,pathname:o,search:a}=jm(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Vi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Hl(){return g.useContext(Mm)!=null}function oo(){return Hl()||st(!1),g.useContext(Mm).location}function h2(t){g.useContext(Xs).static||g.useLayoutEffect(t)}function ws(){let{isDataRoute:t}=g.useContext(Zs);return t?A3():v3()}function v3(){Hl()||st(!1);let t=g.useContext(Nm),{basename:e,future:n,navigator:r}=g.useContext(Xs),{matches:s}=g.useContext(Zs),{pathname:i}=oo(),o=JSON.stringify(Xw(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return h2(()=>{a.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Zw(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Vi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function x3(){let{matches:t}=g.useContext(Zs),e=t[t.length-1];return e?e.params:{}}function jm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Xs),{matches:s}=g.useContext(Zs),{pathname:i}=oo(),o=JSON.stringify(Xw(s,r.v7_relativeSplatPath));return g.useMemo(()=>Zw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function w3(t,e){return b3(t,e)}function b3(t,e,n,r){Hl()||st(!1);let{navigator:s}=g.useContext(Xs),{matches:i}=g.useContext(Zs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=oo(),u;if(e){var d;let x=typeof e=="string"?ga(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||st(!1),u=x}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=K4(t,{pathname:p}),y=C3(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Vi([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Vi([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&y?g.createElement(Mm.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oi.Pop}},y):y}function S3(){let t=O3(),e=m3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const k3=g.createElement(S3,null);class E3 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Zs.Provider,{value:this.props.routeContext},g.createElement(f2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T3(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Nm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Zs.Provider,{value:e},r)}function C3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||st(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,y=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||k3,l&&(c<0&&h===0?(m=!0,x=null):c===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),w=()=>{let b;return p?b=y:m?b=x:d.route.Component?b=g.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,g.createElement(T3,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(E3,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var p2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p2||{}),qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qh||{});function N3(t){let e=g.useContext(Nm);return e||st(!1),e}function M3(t){let e=g.useContext(d2);return e||st(!1),e}function j3(t){let e=g.useContext(Zs);return e||st(!1),e}function m2(t){let e=j3(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function O3(){var t;let e=g.useContext(f2),n=M3(qh.UseRouteError),r=m2(qh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function A3(){let{router:t}=N3(p2.UseNavigateStable),e=m2(qh.UseNavigateStable),n=g.useRef(!1);return h2(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Uu({fromRouteId:e},i)))},[t,e])}const bk={};function L3(t,e){bk[e]||(bk[e]=!0,console.warn(e))}const Sk=(t,e,n)=>L3(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function D3(t,e){t!=null&&t.v7_startTransition||Sk("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Sk("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Kh(t){let{to:e,replace:n,state:r,relative:s}=t;Hl()||st(!1);let{future:i,static:o}=g.useContext(Xs),{matches:a}=g.useContext(Zs),{pathname:l}=oo(),c=ws(),u=Zw(e,Xw(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return g.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function Ro(t){st(!1)}function P3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Oi.Pop,navigator:i,static:o=!1,future:a}=t;Hl()&&st(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Uu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ga(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,y=g.useMemo(()=>{let x=Sl(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:m},navigationType:s}},[l,u,d,h,p,m,s]);return y==null?null:g.createElement(Xs.Provider,{value:c},g.createElement(Mm.Provider,{children:n,value:y}))}function g2(t){let{children:e,location:n}=t;return w3(Sv(e),n)}new Promise(()=>{});function Sv(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Sv(r.props.children,i));return}r.type!==Ro&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}function y2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function R3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I3(t,e){return t.button===0&&(!e||e==="_self")&&!R3(t)}const _3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],F3="6";try{window.__reactRouterVersion=F3}catch{}const z3=g.createContext({isTransitioning:!1}),B3="startTransition",kk=bh[B3];function U3(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=G4({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=g.useCallback(d=>{c&&kk?kk(()=>l(d)):l(d)},[l,c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>D3(r),[r]),g.createElement(P3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const V3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W3=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=y2(e,_3),{basename:p}=g.useContext(Xs),m,y=!1;if(typeof c=="string"&&H3.test(c)&&(m=c,V3))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),k=Sl(S.pathname,p);S.origin===b.origin&&k!=null?c=k+S.search+S.hash:y=!0}catch{}let x=y3(c,{relative:s}),v=q3(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function w(b){r&&r(b),b.defaultPrevented||v(b)}return g.createElement("a",Jh({},h,{href:m||x,onClick:y||i?r:w,ref:n,target:l}))}),G3=g.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=y2(e,$3),h=jm(l,{relative:d.relative}),p=oo(),m=g.useContext(d2),{navigator:y,basename:x}=g.useContext(Xs),v=m!=null&&K3(h)&&c===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,b=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=Sl(S,x)||S);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let E=b===w||!o&&b.startsWith(w)&&b.charAt(k)==="/",T=S!=null&&(S===w||!o&&S.startsWith(w)&&S.charAt(w.length)==="/"),C={isActive:E,isPending:T,isTransitioning:v},L=E?r:void 0,M;typeof i=="function"?M=i(C):M=[i,E?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(C):a;return g.createElement(W3,Jh({},d,{"aria-current":L,className:M,ref:n,style:N,to:l,viewTransition:c}),typeof u=="function"?u(C):u)});var kv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kv||(kv={}));var Ek;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ek||(Ek={}));function Y3(t){let e=g.useContext(Nm);return e||st(!1),e}function q3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ws(),c=oo(),u=jm(t,{relative:o});return g.useCallback(d=>{if(I3(d,n)){d.preventDefault();let h=r!==void 0?r:Gh(c)===Gh(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function K3(t,e){e===void 0&&(e={});let n=g.useContext(z3);n==null&&st(!1);let{basename:r}=Y3(kv.useViewTransitionState),s=jm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Sl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Sl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yh(s.pathname,o)!=null||Yh(s.pathname,i)!=null}let J3={data:""},Q3=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||J3,X3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Z3=/\/\*[^]*?\*\/|  +/g,Tk=/\n+/g,ki=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?ki(o,i):i+"{"+ki(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=ki(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ki.p?ki.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Ms={},v2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+v2(t[n]);return e}return t},e$=(t,e,n,r,s)=>{let i=v2(t),o=Ms[i]||(Ms[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Ms[o]){let l=i!==t?t:(c=>{let u,d,h=[{}];for(;u=X3.exec(c.replace(Z3,""));)u[4]?h.shift():u[3]?(d=u[3].replace(Tk," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(Tk," ").trim();return h[0]})(t);Ms[o]=ki(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Ms.g?Ms.g:null;return n&&(Ms.g=Ms[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Ms[o],e,r,a),o},t$=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ki(a,""):a===!1?"":a}return r+s+(o??"")},"");function Om(t){let e=this||{},n=t.call?t(e.p):t;return e$(n.unshift?n.raw?t$(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,Q3(e.target),e.g,e.o,e.k)}let x2,Ev,Tv;Om.bind({g:1});let qs=Om.bind({k:1});function n$(t,e,n,r){ki.p=e,x2=t,Ev=n,Tv=r}function ao(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Ev&&Ev()},a),n.o=/ *go\d+/.test(l),a.className=Om.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Tv&&c[0]&&Tv(a),x2(c,a)}return s}}var r$=t=>typeof t=="function",Qh=(t,e)=>r$(t)?t(e):t,s$=(()=>{let t=0;return()=>(++t).toString()})(),w2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),i$=20,nh=new Map,o$=1e3,Ck=t=>{if(nh.has(t))return;let e=setTimeout(()=>{nh.delete(t),ya({type:4,toastId:t})},o$);nh.set(t,e)},a$=t=>{let e=nh.get(t);e&&clearTimeout(e)},Cv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,i$)};case 1:return e.toast.id&&a$(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?Cv(t,{type:1,toast:n}):Cv(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Ck(r):t.toasts.forEach(i=>{Ck(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},rh=[],sh={toasts:[],pausedAt:void 0},ya=t=>{sh=Cv(sh,t),rh.forEach(e=>{e(sh)})},l$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},c$=(t={})=>{let[e,n]=g.useState(sh);g.useEffect(()=>(rh.push(n),()=>{let s=rh.indexOf(n);s>-1&&rh.splice(s,1)}),[e]);let r=e.toasts.map(s=>{var i,o;return{...t,...t[s.type],...s,duration:s.duration||((i=t[s.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||l$[s.type],style:{...t.style,...(o=t[s.type])==null?void 0:o.style,...s.style}}});return{...e,toasts:r}},u$=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||s$()}),bd=t=>(e,n)=>{let r=u$(e,t,n);return ya({type:2,toast:r}),r.id},nn=(t,e)=>bd("blank")(t,e);nn.error=bd("error");nn.success=bd("success");nn.loading=bd("loading");nn.custom=bd("custom");nn.dismiss=t=>{ya({type:3,toastId:t})};nn.remove=t=>ya({type:4,toastId:t});nn.promise=(t,e,n)=>{let r=nn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(s=>(nn.success(Qh(e.success,s),{id:r,...n,...n==null?void 0:n.success}),s)).catch(s=>{nn.error(Qh(e.error,s),{id:r,...n,...n==null?void 0:n.error})}),t};var d$=(t,e)=>{ya({type:1,toast:{id:t,height:e}})},f$=()=>{ya({type:5,time:Date.now()})},h$=t=>{let{toasts:e,pausedAt:n}=c$(t);g.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&nn.dismiss(a.id);return}return setTimeout(()=>nn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=g.useCallback(()=>{n&&ya({type:6,time:Date.now()})},[n]),s=g.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),h=u.filter((p,m)=>m<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:d$,startPause:f$,endPause:r,calculateOffset:s}}},p$=qs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,m$=qs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,g$=qs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,y$=ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${p$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${m$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${g$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,v$=qs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,x$=ao("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${v$} 1s linear infinite;
`,w$=qs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,b$=qs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,S$=ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${b$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,k$=ao("div")`
  position: absolute;
`,E$=ao("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,T$=qs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C$=ao("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${T$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,N$=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?g.createElement(C$,null,e):e:n==="blank"?null:g.createElement(E$,null,g.createElement(x$,{...r}),n!=="loading"&&g.createElement(k$,null,n==="error"?g.createElement(y$,{...r}):g.createElement(S$,{...r})))},M$=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,j$=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,O$="0%{opacity:0;} 100%{opacity:1;}",A$="0%{opacity:1;} 100%{opacity:0;}",L$=ao("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,D$=ao("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,P$=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=w2()?[O$,A$]:[M$(n),j$(n)];return{animation:e?`${qs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},R$=g.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?P$(t.position||e||"top-center",t.visible):{opacity:0},i=g.createElement(N$,{toast:t}),o=g.createElement(D$,{...t.ariaProps},Qh(t.message,t));return g.createElement(L$,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):g.createElement(g.Fragment,null,i,o))});n$(g.createElement);var I$=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=g.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return g.createElement("div",{ref:i,className:e,style:n},s)},_$=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:w2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},$$=Om`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hf=16,F$=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=h$(n);return g.createElement("div",{style:{position:"fixed",zIndex:9999,top:hf,left:hf,right:hf,bottom:hf,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=_$(u,d);return g.createElement(I$,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?$$:"",style:h},c.type==="custom"?Qh(c.message,c):s?s(c):g.createElement(R$,{toast:c,position:u}))}))},me=nn;async function z$(){const e=document.cookie.split(";").map(u=>u.trim().split("=")).reduce((u,[d,h])=>(u[d]=h,u),{}).accesstoken;if(!e)throw new Error("Missing 'accesstoken' or 'hidden_accesstoken' cookies");const n=await fetch(`https://app.socialhub.io/api2/sb-auth?accesstoken=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addon:"idea-board-mubashir"}),credentials:"include"});if(console.log("userInfoRes : ",n),!n.ok)throw new Error("Failed to fetch user info from SocialHub");const r=await n.json();console.log("userInfoData : ",r);const s=await fetch(`https://app.socialhub.io/api2/teams?accesstoken=${e}`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Failed to fetch team info from SocialHub");const i=await s.json(),o=await fetch(`https://app.socialhub.io/api2/users?accesstoken=${e}`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!o.ok)throw new Error("Failed to fetch user-users info from SocialHub");const a=await o.json(),l=await fetch(`https://app.socialhub.io/api2/channels?accesstoken=${e}`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!l.ok)throw new Error("Failed to fetch user-channels info from SocialHub");const c=await l.json();return{userInfo:r,userTeams:i,userUsers:a,userChannels:c.data}}const B$="modulepreload",U$=function(t){return"/"+t},Nk={},kl=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=U$(l),l in Nk)return;Nk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":B$,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},V$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>kl(async()=>{const{default:r}=await Promise.resolve().then(()=>Wl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class eb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class H$ extends eb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class W$ extends eb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class G$ extends eb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nv||(Nv={}));var Y$=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class q${constructor(e,{headers:n={},customFetch:r,region:s=Nv.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=V$(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Y$(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(m=>{throw new H$(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new W$(u);if(!u.ok)throw new G$(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Pn={},tb={},Am={},Sd={},Lm={},Dm={},K$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},El=K$();const J$=El.fetch,b2=El.fetch.bind(El),S2=El.Headers,Q$=El.Request,X$=El.Response,Wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:S2,Request:Q$,Response:X$,default:b2,fetch:J$},Symbol.toStringTag,{value:"Module"})),Z$=xI(Wl);var Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});class eF extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Pm.default=eF;var k2=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dm,"__esModule",{value:!0});const tF=k2(Z$),nF=k2(Pm);let rF=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=tF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&y===""?(h=204,p="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new nF.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Dm.default=rF;var sF=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lm,"__esModule",{value:!0});const iF=sF(Dm);let oF=class extends iF.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lm.default=oF;var aF=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sd,"__esModule",{value:!0});const lF=aF(Lm);let cF=class extends lF.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Sd.default=cF;var uF=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Am,"__esModule",{value:!0});const vc=uF(Sd);let dF=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new vc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new vc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new vc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Am.default=dF;var Rm={},Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.version=void 0;Im.version="0.0.0-automated";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.DEFAULT_HEADERS=void 0;const fF=Im;Rm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fF.version}`};var E2=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tb,"__esModule",{value:!0});const hF=E2(Am),pF=E2(Sd),mF=Rm;let gF=class T2{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},mF.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new hF.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new T2(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new pF.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};tb.default=gF;var Gl=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.PostgrestError=Pn.PostgrestBuilder=Pn.PostgrestTransformBuilder=Pn.PostgrestFilterBuilder=Pn.PostgrestQueryBuilder=Pn.PostgrestClient=void 0;const C2=Gl(tb);Pn.PostgrestClient=C2.default;const N2=Gl(Am);Pn.PostgrestQueryBuilder=N2.default;const M2=Gl(Sd);Pn.PostgrestFilterBuilder=M2.default;const j2=Gl(Lm);Pn.PostgrestTransformBuilder=j2.default;const O2=Gl(Dm);Pn.PostgrestBuilder=O2.default;const A2=Gl(Pm);Pn.PostgrestError=A2.default;var yF=Pn.default={PostgrestClient:C2.default,PostgrestQueryBuilder:N2.default,PostgrestFilterBuilder:M2.default,PostgrestTransformBuilder:j2.default,PostgrestBuilder:O2.default,PostgrestError:A2.default};const{PostgrestClient:vF,PostgrestQueryBuilder:Fie,PostgrestFilterBuilder:zie,PostgrestTransformBuilder:Bie,PostgrestBuilder:Uie}=yF,xF="2.10.7",wF={"X-Client-Info":`realtime-js/${xF}`},bF="1.0.0",L2=1e4,SF=1e3;var al;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(al||(al={}));var qn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qn||(qn={}));var $r;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($r||($r={}));var Mv;(function(t){t.websocket="websocket"})(Mv||(Mv={}));var Mo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mo||(Mo={}));class kF{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class D2{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ue||(Ue={}));const Mk=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=EF(o,t,e,s),i),{})},EF=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?P2(i,o):jv(o)},P2=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return MF(e,n)}switch(t){case Ue.bool:return TF(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return CF(e);case Ue.json:case Ue.jsonb:return NF(e);case Ue.timestamp:return jF(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return jv(e);default:return jv(e)}},jv=t=>t,TF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},CF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},NF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},MF=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>P2(e,a))}return t},jF=t=>typeof t=="string"?t.replace(" ","T"):t,R2=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class iy{constructor(e,n,r={},s=L2){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jk;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jk||(jk={}));class tu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tu.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=tu.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=tu.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),m=u.filter(x=>p.indexOf(x.presence_ref)<0),y=d.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ok;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ok||(Ok={}));var Ak;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ak||(Ak={}));var Lk;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Lk||(Lk={}));class nb{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new iy(this,$r.join,this.params,this.timeout),this.rejoinTimer=new D2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on($r.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new tu(this),this.broadcastEndpointURL=R2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<p;y++){const x=h[y],{filter:{event:v,schema:w,table:b,filter:S}}=x,k=u&&u[y];if(k&&k.event===v&&k.schema===w&&k.table===b&&k.filter===S)m.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($r.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new iy(this,$r.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iy(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=$r;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,y,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,y,x,v,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,k=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((y=n.ids)===null||y===void 0?void 0:y.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(w=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:x,commit_timestamp:v,type:w,errors:b}=m;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===qn.closed}_isJoined(){return this.state===qn.joined}_isJoining(){return this.state===qn.joining}_isLeaving(){return this.state===qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&nb.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($r.close,{},e)}_onError(e){this._on($r.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Mk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Mk(e.columns,e.old_record)),n}}const OF=()=>{},AF=typeof WebSocket<"u",LF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DF{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=wF,this.params={},this.timeout=L2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=OF,this.conn=null,this.sendBuffer=[],this.serializer=new kF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>kl(async()=>{const{default:l}=await Promise.resolve().then(()=>Wl);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Mv.websocket}`,this.httpEndpoint=R2(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new D2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(AF){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new PF(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),kl(async()=>{const{default:e}=await import("./browser-EBik5ltW.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case al.connecting:return Mo.Connecting;case al.open:return Mo.Open;case al.closing:return Mo.Closing;default:return Mo.Closed}}isConnected(){return this.connectionState()===Mo.Open}channel(e,n={config:{}}){const r=new nb(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push($r.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bF}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($r.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(SF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([LF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class PF{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=al.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class rb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Mt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class RF extends rb{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ov extends rb{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var IF=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const I2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>kl(async()=>{const{default:r}=await Promise.resolve().then(()=>Wl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},_F=()=>IF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield kl(()=>Promise.resolve().then(()=>Wl),void 0)).Response:Response}),Av=t=>{if(Array.isArray(t))return t.map(n=>Av(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Av(r)}),e};var va=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$F=(t,e,n)=>va(void 0,void 0,void 0,function*(){const r=yield _F();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new RF(oy(s),t.status||500))}).catch(s=>{e(new Ov(oy(s),s))}):e(new Ov(oy(t),t))}),FF=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function kd(t,e,n,r,s,i){return va(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,FF(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>$F(l,a,r))})})}function Xh(t,e,n,r){return va(this,void 0,void 0,function*(){return kd(t,"GET",e,n,r)})}function mi(t,e,n,r,s){return va(this,void 0,void 0,function*(){return kd(t,"POST",e,r,s,n)})}function zF(t,e,n,r,s){return va(this,void 0,void 0,function*(){return kd(t,"PUT",e,r,s,n)})}function BF(t,e,n,r){return va(this,void 0,void 0,function*(){return kd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _2(t,e,n,r,s){return va(this,void 0,void 0,function*(){return kd(t,"DELETE",e,r,s,n)})}var Ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const UF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VF{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=I2(s)}uploadOrUpdate(e,n,r,s){return Ln(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Dk),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Mt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ln(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Dk.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Mt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ln(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield mi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new rb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield mi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ln(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield mi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=yield mi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}download(e,n){return Ln(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Xh(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Mt(a))return{data:null,error:a};throw a}})}info(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Xh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Av(r),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}exists(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield BF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Mt(r)&&r instanceof Ov){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ln(this,void 0,void 0,function*(){try{return{data:yield _2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},UF),n),{prefix:e||""});return{data:yield mi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const HF="2.7.1",WF={"X-Client-Info":`storage-js/${HF}`};var Na=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class GF{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},WF),n),this.fetch=I2(r)}listBuckets(){return Na(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Mt(e))return{data:null,error:e};throw e}})}getBucket(e){return Na(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Na(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Na(this,void 0,void 0,function*(){try{return{data:yield zF(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Na(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Na(this,void 0,void 0,function*(){try{return{data:yield _2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}}class YF extends GF{constructor(e,n={},r){super(e,n,r)}from(e){return new VF(this.url,this.headers,e,this.fetch)}}const qF="2.46.1";let _c="";typeof Deno<"u"?_c="deno":typeof document<"u"?_c="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_c="react-native":_c="node";const KF={"X-Client-Info":`supabase-js-${_c}/${qF}`},JF={headers:KF},QF={schema:"public"},XF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZF={};var e5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const t5=t=>{let e;return t?e=t:typeof fetch>"u"?e=b2:e=fetch,(...n)=>e(...n)},n5=()=>typeof Headers>"u"?S2:Headers,r5=(t,e,n)=>{const r=t5(n),s=n5();return(i,o)=>e5(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var s5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function i5(t){return t.replace(/\/$/,"")}function o5(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>s5(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const $2="2.65.1",a5="http://localhost:9999",l5="supabase.auth.token",c5={"X-Client-Info":`gotrue-js/${$2}`},Pk=10,Lv="X-Supabase-Api-Version",F2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function u5(t){return Math.round(Date.now()/1e3)+t}function d5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Dr=()=>typeof document<"u",go={tested:!1,writable:!1},nu=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(go.tested)return go.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),go.tested=!0,go.writable=!0}catch{go.tested=!0,go.writable=!1}return go.writable};function ay(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const z2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>kl(async()=>{const{default:r}=await Promise.resolve().then(()=>Wl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},f5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",B2=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},pf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mf=async(t,e)=>{await t.removeItem(e)};function h5(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class _m{constructor(){this.promise=new _m.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_m.promiseConstructor=Promise;function Rk(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(h5(r))}async function p5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function m5(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function g5(t){return("0"+t.toString(16)).substr(-2)}function y5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,g5).join("")}async function v5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function x5(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function w5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await v5(t);return x5(n)}async function Ma(t,e,n=!1){const r=y5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await B2(t,`${e}-code-verifier`,s);const i=await w5(r);return[i,r===i?"plain":"s256"]}const b5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S5(t){const e=t.headers.get(Lv);if(!e||!e.match(b5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class sb extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k5 extends sb{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function E5(t){return Se(t)&&t.name==="AuthApiError"}class U2 extends sb{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xa extends sb{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ci extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T5(t){return Se(t)&&t.name==="AuthSessionMissingError"}class ly extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gf extends xa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yf extends xa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ik extends xa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dv extends xa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cy(t){return Se(t)&&t.name==="AuthRetryableFetchError"}class _k extends xa{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var C5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N5=[502,503,504];async function $k(t){var e;if(!f5(t))throw new Dv(Eo(t),0);if(N5.includes(t.status))throw new Dv(Eo(t),t.status);let n;try{n=await t.json()}catch(i){throw new U2(Eo(i),i)}let r;const s=S5(t);if(s&&s.getTime()>=F2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _k(Eo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _k(Eo(n),t.status,n.weak_password.reasons);throw new k5(Eo(n),t.status||500,r)}const M5=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Oe(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Lv]||(i[Lv]=F2["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await j5(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function j5(t,e,n,r,s,i){const o=M5(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Dv(Eo(l),0)}if(a.ok||await $k(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await $k(l)}}function ui(t){var e;let n=null;D5(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=u5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Fk(t){const e=ui(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ei(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function O5(t){return{data:t,error:null}}function A5(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=C5(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function L5(t){return t}function D5(t){return t.access_token&&t.refresh_token&&t.expires_in}var P5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class R5{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=z2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ei})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=P5(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:A5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ei})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:L5});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Se(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ei})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ei})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ei})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}const I5={getItem:t=>nu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{nu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{nu()&&globalThis.localStorage.removeItem(t)}};function zk(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function _5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ja={debug:!!(globalThis&&nu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $5 extends V2{}async function F5(t,e,n){ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ja.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ja.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}_5();const z5={url:a5,storageKey:l5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},xc=30*1e3,Bk=3;async function Uk(t,e,n){return await n()}class Vu{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vu.nextInstanceID,Vu.nextInstanceID+=1,this.instanceID>0&&Dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},z5),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new R5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=z2(s.fetch),this.lock=s.lock||Uk,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=F5:this.lock=Uk,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:nu()?this.storage=I5:(this.memoryStorage={},this.storage=zk(this.memoryStorage)):(this.memoryStorage={},this.storage=zk(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$2}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Dr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Se(e)?{error:e}:{error:new U2("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ui}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Se(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ma(this.storage,this.storageKey)),i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:ui})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ui})}else throw new gf("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fk})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fk})}else throw new gf("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ly}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await pf(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ui});if(await mf(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ly}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Se(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ui}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ly}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ma(this.storage,this.storageKey));const{error:d}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new gf("You must provide either an email or phone number.")}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ui});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ma(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:O5})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ci;const{error:s}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new gf("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await pf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ei}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ci}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ei})})}catch(n){if(Se(n))return T5(n)&&(await this._removeSession(),await mf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ci;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ma(this.storage,this.storageKey));const{data:c,error:u}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ei});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Rk(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ci;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Rk(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ci;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!Dr())throw new yf("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new yf("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ik("Not a valid PKCE flow url.");const n=ay(window.location.href);if(e){if(!n.code)throw new Ik("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(n.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new yf(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!i||!a||!o||!c)throw new yf("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:n.type},error:null}}catch(n){if(Se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=ay(window.location.href);return!!(Dr()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=ay(window.location.href),n=await pf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(E5(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await mf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=d5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ma(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Se(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Dr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Se(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await m5(async s=>(s>0&&await p5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ui})),(s,i)=>{const o=200*Math.pow(2,s);return i&&cy(i)&&Date.now()+o-r<xc})}catch(r){if(this._debug(n,"error",r),Se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Dr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await pf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Pk;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Pk}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),cy(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _m;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ci;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Se(i)){const o={session:null,error:i};return cy(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await B2(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await mf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xc}ms, refresh threshold is ${Bk} ticks`),s<=Bk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof V2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ma(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Vu.nextInstanceID=0;const B5=Vu;class U5 extends B5{constructor(e){super(e)}}var V5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class H5{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=i5(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:QF,realtime:ZF,auth:Object.assign(Object.assign({},XF),{storageKey:l}),global:JF},u=o5(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=r5(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new vF(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new q$(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new YF(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return V5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U5({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new DF(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const H2=(t,e,n)=>new H5(t,e,n),uy={url:"https://mvmfwkigdnwiuysjlsgn.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12bWZ3a2lnZG53aXV5c2psc2duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA0OTA2ODcsImV4cCI6MjA1NjA2NjY4N30.jk3JQhfXS0W7vZI4icnWLWY3T4horTc37WM5J-jisLM"},W5=()=>document.cookie.split(";").map(e=>e.trim().split("=")).reduce((e,[n,r])=>(e[n]=r,e),{}).accesstoken,Pv=t=>async(e,n={})=>{try{const r=new URL(e);if(!r.pathname.includes("/rest/v1/")&&!r.pathname.includes("/auth/v1/"))return t(e,n);const s=W5(),i=r.search.substring(1),o=`https://app.socialhub.io/api2/sb-proxy${r.pathname}${i?"?"+i:""}${i?"&":"?"}accesstoken=${s}`;return console.log("Proxying request:",{to:o}),t(o,{...n,credentials:"include"})}catch(r){throw console.error("Proxy fetch error:",r),r}},G5=t=>(t.rest.headers={...t.rest.headers,"X-Client-Info":"supabase-js-proxy"},t.auth.headers={...t.auth.headers,"X-Client-Info":"supabase-js-proxy"},t.rest.fetch=Pv(fetch),t.auth.fetch=Pv(fetch),t),Y5=()=>H2(uy.url,uy.anonKey,{auth:{persistSession:!0,detectSessionInUrl:!0},global:{fetch:Pv(uy.url)}});Y5();const q5=H2("https://mvmfwkigdnwiuysjlsgn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12bWZ3a2lnZG53aXV5c2psc2duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA0OTA2ODcsImV4cCI6MjA1NjA2NjY4N30.jk3JQhfXS0W7vZI4icnWLWY3T4horTc37WM5J-jisLM");let oe;console.log("Using proxied Supabase client"),oe=G5(q5);function wa(t){return t?Array.isArray(t)&&t.length>0?t[0]:t:null}const K5=async(t,e)=>{const{data:n,error:r}=await oe.from("users").update({email_notifications:t}).eq("id",e);return r&&console.error("error",r),n},Vk=async t=>{const{data:e,error:n}=await oe.from("users").select("email_notifications").eq("id",t).single();n&&console.error("error",n);const r=wa(e);return r==null?void 0:r.email_notifications},W2=g.createContext(null);function J5({children:t}){const[e,n]=g.useState(!1),[r,s]=g.useState(null),[i,o]=g.useState(null),[a,l]=g.useState([]),[c,u]=g.useState([]),[d,h]=g.useState([]),[p,m]=g.useState(!0),y=async()=>{const w=await fetch("http://localhost:5000/api/user/userDataSocialHub",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(w.ok){const b=await w.json();console.log("from jwt and all data development: ",b);const S=b.token;await oe.auth.setSession({access_token:S,refresh_token:S});const k=await oe.auth.getUser();o(k.data.user);const E=await Vk(k.data.user.id);s({...b.userInfo,userName:`${b.userInfo.firstName}_${b.userInfo.lastName}`,email_preferance:E}),u(b.userTeams);const T=b.userUsers.map(C=>{const L=C.firstName.replace(/\s+/g,""),M=C.lastName.replace(/\s+/g,"");return{...C,userName:`${L}_${M}`}});console.log("after updating users: ",T),l(T),h(b.userChannels),n(!0),m(!1)}else console.error("Failed to generate JWT"),m(!1)},x=async()=>{try{const w=await z$();console.log("from jwt and all data production: ",w);const b=w.userInfo.sbToken;await oe.auth.setSession({access_token:b,refresh_token:b});const S=await oe.auth.getUser();o(S.data.user);const k=await Vk(S.data.user.id);s({...w.userInfo,userName:`${w.userInfo.firstName}_${w.userInfo.lastName}`,email_preferance:k}),u(w.userTeams);const E=w.userUsers.map(T=>{const C=T.firstName.replace(/\s+/g,""),L=T.lastName.replace(/\s+/g,"");return{...T,userName:`${C}_${L}`}});console.log("after updating users: ",E),l(E),h(w.userChannels),n(!0)}catch(w){nn.error(w.message||"An error occurred while fetching data")}finally{m(!1)}};g.useEffect(()=>{console.log("from production"),x()},[]);const v=g.useCallback(async(w,b)=>{try{const k=await(await fetch("http://localhost:5000/api/user/loginSocialHub",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:w,password:b}),credentials:"include"})).json();if(console.log("from social hub login: ",k),!k.success)throw new Error("Login failed");return console.log("from production"),await x(),k.success}catch(S){throw nn.error("Login failed"),console.error("SocialHub login error:",S),S}},[]);return f.jsx(W2.Provider,{value:{isAuthenticated:e,currentUser:r,login:v,isLoading:p,authUser:i,currentUserUsers:a,currentUserTeams:c,currentUserChannels:d},children:t})}function Mr(){const t=g.useContext(W2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>g.createElement("svg",{ref:u,...Q5,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${X5(t)}`,a].join(" "),...c},[...e.map(([d,h])=>g.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=Q("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Q("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=Q("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Q("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=Q("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=Q("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=Q("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=Q("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=Q("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=Q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=Q("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=Q("KanbanSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Q("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=Q("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=Q("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=Q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Q("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=Q("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=Q("NotebookText",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Q("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Q("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=Q("SquareUserRound",[["path",{d:"M18 21a6 6 0 0 0-12 0",key:"kaz2du"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=Q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=Q("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=Q("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=Q("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=Q("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Q("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),db=g.createContext({});function fb(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const $m=g.createContext(null),hb=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class $z extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Fz({children:t,isPresent:e,anchorX:n}){const r=g.useId(),s=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=g.useContext(hb);return g.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:d}=i.current;if(e||!s.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${d}`;s.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),f.jsx($z,{isPresent:e,childRef:s,sizeRef:i,children:g.cloneElement(t,{ref:s})})}const zz=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=fb(Bz),c=g.useId(),u=g.useCallback(h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},[l,r]),d=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return g.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(Fz,{isPresent:n,anchorX:a,children:t})),f.jsx($m.Provider,{value:d,children:t})};function Bz(){return new Map}function eO(t=!0){const e=g.useContext($m);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=g.useId();g.useEffect(()=>{t&&s(i)},[t]);const o=g.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const xf=t=>t.key||"";function Yk(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const pb=typeof window<"u",tO=pb?g.useLayoutEffect:g.useEffect,yt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=eO(o),u=g.useMemo(()=>Yk(t),[t]),d=o&&!l?[]:u.map(xf),h=g.useRef(!0),p=g.useRef(u),m=fb(()=>new Map),[y,x]=g.useState(u),[v,w]=g.useState(u);tO(()=>{h.current=!1,p.current=u;for(let k=0;k<v.length;k++){const E=xf(v[k]);d.includes(E)?m.delete(E):m.get(E)!==!0&&m.set(E,!1)}},[v,d.length,d.join("-")]);const b=[];if(u!==y){let k=[...u];for(let E=0;E<v.length;E++){const T=v[E],C=xf(T);d.includes(C)||(k.splice(E,0,T),b.push(T))}return i==="wait"&&b.length&&(k=b),w(Yk(k)),x(u),null}const{forceRender:S}=g.useContext(db);return f.jsx(f.Fragment,{children:v.map(k=>{const E=xf(k),T=o&&!l?!1:u===v||d.includes(E),C=()=>{if(m.has(E))m.set(E,!0);else return;let L=!0;m.forEach(M=>{M||(L=!1)}),L&&(S==null||S(),w(p.current),o&&(c==null||c()),r&&r())};return f.jsx(zz,{isPresent:T,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:T?void 0:C,anchorX:a,children:k},E)})})},er=t=>t;let Iv=er;function mb(t){let e;return()=>(e===void 0&&(e=t()),e)}const Nl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},zs=t=>t*1e3,Bs=t=>t/1e3,Uz={skipAnimations:!1,useManualTiming:!1},wf=["read","resolveKeyframes","update","preRender","render","postRender"],qk={value:null,addProjectionMetrics:null};function Vz(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,h=!1,p=!1)=>{const y=p&&s?n:r;return h&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&qk.value&&qk.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const Hz=40;function nO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=wf.reduce((v,w)=>(v[w]=Vz(i,e?w:void 0),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,p=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,Hz),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:wf.reduce((v,w)=>{const b=o[w];return v[w]=(S,k=!1,E=!1)=>(n||m(),b.schedule(S,k,E)),v},{}),cancel:v=>{for(let w=0;w<wf.length;w++)o[wf[w]].cancel(v)},state:s,steps:o}}const{schedule:He,cancel:Qi,state:Bt,steps:fy}=nO(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0),rO=g.createContext({strict:!1}),Kk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ml={};for(const t in Kk)Ml[t]={isEnabled:e=>Kk[t].some(n=>!!e[n])};function Wz(t){for(const e in t)Ml[e]={...Ml[e],...t[e]}}const Gz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gz.has(t)}let sO=t=>!tp(t);function Yz(t){t&&(sO=e=>e.startsWith("on")?!tp(e):t(e))}try{Yz(require("@emotion/is-prop-valid").default)}catch{}function qz(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(sO(s)||n===!0&&tp(s)||!e&&!tp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Kz(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Fm=g.createContext({});function zm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Gu(t){return typeof t=="string"||Array.isArray(t)}const gb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yb=["initial",...gb];function Bm(t){return zm(t.animate)||yb.some(e=>Gu(t[e]))}function iO(t){return!!(Bm(t)||t.variants)}function Jz(t,e){if(Bm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gu(n)?n:void 0,animate:Gu(r)?r:void 0}}return t.inherit!==!1?e:{}}function Qz(t){const{initial:e,animate:n}=Jz(t,g.useContext(Fm));return g.useMemo(()=>({initial:e,animate:n}),[Jk(e),Jk(n)])}function Jk(t){return Array.isArray(t)?t.join(" "):t}const Xz=Symbol.for("motionComponentSymbol");function qa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Zz(t,e,n){return g.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):qa(n)&&(n.current=r))},[e])}const vb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eB="framerAppearId",oO="data-"+vb(eB),{schedule:xb,cancel:Vie}=nO(queueMicrotask,!1),aO=g.createContext({});function tB(t,e,n,r,s){var i,o;const{visualElement:a}=g.useContext(Fm),l=g.useContext(rO),c=g.useContext($m),u=g.useContext(hb).reducedMotion,d=g.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,p=g.useContext(aO);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&nB(d.current,n,s,p);const m=g.useRef(!1);g.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const y=n[oO],x=g.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return tO(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),xb.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),x.current=!1))}),h}function nB(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&qa(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function lO(t){if(t)return t.options.allowProjection!==!1?t.projection:lO(t.parent)}function rB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&Wz(t);function a(c,u){let d;const h={...g.useContext(hb),...c,layoutId:sB(c)},{isStatic:p}=h,m=Qz(c),y=r(c,p);if(!p&&pb){iB();const x=oB(h);d=x.MeasureLayout,m.visualElement=tB(s,y,h,e,x.ProjectionNode)}return f.jsxs(Fm.Provider,{value:m,children:[d&&m.visualElement?f.jsx(d,{visualElement:m.visualElement,...h}):null,n(s,c,Zz(y,m.visualElement,u),y,p,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=g.forwardRef(a);return l[Xz]=s,l}function sB({layoutId:t}){const e=g.useContext(db).id;return e&&t!==void 0?e+"-"+t:t}function iB(t,e){g.useContext(rO).strict}function oB(t){const{drag:e,layout:n}=Ml;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const cO=t=>e=>typeof e=="string"&&e.startsWith(t),wb=cO("--"),aB=cO("var(--"),bb=t=>aB(t)?lB.test(t.split("/*")[0].trim()):!1,lB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yu={};function cB(t){for(const e in t)Yu[e]=t[e],wb(e)&&(Yu[e].isCSSVariable=!0)}const Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ka=new Set(Yl);function uO(t,{layout:e,layoutId:n}){return ka.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yu[t]||t==="opacity")}const rn=t=>!!(t&&t.getVelocity),dO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Js=(t,e,n)=>n>e?e:n<t?t:n,ql={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qu={...ql,transform:t=>Js(0,1,t)},bf={...ql,default:1},Md=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=Md("deg"),hs=Md("%"),de=Md("px"),uB=Md("vh"),dB=Md("vw"),Qk={...hs,parse:t=>hs.parse(t)/100,transform:t=>hs.transform(t*100)},fB={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},hB={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:bf,scaleX:bf,scaleY:bf,scaleZ:bf,skew:di,skewX:di,skewY:di,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:qu,originX:Qk,originY:Qk,originZ:de},Xk={...ql,transform:Math.round},Sb={...fB,...hB,zIndex:Xk,size:de,fillOpacity:qu,strokeOpacity:qu,numOctaves:Xk},pB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mB=Yl.length;function gB(t,e,n){let r="",s=!0;for(let i=0;i<mB;i++){const o=Yl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=dO(a,Sb[o]);if(!l){s=!1;const u=pB[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function kb(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ka.has(l)){o=!0;continue}else if(wb(l)){s[l]=c;continue}else{const u=dO(c,Sb[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=gB(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const Eb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fO(t,e,n){for(const r in e)!rn(e[r])&&!uO(r,n)&&(t[r]=e[r])}function yB({transformTemplate:t},e){return g.useMemo(()=>{const n=Eb();return kb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vB(t,e){const n=t.style||{},r={};return fO(r,n,t),Object.assign(r,yB(t,e)),r}function xB(t,e){const n={},r=vB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tb(t){return typeof t!="string"||t.includes("-")?!1:!!(wB.indexOf(t)>-1||/[A-Z]/u.test(t))}const bB={offset:"stroke-dashoffset",array:"stroke-dasharray"},SB={offset:"strokeDashoffset",array:"strokeDasharray"};function kB(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?bB:SB;t[i.offset]=de.transform(-r);const o=de.transform(e),a=de.transform(n);t[i.array]=`${o} ${a}`}function Zk(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function EB(t,e,n){const r=Zk(e,t.x,t.width),s=Zk(n,t.y,t.height);return`${r} ${s}`}function Cb(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(kb(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:m}=t;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=EB(m,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&kB(h,o,a,l,!1)}const hO=()=>({...Eb(),attrs:{}}),Nb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TB(t,e,n,r){const s=g.useMemo(()=>{const i=hO();return Cb(i,e,Nb(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};fO(i,t.style,t),s.style={...i,...s.style}}return s}function CB(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Tb(n)?TB:xB)(r,i,o,n),c=qz(r,typeof n=="string",t),u=n!==g.Fragment?{...c,...l,ref:s}:{},{children:d}=r,h=g.useMemo(()=>rn(d)?d.get():d,[d]);return g.createElement(n,{...u,children:h})}}function eE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Mb(t,e,n,r){if(typeof e=="function"){const[s,i]=eE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=eE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const _v=t=>Array.isArray(t),NB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),MB=t=>_v(t)?t[t.length-1]||0:t;function ih(t){const e=rn(t)?t.get():t;return NB(e)?e.toValue():e}function jB({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:OB(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const pO=t=>(e,n)=>{const r=g.useContext(Fm),s=g.useContext($m),i=()=>jB(t,e,r,s);return n?i():fb(i)};function OB(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=ih(i[h]);let{initial:o,animate:a}=t;const l=Bm(t),c=iO(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!zm(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const m=Mb(t,h[p]);if(m){const{transitionEnd:y,transition:x,...v}=m;for(const w in v){let b=v[w];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(s[w]=b)}for(const w in y)s[w]=y[w]}}}return s}function jb(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(rn(s[o])||e.style&&rn(e.style[o])||uO(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const AB={useVisualState:pO({scrapeMotionValuesFromProps:jb,createRenderState:Eb})};function mO(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function gO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const yO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vO(t,e,n,r){gO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(yO.has(s)?s:vb(s),e.attrs[s])}function xO(t,e,n){const r=jb(t,e,n);for(const s in t)if(rn(t[s])||rn(e[s])){const i=Yl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const tE=["x","y","width","height","cx","cy","r"],LB={useVisualState:pO({scrapeMotionValuesFromProps:xO,createRenderState:hO,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(ka.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<tE.length;a++){const l=tE[a];t[l]!==e[l]&&(o=!0)}o&&He.read(()=>{mO(n,r),He.render(()=>{Cb(r,s,Nb(n.tagName),t.transformTemplate),vO(n,r)})})}})};function DB(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Tb(r)?LB:AB,preloadedFeatures:t,useRender:CB(s),createVisualElement:e,Component:r};return rB(o)}}function Ku(t,e,n){const r=t.getProps();return Mb(r,e,n!==void 0?n:r.custom,t)}const PB=mb(()=>window.ScrollTimeline!==void 0);class RB{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(PB()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class IB extends RB{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ob(t,e){return t?t[e]||t.default||t:void 0}const $v=2e4;function wO(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$v;)e+=n,r=t.next(e);return e>=$v?1/0:e}function Ab(t){return typeof t=="function"}function nE(t,e){t.timeline=e,t.onfinish=null}const Lb=t=>Array.isArray(t)&&typeof t[0]=="number",_B={linearEasing:void 0};function $B(t,e){const n=mb(t);return()=>{var r;return(r=_B[e])!==null&&r!==void 0?r:n()}}const np=$B(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Nl(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function SO(t){return!!(typeof t=="function"&&np()||!t||typeof t=="string"&&(t in Fv||np())||Lb(t)||Array.isArray(t)&&t.every(SO))}const Fc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Fv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fc([0,.65,.55,1]),circOut:Fc([.55,0,1,.45]),backIn:Fc([.31,.01,.66,-.59]),backOut:Fc([.33,1.53,.69,.99])};function kO(t,e){if(t)return typeof t=="function"&&np()?bO(t,e):Lb(t)?Fc(t):Array.isArray(t)?t.map(n=>kO(n,e)||Fv.easeOut):Fv[t]}const Pr={x:!1,y:!1};function EO(){return Pr.x||Pr.y}function FB(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function TO(t,e){const n=FB(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function rE(t){return!(t.pointerType==="touch"||EO())}function zB(t,e,n={}){const[r,s,i]=TO(t,n),o=a=>{if(!rE(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{rE(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const CO=(t,e)=>e?t===e?!0:CO(t,e.parentElement):!1,Db=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UB(t){return BB.has(t.tagName)||t.tabIndex!==-1}const zc=new WeakSet;function sE(t){return e=>{e.key==="Enter"&&t(e)}}function hy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sE(()=>{if(zc.has(n))return;hy(n,"down");const s=sE(()=>{hy(n,"up")}),i=()=>hy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function iE(t){return Db(t)&&!EO()}function HB(t,e,n={}){const[r,s,i]=TO(t,n),o=a=>{const l=a.currentTarget;if(!iE(a)||zc.has(l))return;zc.add(l);const c=e(l,a),u=(p,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!iE(p)||!zc.has(l))&&(zc.delete(l),typeof c=="function"&&c(p,{success:m}))},d=p=>{u(p,n.useGlobalTarget||CO(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{!UB(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>VB(c,s),s)}),i}function WB(t){return t==="x"||t==="y"?Pr[t]?null:(Pr[t]=!0,()=>{Pr[t]=!1}):Pr.x||Pr.y?null:(Pr.x=Pr.y=!0,()=>{Pr.x=Pr.y=!1})}const NO=new Set(["width","height","top","left","right","bottom",...Yl]);let oh;function GB(){oh=void 0}const ps={now:()=>(oh===void 0&&ps.set(Bt.isProcessing||Uz.useManualTiming?Bt.timestamp:performance.now()),oh),set:t=>{oh=t,queueMicrotask(GB)}};function Pb(t,e){t.indexOf(e)===-1&&t.push(e)}function Rb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ib{constructor(){this.subscriptions=[]}add(e){return Pb(this.subscriptions,e),()=>Rb(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function MO(t,e){return e?t*(1e3/e):0}const oE=30,YB=t=>!isNaN(parseFloat(t));class qB{constructor(e,n={}){this.version="12.4.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ps.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ps.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=YB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ib);const r=this.events[e].add(n);return e==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oE);return MO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ju(t,e){return new qB(t,e)}function KB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ju(n))}function JB(t,e){const n=Ku(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=MB(i[o]);KB(t,o,a)}}function QB(t){return!!(rn(t)&&t.add)}function zv(t,e){const n=t.getValue("willChange");if(QB(n))return n.add(e)}function jO(t){return t.props[oO]}const OO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XB=1e-7,ZB=12;function eU(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=OO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>XB&&++a<ZB);return o}function jd(t,e,n,r){if(t===e&&n===r)return er;const s=i=>eU(i,0,1,t,n);return i=>i===0||i===1?i:OO(s(i),e,r)}const AO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LO=t=>e=>1-t(1-e),DO=jd(.33,1.53,.69,.99),_b=LO(DO),PO=AO(_b),RO=t=>(t*=2)<1?.5*_b(t):.5*(2-Math.pow(2,-10*(t-1))),$b=t=>1-Math.sin(Math.acos(t)),IO=LO($b),_O=AO($b),$O=t=>/^0[^.\s]+$/u.test(t);function tU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$O(t):!0}const ru=t=>Math.round(t*1e5)/1e5,Fb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nU(t){return t==null}const rU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zb=(t,e)=>n=>!!(typeof n=="string"&&rU.test(n)&&n.startsWith(t)||e&&!nU(n)&&Object.prototype.hasOwnProperty.call(n,e)),FO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Fb);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sU=t=>Js(0,255,t),py={...ql,transform:t=>Math.round(sU(t))},Io={test:zb("rgb","red"),parse:FO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+py.transform(t)+", "+py.transform(e)+", "+py.transform(n)+", "+ru(qu.transform(r))+")"};function iU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bv={test:zb("#"),parse:iU,transform:Io.transform},Ka={test:zb("hsl","hue"),parse:FO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hs.transform(ru(e))+", "+hs.transform(ru(n))+", "+ru(qu.transform(r))+")"},Qt={test:t=>Io.test(t)||Bv.test(t)||Ka.test(t),parse:t=>Io.test(t)?Io.parse(t):Ka.test(t)?Ka.parse(t):Bv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Io.transform(t):Ka.transform(t)},oU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Fb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oU))===null||n===void 0?void 0:n.length)||0)>0}const zO="number",BO="color",lU="var",cU="var(",aE="${}",uU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(uU,l=>(Qt.test(l)?(r.color.push(i),s.push(BO),n.push(Qt.parse(l))):l.startsWith(cU)?(r.var.push(i),s.push(lU),n.push(l)):(r.number.push(i),s.push(zO),n.push(parseFloat(l))),++i,aE)).split(aE);return{values:n,split:a,indexes:r,types:s}}function UO(t){return Qu(t).values}function VO(t){const{split:e,types:n}=Qu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===zO?i+=ru(s[o]):a===BO?i+=Qt.transform(s[o]):i+=s[o]}return i}}const dU=t=>typeof t=="number"?0:t;function fU(t){const e=UO(t);return VO(t)(e.map(dU))}const Xi={test:aU,parse:UO,createTransformer:VO,getAnimatableNone:fU},hU=new Set(["brightness","contrast","saturate","opacity"]);function pU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Fb)||[];if(!r)return t;const s=n.replace(r,"");let i=hU.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const mU=/\b([a-z-]*)\(.*?\)/gu,Uv={...Xi,getAnimatableNone:t=>{const e=t.match(mU);return e?e.map(pU).join(" "):t}},gU={...Sb,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:Uv,WebkitFilter:Uv},Bb=t=>gU[t];function HO(t,e){let n=Bb(t);return n!==Uv&&(n=Xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yU=new Set(["auto","none","0"]);function vU(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!yU.has(i)&&Qu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=HO(n,s)}const lE=t=>t===ql||t===de,cE=(t,e)=>parseFloat(t.split(", ")[e]),uE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return cE(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?cE(i[1],t):0}},xU=new Set(["x","y","z"]),wU=Yl.filter(t=>!xU.has(t));function bU(t){const e=[];return wU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:uE(4,13),y:uE(5,14)};jl.translateX=jl.x;jl.translateY=jl.y;const Go=new Set;let Vv=!1,Hv=!1;function WO(){if(Hv){const t=Array.from(Go).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=bU(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hv=!1,Vv=!1,Go.forEach(t=>t.complete()),Go.clear()}function GO(){Go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hv=!0)})}function SU(){GO(),WO()}class Ub{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Go.add(this),Vv||(Vv=!0,He.read(GO),He.resolveKeyframes(WO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const YO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),kU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EU(t){const e=kU.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function qO(t,e,n=1){const[r,s]=EU(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return YO(o)?parseFloat(o):o}return bb(s)?qO(s,e,n+1):s}const KO=t=>e=>e.test(t),TU={test:t=>t==="auto",parse:t=>t},JO=[ql,de,hs,di,dB,uB,TU],dE=t=>JO.find(KO(t));class QO extends Ub{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),bb(c))){const u=qO(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!NO.has(r)||e.length!==2)return;const[s,i]=e,o=dE(s),a=dE(i);if(o!==a)if(lE(o)&&lE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)tU(e[s])&&r.push(s);r.length&&vU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=jl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const fE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xi.test(t)||t==="0")&&!t.startsWith("url("));function CU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function NU(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=fE(s,e),a=fE(i,e);return!o||!a?!1:CU(t)||(n==="spring"||Ab(n))&&r}const MU=t=>t!==null;function Um(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(MU),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const jU=40;class XO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ps.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>jU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&SU(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ps.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!NU(e,r,s,i))if(o)this.options.duration=0;else{l&&l(Um(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const tt=(t,e,n)=>t+(e-t)*n;function my(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=my(l,a,t+1/3),i=my(l,a,t),o=my(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function rp(t,e){return n=>n>0?e:t}const gy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},AU=[Bv,Io,Ka],LU=t=>AU.find(e=>e.test(t));function hE(t){const e=LU(t);if(!e)return!1;let n=e.parse(t);return e===Ka&&(n=OU(n)),n}const pE=(t,e)=>{const n=hE(t),r=hE(e);if(!n||!r)return rp(t,e);const s={...n};return i=>(s.red=gy(n.red,r.red,i),s.green=gy(n.green,r.green,i),s.blue=gy(n.blue,r.blue,i),s.alpha=tt(n.alpha,r.alpha,i),Io.transform(s))},DU=(t,e)=>n=>e(t(n)),Od=(...t)=>t.reduce(DU),Wv=new Set(["none","hidden"]);function PU(t,e){return Wv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RU(t,e){return n=>tt(t,e,n)}function Vb(t){return typeof t=="number"?RU:typeof t=="string"?bb(t)?rp:Qt.test(t)?pE:$U:Array.isArray(t)?ZO:typeof t=="object"?Qt.test(t)?pE:IU:rp}function ZO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Vb(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function IU(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Vb(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function _U(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const $U=(t,e)=>{const n=Xi.createTransformer(e),r=Qu(t),s=Qu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wv.has(t)&&!s.values.length||Wv.has(e)&&!r.values.length?PU(t,e):Od(ZO(_U(r,s),s.values),n):rp(t,e)};function eA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?tt(t,e,n):Vb(t)(t,e)}const FU=5;function tA(t,e,n){const r=Math.max(e-FU,0);return MO(n-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yy=.001;function zU({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:r=at.mass}){let s,i,o=1-e;o=Js(at.minDamping,at.maxDamping,o),t=Js(at.minDuration,at.maxDuration,Bs(t)),o<1?(s=c=>{const u=c*o,d=u*t,h=u-n,p=Gv(c,o),m=Math.exp(-d);return yy-h/p*m},i=c=>{const d=c*o*t,h=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),y=Gv(Math.pow(c,2),o);return(-s(c)+yy>0?-1:1)*((h-p)*m)/y}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-yy+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=UU(s,i,a);if(t=zs(t),isNaN(l))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const BU=12;function UU(t,e,n){let r=n;for(let s=1;s<BU;s++)r=r-t(r)/e(r);return r}function Gv(t,e){return t*Math.sqrt(1-e*e)}const VU=["duration","bounce"],HU=["stiffness","damping","mass"];function mE(t,e){return e.some(n=>t[n]!==void 0)}function WU(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!mE(t,HU)&&mE(t,VU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Js(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:at.mass,stiffness:s,damping:i}}else{const n=zU(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function nA(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=WU({...n,velocity:-Bs(n.velocity||0)}),m=h||0,y=c/(2*Math.sqrt(l*u)),x=o-i,v=Bs(Math.sqrt(l/u)),w=Math.abs(x)<5;r||(r=w?at.restSpeed.granular:at.restSpeed.default),s||(s=w?at.restDelta.granular:at.restDelta.default);let b;if(y<1){const k=Gv(v,y);b=E=>{const T=Math.exp(-y*v*E);return o-T*((m+y*v*x)/k*Math.sin(k*E)+x*Math.cos(k*E))}}else if(y===1)b=k=>o-Math.exp(-v*k)*(x+(m+v*x)*k);else{const k=v*Math.sqrt(y*y-1);b=E=>{const T=Math.exp(-y*v*E),C=Math.min(k*E,300);return o-T*((m+y*v*x)*Math.sinh(C)+k*x*Math.cosh(C))/k}}const S={calculatedDuration:p&&d||null,next:k=>{const E=b(k);if(p)a.done=k>=d;else{let T=0;y<1&&(T=k===0?zs(m):tA(b,k,E));const C=Math.abs(T)<=r,L=Math.abs(o-E)<=s;a.done=C&&L}return a.value=a.done?o:E,a},toString:()=>{const k=Math.min(wO(S),$v),E=bO(T=>S.next(k*T).value,k,30);return k+"ms "+E}};return S}function gE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,m=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let y=n*e;const x=d+y,v=o===void 0?x:o(x);v!==x&&(y=v-d);const w=C=>-y*Math.exp(-C/r),b=C=>v+w(C),S=C=>{const L=w(C),M=b(C);h.done=Math.abs(L)<=c,h.value=h.done?v:M};let k,E;const T=C=>{p(h.value)&&(k=C,E=nA({keyframes:[h.value,m(h.value)],velocity:tA(b,C,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:C=>{let L=!1;return!E&&k===void 0&&(L=!0,S(C),T(C)),k!==void 0&&C>=k?E.next(C-k):(!L&&S(C),h)}}}const GU=jd(.42,0,1,1),YU=jd(0,0,.58,1),rA=jd(.42,0,.58,1),qU=t=>Array.isArray(t)&&typeof t[0]!="number",yE={linear:er,easeIn:GU,easeInOut:rA,easeOut:YU,circIn:$b,circInOut:_O,circOut:IO,backIn:_b,backInOut:PO,backOut:DO,anticipate:RO},vE=t=>{if(Lb(t)){Iv(t.length===4);const[e,n,r,s]=t;return jd(e,n,r,s)}else if(typeof t=="string")return Iv(yE[t]!==void 0),yE[t];return t};function KU(t,e,n){const r=[],s=n||eA,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||er:e;a=Od(l,a)}r.push(a)}return r}function JU(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Iv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=KU(e,r,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Nl(t[d],t[d+1],u);return a[d](h)};return n?u=>c(Js(t[0],t[i-1],u)):c}function QU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Nl(0,e,r);t.push(tt(n,1,s))}}function XU(t){const e=[0];return QU(e,t.length-1),e}function ZU(t,e){return t.map(n=>n*e)}function eV(t,e){return t.map(()=>e||rA).splice(0,t.length-1)}function sp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=qU(r)?r.map(vE):vE(r),i={done:!1,value:e[0]},o=ZU(n&&n.length===e.length?n:XU(e),t),a=JU(o,e,{ease:Array.isArray(s)?s:eV(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const tV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>He.update(e,!0),stop:()=>Qi(e),now:()=>Bt.isProcessing?Bt.timestamp:ps.now()}},nV={decay:gE,inertia:gE,tween:sp,keyframes:sp,spring:nA},rV=t=>t/100;class Hb extends XO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Ub,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Ab(n)?n:nV[n]||sp;let l,c;a!==sp&&typeof e[0]!="number"&&(l=Od(rV,eA(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=wO(u));const{calculatedDuration:d}=u,h=d+s,p=h*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:m,repeatDelay:y,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,S=i;if(p){const C=Math.min(this.currentTime,u)/d;let L=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(m==="reverse"?(M=1-M,y&&(M-=y/d)):m==="mirror"&&(S=o)),b=Js(0,1,M)*d}const k=w?{done:!1,value:l[0]}:S.next(b);a&&(k.value=a(k.value));let{done:E}=k;!w&&c!==null&&(E=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&s!==void 0&&(k.value=Um(l,this.options,s)),x&&x(k.value),T&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Bs(e.calculatedDuration):0}get time(){return Bs(this.currentTime)}set time(e){e=zs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=tV,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const sV=new Set(["opacity","clipPath","filter","transform"]);function iV(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=kO(a,s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const oV=mb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ip=10,aV=2e4;function lV(t){return Ab(t.type)||t.type==="spring"||!SO(t.ease)}function cV(t,e){const n=new Hb({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<aV;)r=n.sample(i),s.push(r.value),i+=ip;return{times:void 0,keyframes:s,duration:i-ip,ease:"linear"}}const sA={anticipate:RO,backInOut:PO,circInOut:_O};function uV(t){return t in sA}class xE extends XO{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new QO(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&np()&&uV(i)&&(i=sA[i]),lV(this.options)){const{onComplete:d,onUpdate:h,motionValue:p,element:m,...y}=this.options,x=cV(e,y);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,i=x.ease,o="keyframes"}const u=iV(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(nE(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(Um(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Bs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Bs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=zs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return er;const{animation:r}=n;nE(r,e)}return er}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...p}=this.options,m=new Hb({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),y=zs(this.time);c.setWithVelocity(m.sample(y-ip).value,m.sample(y).value,ip)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return oV()&&r&&sV.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const dV={type:"spring",stiffness:500,damping:25,restSpeed:10},fV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hV={type:"keyframes",duration:.8},pV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mV=(t,{keyframes:e})=>e.length>2?hV:ka.has(t)?t.startsWith("scale")?fV(e[1]):dV:pV;function gV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Wb=(t,e,n,r={},s,i)=>o=>{const a=Ob(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-zs(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};gV(a)||(u={...u,...mV(t,u)}),u.duration&&(u.duration=zs(u.duration)),u.repeatDelay&&(u.repeatDelay=zs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!i&&e.get()!==void 0){const h=Um(u.keyframes,a);if(h!==void 0)return He.update(()=>{u.onUpdate(h),u.onComplete()}),new IB([])}return!i&&xE.supports(u)?new xE(u):new Hb(u)};function yV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function iA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),p=l[d];if(p===void 0||u&&yV(u,d))continue;const m={delay:n,...Ob(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const v=jO(t);if(v){const w=window.MotionHandoffAnimation(v,d,He);w!==null&&(m.startTime=w,y=!0)}}zv(t,d),h.start(Wb(d,h,p,t.shouldReduceMotion&&NO.has(d)?{type:!1}:m,t,y));const x=h.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{He.update(()=>{a&&JB(t,a)})}),c}function Yv(t,e,n={}){var r;const s=Ku(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(iA(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return vV(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function vV(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(xV).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Yv(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function xV(t,e){return t.sortNodePosition(e)}function wV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Yv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Yv(t,e,n);else{const s=typeof e=="function"?Ku(t,e,n.custom):e;r=Promise.all(iA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function oA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const bV=yb.length;function aA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?aA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bV;n++){const r=yb[n],s=t.props[r];(Gu(s)||s===!1)&&(e[r]=s)}return e}const SV=[...gb].reverse(),kV=gb.length;function EV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wV(t,n,r)))}function TV(t){let e=EV(t),n=wE(),r=!0;const s=l=>(c,u)=>{var d;const h=Ku(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:m,...y}=h;c={...c,...y,...m}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=aA(t.parent)||{},d=[],h=new Set;let p={},m=1/0;for(let x=0;x<kV;x++){const v=SV[x],w=n[v],b=c[v]!==void 0?c[v]:u[v],S=Gu(b),k=v===l?w.isActive:null;k===!1&&(m=x);let E=b===u[v]&&b!==c[v]&&S;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...p},!w.isActive&&k===null||!b&&!w.prevProp||zm(b)||typeof b=="boolean")continue;const T=CV(w.prevProp,b);let C=T||v===l&&w.isActive&&!E&&S||x>m&&S,L=!1;const M=Array.isArray(b)?b:[b];let N=M.reduce(s(v),{});k===!1&&(N={});const{prevResolvedValues:j={}}=w,I={...j,...N},B=$=>{C=!0,h.has($)&&(L=!0,h.delete($)),w.needsAnimating[$]=!0;const P=t.getValue($);P&&(P.liveStyle=!1)};for(const $ in I){const P=N[$],A=j[$];if(p.hasOwnProperty($))continue;let V=!1;_v(P)&&_v(A)?V=!oA(P,A):V=P!==A,V?P!=null?B($):h.add($):P!==void 0&&h.has($)?B($):w.protectedKeys[$]=!0}w.prevProp=b,w.prevResolvedValues=N,w.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(E&&T)||L)&&d.push(...M.map($=>({animation:$,options:{type:v}})))}if(h.size){const x={};if(typeof c.initial!="boolean"){const v=Ku(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(x.transition=v.transition)}h.forEach(v=>{const w=t.getBaseTarget(v),b=t.getValue(v);b&&(b.liveStyle=!0),x[v]=w??null}),d.push({animation:x})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=wE(),r=!0}}}function CV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oA(e,t):!1}function yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wE(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class lo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NV extends lo{constructor(e){super(e),e.animationState||(e.animationState=TV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let MV=0;class jV extends lo{constructor(){super(...arguments),this.id=MV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OV={animation:{Feature:NV},exit:{Feature:jV}};function Xu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ad(t){return{point:{x:t.pageX,y:t.pageY}}}const AV=t=>e=>Db(e)&&t(e,Ad(e));function su(t,e,n,r){return Xu(t,e,AV(n),r)}const bE=(t,e)=>Math.abs(t-e);function LV(t,e){const n=bE(t.x,e.x),r=bE(t.y,e.y);return Math.sqrt(n**2+r**2)}class lA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=xy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=LV(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=d,{timestamp:y}=Bt;this.history.push({...m,timestamp:y});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=vy(h,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=xy(d.type==="pointercancel"?this.lastMoveEventInfo:vy(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,x),m&&m(d,x)},!Db(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ad(e),a=vy(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Bt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,xy(a,this.history)),this.removeListeners=Od(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qi(this.updatePoint)}}function vy(t,e){return e?{point:e(t.point)}:t}function SE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xy({point:t},e){return{point:t,delta:SE(t,cA(e)),offset:SE(t,DV(e)),velocity:PV(e,.1)}}function DV(t){return t[0]}function cA(t){return t[t.length-1]}function PV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=cA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>zs(e)));)n--;if(!r)return{x:0,y:0};const i=Bs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const uA=1e-4,RV=1-uA,IV=1+uA,dA=.01,_V=0-dA,$V=0+dA;function mn(t){return t.max-t.min}function FV(t,e,n){return Math.abs(t-e)<=n}function kE(t,e,n,r=.5){t.origin=r,t.originPoint=tt(e.min,e.max,t.origin),t.scale=mn(n)/mn(e),t.translate=tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=RV&&t.scale<=IV||isNaN(t.scale))&&(t.scale=1),(t.translate>=_V&&t.translate<=$V||isNaN(t.translate))&&(t.translate=0)}function iu(t,e,n,r){kE(t.x,e.x,n.x,r?r.originX:void 0),kE(t.y,e.y,n.y,r?r.originY:void 0)}function EE(t,e,n){t.min=n.min+e.min,t.max=t.min+mn(e)}function zV(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}function TE(t,e,n){t.min=e.min-n.min,t.max=t.min+mn(e)}function ou(t,e,n){TE(t.x,e.x,n.x),TE(t.y,e.y,n.y)}function BV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?tt(n,t,r.max):Math.min(t,n)),t}function CE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UV(t,{top:e,left:n,bottom:r,right:s}){return{x:CE(t.x,n,s),y:CE(t.y,e,r)}}function NE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function VV(t,e){return{x:NE(t.x,e.x),y:NE(t.y,e.y)}}function HV(t,e){let n=.5;const r=mn(t),s=mn(e);return s>r?n=Nl(e.min,e.max-r,t.min):r>s&&(n=Nl(t.min,t.max-s,e.min)),Js(0,1,n)}function WV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qv=.35;function GV(t=qv){return t===!1?t=0:t===!0&&(t=qv),{x:ME(t,"left","right"),y:ME(t,"top","bottom")}}function ME(t,e,n){return{min:jE(t,e),max:jE(t,n)}}function jE(t,e){return typeof t=="number"?t:t[e]||0}const OE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ja=()=>({x:OE(),y:OE()}),AE=()=>({min:0,max:0}),ut=()=>({x:AE(),y:AE()});function dr(t){return[t("x"),t("y")]}function fA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function YV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wy(t){return t===void 0||t===1}function Kv({scale:t,scaleX:e,scaleY:n}){return!wy(t)||!wy(e)||!wy(n)}function To(t){return Kv(t)||hA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hA(t){return LE(t.x)||LE(t.y)}function LE(t){return t&&t!=="0%"}function op(t,e,n){const r=t-n,s=e*r;return n+s}function DE(t,e,n,r,s){return s!==void 0&&(t=op(t,s,r)),op(t,n,r)+e}function Jv(t,e=0,n=1,r,s){t.min=DE(t.min,e,n,r,s),t.max=DE(t.max,e,n,r,s)}function pA(t,{x:e,y:n}){Jv(t.x,e.translate,e.scale,e.originPoint),Jv(t.y,n.translate,n.scale,n.originPoint)}const PE=.999999999999,RE=1.0000000000001;function KV(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xa(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pA(t,o)),r&&To(i.latestValues)&&Xa(t,i.latestValues))}e.x<RE&&e.x>PE&&(e.x=1),e.y<RE&&e.y>PE&&(e.y=1)}function Qa(t,e){t.min=t.min+e,t.max=t.max+e}function IE(t,e,n,r,s=.5){const i=tt(t.min,t.max,s);Jv(t,e,n,i,r)}function Xa(t,e){IE(t.x,e.x,e.scaleX,e.scale,e.originX),IE(t.y,e.y,e.scaleY,e.scale,e.originY)}function mA(t,e){return fA(qV(t.getBoundingClientRect(),e))}function JV(t,e,n){const r=mA(t,n),{scroll:s}=e;return s&&(Qa(r.x,s.offset.x),Qa(r.y,s.offset.y)),r}const gA=({current:t})=>t?t.ownerDocument.defaultView:null,QV=new WeakMap;class XV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ad(u).point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WB(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(x=>{let v=this.getAxisMotionValue(x).get()||0;if(hs.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[x];b&&(v=mn(b)*(parseFloat(v)/100))}}this.originPoint[x]=v}),m&&He.postRender(()=>m(u,d)),zv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=d;if(p&&this.currentDirection===null){this.currentDirection=ZV(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),l=()=>dr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new lA(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:gA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&He.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Sf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=BV(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&qa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=UV(s.layoutBox,n):this.constraints=!1,this.elastic=GV(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=WV(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=JV(r,s.root,this.visualElement.getTransformPagePoint());let o=VV(s.layout.layoutBox,i);if(n){const a=n(YV(o));this.hasMutatedConstraints=!!a,a&&(o=fA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=dr(u=>{if(!Sf(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return zv(this.visualElement,e),r.start(Wb(e,r,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:r}=this.getProps();if(!Sf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-tt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=HV({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dr(o=>{if(!Sf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(tt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;QV.set(this.visualElement,this);const e=this.visualElement.current,n=su(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();qa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),He.read(r);const o=Xu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(dr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=qv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Sf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class eH extends lo{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new XV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const _E=t=>(e,n)=>{t&&He.postRender(()=>t(e,n))};class tH extends lo{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new lA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:_E(e),onStart:_E(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&He.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $E(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=$E(t,e.target.x),r=$E(t,e.target.y);return`${n}% ${r}%`}},nH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Xi.parse(t);if(s.length>5)return r;const i=Xi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=tt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class rH extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;cB(sH),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||He.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yA(t){const[e,n]=eO(),r=g.useContext(db);return f.jsx(rH,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(aO),isPresent:e,safeToRemove:n})}const sH={borderRadius:{...wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wc,borderTopRightRadius:wc,borderBottomLeftRadius:wc,borderBottomRightRadius:wc,boxShadow:nH};function iH(t,e,n){const r=rn(t)?t:Ju(t);return r.start(Wb("",r,e,n)),r.animation}function oH(t){return t instanceof SVGElement&&t.tagName!=="svg"}const aH=(t,e)=>t.depth-e.depth;class lH{constructor(){this.children=[],this.isDirty=!1}add(e){Pb(this.children,e),this.isDirty=!0}remove(e){Rb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aH),this.isDirty=!1,this.children.forEach(e)}}function cH(t,e){const n=ps.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Qi(r),t(i-e))};return He.read(r,!0),()=>Qi(r)}const vA=["TopLeft","TopRight","BottomLeft","BottomRight"],uH=vA.length,FE=t=>typeof t=="string"?parseFloat(t):t,zE=t=>typeof t=="number"||de.test(t);function dH(t,e,n,r,s,i){s?(t.opacity=tt(0,n.opacity!==void 0?n.opacity:1,fH(r)),t.opacityExit=tt(e.opacity!==void 0?e.opacity:1,0,hH(r))):i&&(t.opacity=tt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<uH;o++){const a=`border${vA[o]}Radius`;let l=BE(e,a),c=BE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||zE(l)===zE(c)?(t[a]=Math.max(tt(FE(l),FE(c),r),0),(hs.test(c)||hs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=tt(e.rotate||0,n.rotate||0,r))}function BE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fH=xA(0,.5,IO),hH=xA(.5,.95,er);function xA(t,e,n){return r=>r<t?0:r>e?1:n(Nl(t,e,r))}function UE(t,e){t.min=e.min,t.max=e.max}function cr(t,e){UE(t.x,e.x),UE(t.y,e.y)}function VE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HE(t,e,n,r,s){return t-=e,t=op(t,1/n,r),s!==void 0&&(t=op(t,1/s,r)),t}function pH(t,e=0,n=1,r=.5,s,i=t,o=t){if(hs.test(e)&&(e=parseFloat(e),e=tt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=tt(i.min,i.max,r);t===i&&(a-=e),t.min=HE(t.min,e,n,a,s),t.max=HE(t.max,e,n,a,s)}function WE(t,e,[n,r,s],i,o){pH(t,e[n],e[r],e[s],e.scale,i,o)}const mH=["x","scaleX","originX"],gH=["y","scaleY","originY"];function GE(t,e,n,r){WE(t.x,e,mH,n?n.x:void 0,r?r.x:void 0),WE(t.y,e,gH,n?n.y:void 0,r?r.y:void 0)}function YE(t){return t.translate===0&&t.scale===1}function wA(t){return YE(t.x)&&YE(t.y)}function qE(t,e){return t.min===e.min&&t.max===e.max}function yH(t,e){return qE(t.x,e.x)&&qE(t.y,e.y)}function KE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bA(t,e){return KE(t.x,e.x)&&KE(t.y,e.y)}function JE(t){return mn(t.x)/mn(t.y)}function QE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vH{constructor(){this.members=[]}add(e){Pb(this.members,e),e.scheduleRender()}remove(e){if(Rb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xH(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const by=["","X","Y","Z"],wH={visibility:"hidden"},XE=1e3;let bH=0;function Sy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SA(r)}function kA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=bH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EH),this.nodes.forEach(jH),this.nodes.forEach(OH),this.nodes.forEach(TH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ib),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oH(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=cH(h,250),ah.hasAnimatedSinceResize&&(ah.hasAnimatedSinceResize=!1,this.nodes.forEach(eT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||RH,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!bA(this.targetLayout,m),b=!h&&p;if(this.options.layoutRoot||this.resumeFrom||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const S={...Ob(y,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||eT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZE);return}this.isUpdating||this.nodes.forEach(NH),this.isUpdating=!1,this.nodes.forEach(MH),this.nodes.forEach(SH),this.nodes.forEach(kH),this.clearAllSnapshots();const a=ps.now();Bt.delta=Js(0,1e3/60,a-Bt.timestamp),Bt.timestamp=a,Bt.isProcessing=!0,fy.update.process(Bt),fy.preRender.process(Bt),fy.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CH),this.sharedNodes.forEach(LH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!wA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||To(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),IH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ut();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(_H))){const{scroll:u}=this.root;u&&(Qa(l.x,u.offset.x),Qa(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=ut();if(cr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&cr(l,o),Qa(l.x,d.offset.x),Qa(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=ut();cr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xa(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),To(u.latestValues)&&Xa(l,u.latestValues)}return To(this.latestValues)&&Xa(l,this.latestValues),l}removeTransform(o){const a=ut();cr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!To(c.latestValues))continue;Kv(c.latestValues)&&c.updateSnapshot();const u=ut(),d=c.measurePageBox();cr(u,d),GE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return To(this.latestValues)&&GE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ou(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),pA(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ou(this.relativeTargetOrigin,this.target,p.target),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kv(this.parent.latestValues)||hA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;cr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;KV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ut());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VE(this.prevProjectionDelta.x,this.projectionDelta.x),VE(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!QE(this.projectionDelta.x,this.prevProjectionDelta.x)||!QE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ja(),this.projectionDelta=Ja(),this.projectionDeltaWithTransform=Ja()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ut(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,y=p!==m,x=this.getStack(),v=!x||x.members.length<=1,w=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(PH));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const k=S/1e3;tT(d.x,o.x,k),tT(d.y,o.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ou(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DH(this.relativeTarget,this.relativeTargetOrigin,h,k),b&&yH(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ut()),cr(b,this.relativeTarget)),y&&(this.animationValues=u,dH(u,c,this.latestValues,k,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{ah.hasAnimatedSinceResize=!0,this.currentAnimation=iH(0,XE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&EA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ut();const d=mn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=mn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}cr(a,l),Xa(a,u),iu(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Sy("z",o,c,this.animationValues);for(let u=0;u<by.length;u++)Sy(`rotate${by[u]}`,o,c,this.animationValues),Sy(`skew${by[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wH;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ih(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ih(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=xH(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Yu){if(h[y]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:w}=Yu[y],b=c.transform==="none"?h[y]:x(h[y],d);if(v){const S=v.length;for(let k=0;k<S;k++)c[v[k]]=b}else w?this.options.visualElement.renderState.vars[y]=b:c[y]=b}return this.options.layoutId&&(c.pointerEvents=d===this?ih(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ZE),this.root.sharedNodes.clear()}}}function SH(t){t.updateLayout()}function kH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?dr(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=mn(h);h.min=r[d].min,h.max=h.min+p}):EA(i,n.layoutBox,r)&&dr(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=mn(r[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Ja();iu(a,r,n.layoutBox);const l=Ja();o?iu(l,t.applyTransform(s,!0),n.measuredBox):iu(l,r,n.layoutBox);const c=!wA(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const m=ut();ou(m,n.layoutBox,h.layoutBox);const y=ut();ou(y,r,p.layoutBox),bA(m,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CH(t){t.clearSnapshot()}function ZE(t){t.clearMeasurements()}function NH(t){t.isLayoutDirty=!1}function MH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jH(t){t.resolveTargetDelta()}function OH(t){t.calcProjection()}function AH(t){t.resetSkewAndRotation()}function LH(t){t.removeLeadSnapshot()}function tT(t,e,n){t.translate=tt(e.translate,0,n),t.scale=tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nT(t,e,n,r){t.min=tt(e.min,n.min,r),t.max=tt(e.max,n.max,r)}function DH(t,e,n,r){nT(t.x,e.x,n.x,r),nT(t.y,e.y,n.y,r)}function PH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RH={duration:.45,ease:[.4,0,.1,1]},rT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sT=rT("applewebkit/")&&!rT("chrome/")?Math.round:er;function iT(t){t.min=sT(t.min),t.max=sT(t.max)}function IH(t){iT(t.x),iT(t.y)}function EA(t,e,n){return t==="position"||t==="preserve-aspect"&&!FV(JE(e),JE(n),.2)}function _H(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $H=kA({attachResizeListener:(t,e)=>Xu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ky={current:void 0},TA=kA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ky.current){const t=new $H({});t.mount(window),t.setOptions({layoutScroll:!0}),ky.current=t}return ky.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FH={pan:{Feature:tH},drag:{Feature:eH,ProjectionNode:TA,MeasureLayout:yA}};function oT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&He.postRender(()=>i(e,Ad(e)))}class zH extends lo{mount(){const{current:e}=this.node;e&&(this.unmount=zB(e,(n,r)=>(oT(this.node,r,"Start"),s=>oT(this.node,s,"End"))))}unmount(){}}class BH extends lo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Od(Xu(this.node.current,"focus",()=>this.onFocus()),Xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&He.postRender(()=>i(e,Ad(e)))}class UH extends lo{mount(){const{current:e}=this.node;e&&(this.unmount=HB(e,(n,r)=>(aT(this.node,r,"Start"),(s,{success:i})=>aT(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qv=new WeakMap,Ey=new WeakMap,VH=t=>{const e=Qv.get(t.target);e&&e(t)},HH=t=>{t.forEach(VH)};function WH({root:t,...e}){const n=t||document;Ey.has(n)||Ey.set(n,{});const r=Ey.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(HH,{root:t,...e})),r[s]}function GH(t,e,n){const r=WH(e);return Qv.set(t,n),r.observe(t),()=>{Qv.delete(t),r.unobserve(t)}}const YH={some:0,all:1};class qH extends lo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:YH[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return GH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KH(e,n))&&this.startObserver()}unmount(){}}function KH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JH={inView:{Feature:qH},tap:{Feature:UH},focus:{Feature:BH},hover:{Feature:zH}},QH={layout:{ProjectionNode:TA,MeasureLayout:yA}},Xv={current:null},CA={current:!1};function XH(){if(CA.current=!0,!!pb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xv.current=t.matches;t.addListener(e),e()}else Xv.current=!1}const ZH=[...JO,Qt,Xi],e6=t=>ZH.find(KO(t)),t6=new WeakMap;function n6(t,e,n){for(const r in e){const s=e[r],i=n[r];if(rn(s))t.addValue(r,s);else if(rn(i))t.addValue(r,Ju(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Ju(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ub,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ps.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,He.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Bm(n),this.isVariantNode=iO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&rn(m)&&m.set(l[p],!1)}}mount(e){this.current=e,t6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),CA.current||XH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qi(this.notifyUpdate),Qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ka.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ml){const n=Ml[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lT.length;r++){const s=lT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=n6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ju(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(YO(s)||$O(s))?s=parseFloat(s):!e6(s)&&Xi.test(n)&&(s=HO(e,n)),this.setBaseTarget(e,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Mb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!rn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ib),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NA extends r6{constructor(){super(...arguments),this.KeyframeResolver=QO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function s6(t){return window.getComputedStyle(t)}class i6 extends NA{constructor(){super(...arguments),this.type="html",this.renderInstance=gO}readValueFromInstance(e,n){if(ka.has(n)){const r=Bb(n);return r&&r.default||0}else{const r=s6(e),s=(wb(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mA(e,n)}build(e,n,r){kb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return jb(e,n,r)}}class o6 extends NA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&mO(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ka.has(n)){const r=Bb(n);return r&&r.default||0}return n=yO.has(n)?n:vb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return xO(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&He.postRender(this.updateDimensions)}build(e,n,r){Cb(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){vO(e,n,r,s)}mount(e){this.isSVGTag=Nb(e.tagName),super.mount(e)}}const a6=(t,e)=>Tb(t)?new o6(e):new i6(e,{allowProjection:t!==g.Fragment}),l6=DB({...OV,...JH,...FH,...QH},a6),J=Kz(l6);function MA(t,e){return function(){return t.apply(e,arguments)}}const{toString:c6}=Object.prototype,{getPrototypeOf:Gb}=Object,Vm=(t=>e=>{const n=c6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jr=t=>(t=t.toLowerCase(),e=>Vm(e)===t),Hm=t=>e=>typeof e===t,{isArray:Kl}=Array,Zu=Hm("undefined");function u6(t){return t!==null&&!Zu(t)&&t.constructor!==null&&!Zu(t.constructor)&&tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jA=Jr("ArrayBuffer");function d6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jA(t.buffer),e}const f6=Hm("string"),tr=Hm("function"),OA=Hm("number"),Wm=t=>t!==null&&typeof t=="object",h6=t=>t===!0||t===!1,lh=t=>{if(Vm(t)!=="object")return!1;const e=Gb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},p6=Jr("Date"),m6=Jr("File"),g6=Jr("Blob"),y6=Jr("FileList"),v6=t=>Wm(t)&&tr(t.pipe),x6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tr(t.append)&&((e=Vm(t))==="formdata"||e==="object"&&tr(t.toString)&&t.toString()==="[object FormData]"))},w6=Jr("URLSearchParams"),[b6,S6,k6,E6]=["ReadableStream","Request","Response","Headers"].map(Jr),T6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ld(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Kl(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function AA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const _o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LA=t=>!Zu(t)&&t!==_o;function Zv(){const{caseless:t}=LA(this)&&this||{},e={},n=(r,s)=>{const i=t&&AA(e,s)||s;lh(e[i])&&lh(r)?e[i]=Zv(e[i],r):lh(r)?e[i]=Zv({},r):Kl(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ld(arguments[r],n);return e}const C6=(t,e,n,{allOwnKeys:r}={})=>(Ld(e,(s,i)=>{n&&tr(s)?t[i]=MA(s,n):t[i]=s},{allOwnKeys:r}),t),N6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),M6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},j6=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Gb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},O6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},A6=t=>{if(!t)return null;if(Kl(t))return t;let e=t.length;if(!OA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},L6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gb(Uint8Array)),D6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},P6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},R6=Jr("HTMLFormElement"),I6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),cT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_6=Jr("RegExp"),DA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ld(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},$6=t=>{DA(t,(e,n)=>{if(tr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(tr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},F6=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Kl(t)?r(t):r(String(t).split(e)),n},z6=()=>{},B6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function U6(t){return!!(t&&tr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const V6=t=>{const e=new Array(10),n=(r,s)=>{if(Wm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Kl(r)?[]:{};return Ld(r,(o,a)=>{const l=n(o,s+1);!Zu(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},H6=Jr("AsyncFunction"),W6=t=>t&&(Wm(t)||tr(t))&&tr(t.then)&&tr(t.catch),PA=((t,e)=>t?setImmediate:e?((n,r)=>(_o.addEventListener("message",({source:s,data:i})=>{s===_o&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),_o.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tr(_o.postMessage)),G6=typeof queueMicrotask<"u"?queueMicrotask.bind(_o):typeof process<"u"&&process.nextTick||PA,R={isArray:Kl,isArrayBuffer:jA,isBuffer:u6,isFormData:x6,isArrayBufferView:d6,isString:f6,isNumber:OA,isBoolean:h6,isObject:Wm,isPlainObject:lh,isReadableStream:b6,isRequest:S6,isResponse:k6,isHeaders:E6,isUndefined:Zu,isDate:p6,isFile:m6,isBlob:g6,isRegExp:_6,isFunction:tr,isStream:v6,isURLSearchParams:w6,isTypedArray:L6,isFileList:y6,forEach:Ld,merge:Zv,extend:C6,trim:T6,stripBOM:N6,inherits:M6,toFlatObject:j6,kindOf:Vm,kindOfTest:Jr,endsWith:O6,toArray:A6,forEachEntry:D6,matchAll:P6,isHTMLForm:R6,hasOwnProperty:cT,hasOwnProp:cT,reduceDescriptors:DA,freezeMethods:$6,toObjectSet:F6,toCamelCase:I6,noop:z6,toFiniteNumber:B6,findKey:AA,global:_o,isContextDefined:LA,isSpecCompliantForm:U6,toJSONObject:V6,isAsyncFn:H6,isThenable:W6,setImmediate:PA,asap:G6};function xe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}R.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const RA=xe.prototype,IA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{IA[t]={value:t}});Object.defineProperties(xe,IA);Object.defineProperty(RA,"isAxiosError",{value:!0});xe.from=(t,e,n,r,s,i)=>{const o=Object.create(RA);return R.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),xe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Y6=null;function ex(t){return R.isPlainObject(t)||R.isArray(t)}function _A(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function uT(t,e,n){return t?t.concat(e).map(function(s,i){return s=_A(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function q6(t){return R.isArray(t)&&!t.some(ex)}const K6=R.toFlatObject(R,{},null,function(e){return/^is[A-Z]/.test(e)});function Gm(t,e,n){if(!R.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!R.isUndefined(x[y])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(e);if(!R.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(R.isDate(m))return m.toISOString();if(!l&&R.isBlob(m))throw new xe("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(m)||R.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,y,x){let v=m;if(m&&!x&&typeof m=="object"){if(R.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(R.isArray(m)&&q6(m)||(R.isFileList(m)||R.endsWith(y,"[]"))&&(v=R.toArray(m)))return y=_A(y),v.forEach(function(b,S){!(R.isUndefined(b)||b===null)&&e.append(o===!0?uT([y],S,i):o===null?y:y+"[]",c(b))}),!1}return ex(m)?!0:(e.append(uT(x,y,i),c(m)),!1)}const d=[],h=Object.assign(K6,{defaultVisitor:u,convertValue:c,isVisitable:ex});function p(m,y){if(!R.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),R.forEach(m,function(v,w){(!(R.isUndefined(v)||v===null)&&s.call(e,v,R.isString(w)?w.trim():w,y,h))===!0&&p(v,y?y.concat(w):[w])}),d.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return p(t),e}function dT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Yb(t,e){this._pairs=[],t&&Gm(t,this,e)}const $A=Yb.prototype;$A.append=function(e,n){this._pairs.push([e,n])};$A.toString=function(e){const n=e?function(r){return e.call(this,r,dT)}:dT;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function J6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FA(t,e,n){if(!e)return t;const r=n&&n.encode||J6;R.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=R.isURLSearchParams(e)?e.toString():new Yb(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class fT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){R.forEach(this.handlers,function(r){r!==null&&e(r)})}}const zA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q6=typeof URLSearchParams<"u"?URLSearchParams:Yb,X6=typeof FormData<"u"?FormData:null,Z6=typeof Blob<"u"?Blob:null,e8={isBrowser:!0,classes:{URLSearchParams:Q6,FormData:X6,Blob:Z6},protocols:["http","https","file","blob","url","data"]},qb=typeof window<"u"&&typeof document<"u",tx=typeof navigator=="object"&&navigator||void 0,t8=qb&&(!tx||["ReactNative","NativeScript","NS"].indexOf(tx.product)<0),n8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",r8=qb&&window.location.href||"http://localhost",s8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qb,hasStandardBrowserEnv:t8,hasStandardBrowserWebWorkerEnv:n8,navigator:tx,origin:r8},Symbol.toStringTag,{value:"Module"})),tn={...s8,...e8};function i8(t,e){return Gm(t,new tn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return tn.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function o8(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function a8(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function BA(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&R.isArray(s)?s.length:o,l?(R.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!R.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&R.isArray(s[o])&&(s[o]=a8(s[o])),!a)}if(R.isFormData(t)&&R.isFunction(t.entries)){const n={};return R.forEachEntry(t,(r,s)=>{e(o8(r),s,n,0)}),n}return null}function l8(t,e,n){if(R.isString(t))try{return(e||JSON.parse)(t),R.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Dd={transitional:zA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=R.isObject(e);if(i&&R.isHTMLForm(e)&&(e=new FormData(e)),R.isFormData(e))return s?JSON.stringify(BA(e)):e;if(R.isArrayBuffer(e)||R.isBuffer(e)||R.isStream(e)||R.isFile(e)||R.isBlob(e)||R.isReadableStream(e))return e;if(R.isArrayBufferView(e))return e.buffer;if(R.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return i8(e,this.formSerializer).toString();if((a=R.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),l8(e)):e}],transformResponse:[function(e){const n=this.transitional||Dd.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(R.isResponse(e)||R.isReadableStream(e))return e;if(e&&R.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?xe.from(a,xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],t=>{Dd.headers[t]={}});const c8=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),u8=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&c8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},hT=Symbol("internals");function bc(t){return t&&String(t).trim().toLowerCase()}function ch(t){return t===!1||t==null?t:R.isArray(t)?t.map(ch):String(t)}function d8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const f8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ty(t,e,n,r,s){if(R.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!R.isString(e)){if(R.isString(r))return e.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(e)}}function h8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function p8(t,e){const n=R.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Bn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=bc(l);if(!u)throw new Error("header name must be a non-empty string");const d=R.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=ch(a))}const o=(a,l)=>R.forEach(a,(c,u)=>i(c,u,l));if(R.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(R.isString(e)&&(e=e.trim())&&!f8(e))o(u8(e),n);else if(R.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=bc(e),e){const r=R.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return d8(s);if(R.isFunction(n))return n.call(this,s,r);if(R.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=bc(e),e){const r=R.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ty(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=bc(o),o){const a=R.findKey(r,o);a&&(!n||Ty(r,r[a],a,n))&&(delete r[a],s=!0)}}return R.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Ty(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return R.forEach(this,(s,i)=>{const o=R.findKey(r,i);if(o){n[o]=ch(s),delete n[i];return}const a=e?h8(i):String(i).trim();a!==i&&delete n[i],n[a]=ch(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return R.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[hT]=this[hT]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=bc(o);r[a]||(p8(s,o),r[a]=!0)}return R.isArray(e)?e.forEach(i):i(e),this}}Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});R.freezeMethods(Bn);function Cy(t,e){const n=this||Dd,r=e||n,s=Bn.from(r.headers);let i=r.data;return R.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function UA(t){return!!(t&&t.__CANCEL__)}function Jl(t,e,n){xe.call(this,t??"canceled",xe.ERR_CANCELED,e,n),this.name="CanceledError"}R.inherits(Jl,xe,{__CANCEL__:!0});function VA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function m8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function g8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let d=i,h=0;for(;d!==s;)h+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function y8(t,e){let n=0,r=1e3/e,s,i;const o=(c,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const ap=(t,e,n=3)=>{let r=0;const s=g8(50,250);return y8(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},pT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},mT=t=>(...e)=>R.asap(()=>t(...e)),v8=tn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,x8=tn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];R.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),R.isString(r)&&o.push("path="+r),R.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function w8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function b8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function HA(t,e,n){let r=!w8(e);return t&&r||n==!1?b8(t,e):e}const gT=t=>t instanceof Bn?{...t}:t;function ia(t,e){e=e||{};const n={};function r(c,u,d,h){return R.isPlainObject(c)&&R.isPlainObject(u)?R.merge.call({caseless:h},c,u):R.isPlainObject(u)?R.merge({},u):R.isArray(u)?u.slice():u}function s(c,u,d,h){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c,d,h)}else return r(c,u,d,h)}function i(c,u){if(!R.isUndefined(u))return r(void 0,u)}function o(c,u){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>s(gT(c),gT(u),d,!0)};return R.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||s,h=d(t[u],e[u],u);R.isUndefined(h)&&d!==a||(n[u]=h)}),n}const WA=t=>{const e=ia({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Bn.from(o),e.url=FA(HA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(R.isFormData(n)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(tn.hasStandardBrowserEnv&&(r&&R.isFunction(r)&&(r=r(e)),r||r!==!1&&v8(e.url))){const c=s&&i&&x8.read(i);c&&o.set(s,c)}return e},S8=typeof XMLHttpRequest<"u",k8=S8&&function(t){return new Promise(function(n,r){const s=WA(t);let i=s.data;const o=Bn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,d,h,p,m;function y(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function v(){if(!x)return;const b=Bn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:t,request:x};VA(function(T){n(T),y()},function(T){r(T),y()},k),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(r(new xe("Request aborted",xe.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||zA;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new xe(S,k.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,t,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&R.forEach(o.toJSON(),function(S,k){x.setRequestHeader(k,S)}),R.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),a&&a!=="json"&&(x.responseType=s.responseType),c&&([h,m]=ap(c,!0),x.addEventListener("progress",h)),l&&x.upload&&([d,p]=ap(l),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=b=>{x&&(r(!b||b.type?new Jl(null,t,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const w=m8(s.url);if(w&&tn.protocols.indexOf(w)===-1){r(new xe("Unsupported protocol "+w+":",xe.ERR_BAD_REQUEST,t));return}x.send(i||null)})},E8=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof xe?u:new Jl(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>R.asap(a),l}},T8=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},C8=async function*(t,e){for await(const n of N8(t))yield*T8(n,e)},N8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},yT=(t,e,n,r)=>{const s=C8(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let h=i+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Ym=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",GA=Ym&&typeof ReadableStream=="function",M8=Ym&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),YA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},j8=GA&&YA(()=>{let t=!1;const e=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),vT=64*1024,nx=GA&&YA(()=>R.isReadableStream(new Response("").body)),lp={stream:nx&&(t=>t.body)};Ym&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lp[e]&&(lp[e]=R.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const O8=async t=>{if(t==null)return 0;if(R.isBlob(t))return t.size;if(R.isSpecCompliantForm(t))return(await new Request(tn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(R.isArrayBufferView(t)||R.isArrayBuffer(t))return t.byteLength;if(R.isURLSearchParams(t)&&(t=t+""),R.isString(t))return(await M8(t)).byteLength},A8=async(t,e)=>{const n=R.toFiniteNumber(t.getContentLength());return n??O8(e)},L8=Ym&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=WA(t);c=c?(c+"").toLowerCase():"text";let p=E8([s,i&&i.toAbortSignal()],o),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&j8&&n!=="get"&&n!=="head"&&(x=await A8(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(R.isFormData(r)&&(E=k.headers.get("content-type"))&&u.setContentType(E),k.body){const[T,C]=pT(x,ap(mT(l)));r=yT(k.body,vT,T,C)}}R.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;m=new Request(e,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let w=await fetch(m);const b=nx&&(c==="stream"||c==="response");if(nx&&(a||b&&y)){const k={};["status","statusText","headers"].forEach(L=>{k[L]=w[L]});const E=R.toFiniteNumber(w.headers.get("content-length")),[T,C]=a&&pT(E,ap(mT(a),!0))||[];w=new Response(yT(w.body,vT,T,()=>{C&&C(),y&&y()}),k)}c=c||"text";let S=await lp[R.findKey(lp,c)||"text"](w,t);return!b&&y&&y(),await new Promise((k,E)=>{VA(k,E,{data:S,headers:Bn.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:m})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,t,m),{cause:v.cause||v}):xe.from(v,v&&v.code,t,m)}}),rx={http:Y6,xhr:k8,fetch:L8};R.forEach(rx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xT=t=>`- ${t}`,D8=t=>R.isFunction(t)||t===null||t===!1,qA={getAdapter:t=>{t=R.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!D8(n)&&(r=rx[(o=String(n)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(xT).join(`
`):" "+xT(i[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:rx};function Ny(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jl(null,t)}function wT(t){return Ny(t),t.headers=Bn.from(t.headers),t.data=Cy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qA.getAdapter(t.adapter||Dd.adapter)(t).then(function(r){return Ny(t),r.data=Cy.call(t,t.transformResponse,r),r.headers=Bn.from(r.headers),r},function(r){return UA(r)||(Ny(t),r&&r.response&&(r.response.data=Cy.call(t,t.transformResponse,r.response),r.response.headers=Bn.from(r.response.headers))),Promise.reject(r)})}const KA="1.8.3",qm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bT={};qm.transitional=function(e,n,r){function s(i,o){return"[Axios v"+KA+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new xe(s(o," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!bT[o]&&(bT[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};qm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function P8(t,e,n){if(typeof t!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new xe("option "+i+" must be "+l,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+i,xe.ERR_BAD_OPTION)}}const uh={assertOptions:P8,validators:qm},rs=uh.validators;class Yo{constructor(e){this.defaults=e,this.interceptors={request:new fT,response:new fT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ia(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&uh.assertOptions(r,{silentJSONParsing:rs.transitional(rs.boolean),forcedJSONParsing:rs.transitional(rs.boolean),clarifyTimeoutError:rs.transitional(rs.boolean)},!1),s!=null&&(R.isFunction(s)?n.paramsSerializer={serialize:s}:uh.assertOptions(s,{encode:rs.function,serialize:rs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),uh.assertOptions(n,{baseUrl:rs.spelling("baseURL"),withXsrfToken:rs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&R.merge(i.common,i[n.method]);i&&R.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Bn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,h;if(!l){const m=[wT.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),h=m.length,u=Promise.resolve(n);d<h;)u=u.then(m[d++],m[d++]);return u}h=a.length;let p=n;for(d=0;d<h;){const m=a[d++],y=a[d++];try{p=m(p)}catch(x){y.call(this,x);break}}try{u=wT.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=ia(this.defaults,e);const n=HA(e.baseURL,e.url,e.allowAbsoluteUrls);return FA(n,e.params,e.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(e){Yo.prototype[e]=function(n,r){return this.request(ia(r||{},{method:e,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ia(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Yo.prototype[e]=n(),Yo.prototype[e+"Form"]=n(!0)});class Kb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Jl(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Kb(function(s){e=s}),cancel:e}}}function R8(t){return function(n){return t.apply(null,n)}}function I8(t){return R.isObject(t)&&t.isAxiosError===!0}const sx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sx).forEach(([t,e])=>{sx[e]=t});function JA(t){const e=new Yo(t),n=MA(Yo.prototype.request,e);return R.extend(n,Yo.prototype,e,{allOwnKeys:!0}),R.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return JA(ia(t,s))},n}const pt=JA(Dd);pt.Axios=Yo;pt.CanceledError=Jl;pt.CancelToken=Kb;pt.isCancel=UA;pt.VERSION=KA;pt.toFormData=Gm;pt.AxiosError=xe;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=R8;pt.isAxiosError=I8;pt.mergeConfig=ia;pt.AxiosHeaders=Bn;pt.formToJSON=t=>BA(R.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=qA.getAdapter;pt.HttpStatusCode=sx;pt.default=pt;const QA="https://translation.googleapis.com/language/translate/v2",XA="AIzaSyAmqwmryt7St5wj1ZCkAWSgybehloiEDgA",_8=async(t,e,n="en")=>{try{if(!t||e===n)return t;console.log(`Translating text to ${e}:`,t.substring(0,20)+(t.length>20?"...":""));const r=await pt({method:"post",url:`${QA}?key=${XA}`,data:{q:t,target:e,source:n,format:"text"}});return r.data&&r.data.data&&r.data.data.translations&&r.data.data.translations.length>0?(console.log("Translation successful"),r.data.data.translations[0].translatedText):(console.warn("Translation response format unexpected:",r.data),t)}catch(r){return console.error("Translation error:",r.response?r.response.data:r.message),t}},$8=async(t,e,n="en")=>{try{if(!t||!t.length||e===n)return t;console.log(`Batch translating ${t.length} texts to ${e}`);const r=await pt({method:"post",url:`${QA}?key=${XA}`,data:{q:t,target:e,source:n,format:"text"}});return r.data&&r.data.data&&r.data.data.translations?(console.log("Batch translation successful"),r.data.data.translations.map(s=>s.translatedText)):(console.warn("Batch translation response format unexpected:",r.data),t)}catch(r){return console.error("Batch translation error:",r.response?r.response.data:r.message),t}},Lr={ENGLISH:"en",GERMAN:"de"},ZA=g.createContext(),vo={},F8=({children:t})=>{const[e,n]=g.useState(Lr.ENGLISH),[r,s]=g.useState({}),[i,o]=g.useState(!1),[a,l]=g.useState([]),[c,u]=g.useState(null),d=g.useCallback(v=>{Object.values(Lr).includes(v)&&(localStorage.setItem("userLanguage",v),n(v))},[]),h=g.useCallback(async(v,w=e)=>{if(w===Lr.ENGLISH||!v)return v;const b=`${v}_${w}`;if(vo[b])return vo[b];try{o(!0);const S=await _8(v,w,Lr.ENGLISH);return vo[b]=S,s(k=>({...k,[b]:S})),S}catch(S){return console.error("Translation error:",S),v}finally{o(!1)}},[e]),p=g.useCallback(async v=>{if(!(e===Lr.ENGLISH||!v.length))try{o(!0);const w=v.filter(S=>{const k=`${S}_${e}`;return!vo[k]});if(w.length===0)return;const b=await $8(w,e,Lr.ENGLISH);w.forEach((S,k)=>{const E=`${S}_${e}`;vo[E]=b[k],s(T=>({...T,[E]:b[k]}))})}catch(w){console.error("Batch translation error:",w)}finally{o(!1)}},[e]);g.useEffect(()=>{if(a.length>0&&!c){const v=setTimeout(()=>{p(a),l([]),u(null)},300);u(v)}return()=>{c&&clearTimeout(c)}},[a,c,p]);const m=g.useCallback(v=>{if(e===Lr.ENGLISH||!v)return;const w=`${v}_${e}`;vo[w]||l(b=>[...b,v])},[e]),y=g.useCallback(async v=>e===Lr.ENGLISH?v:h(v,e),[e,h]),x=g.useCallback(v=>{if(e===Lr.ENGLISH||!v)return v;const w=`${v}_${e}`;return!vo[w]&&!r[w]&&m(v),r[w]||v},[e,r,m]);return g.useEffect(()=>{const v=localStorage.getItem("userLanguage");v&&Object.values(Lr).includes(v)&&n(v)},[]),f.jsx(ZA.Provider,{value:{language:e,changeLanguage:d,t:y,tSync:x,translateText:h,batchTranslate:p,queueTranslation:m,isLoading:i,languages:Lr},children:t})},eL=()=>{const t=g.useContext(ZA);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},D=g.memo(({children:t,textKey:e})=>{const{tSync:n,t:r,language:s,isLoading:i}=eL(),[o,a]=g.useState(""),[l,c]=g.useState(!1),u=e||t;return g.useEffect(()=>{if(!u)return;if(s==="en"){a(u),c(!1);return}const d=n(u);a(d),(async()=>{c(!0);try{const p=await r(u);p&&p!==u&&a(p)}catch(p){console.error("Translation component error:",p)}finally{c(!1)}})()},[u,s,r,n]),!l||String(u).length<20?f.jsx(f.Fragment,{children:o||u}):f.jsxs("span",{className:"relative",children:[f.jsx("span",{className:"opacity-60",children:o||u}),f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gray-300 dark:bg-gray-700 overflow-hidden",children:f.jsx("span",{className:"absolute h-full w-1/3 bg-design-primaryPurple animate-translateX"})})]})});function In({text:t,children:e,position:n="top"}){return t?f.jsxs("div",{className:"relative inline-block group/tooltip",children:[e,f.jsx("div",{className:`
          absolute z-50 hidden group-hover/tooltip:block
          pointer-events-none
          ${z8(n)}
        `,children:f.jsxs("div",{className:"relative w-max px-2 py-1 text-sm font-medium text-white bg-gray-800 rounded-md",children:[f.jsx(D,{children:t}),f.jsx("div",{className:`
              absolute w-0 h-0 border-solid border-transparent
              ${B8(n)}
            `,style:{borderWidth:"5px"}})]})})]}):e}function z8(t){switch(t){case"right":return"left-[calc(100%+8px)] top-1/2 -translate-y-1/2";case"left":return"right-[calc(100%+8px)] top-1/2 -translate-y-1/2";case"bottom":return"top-[calc(100%+8px)] left-1/2 -translate-x-1/2";case"top":default:return"bottom-[calc(100%+8px)] left-1/2 -translate-x-1/2"}}function B8(t){switch(t){case"right":return"left-[-10px] top-1/2 -translate-y-1/2 border-r-gray-800 border-l-0 border-[5px]";case"left":return"right-[-10px] top-1/2 -translate-y-1/2 border-l-gray-800 border-r-0 border-[5px]";case"bottom":return"top-[-10px] left-1/2 -translate-x-1/2 border-b-gray-800 border-t-0 border-[5px]";case"top":default:return"bottom-[-10px] left-1/2 -translate-x-1/2 border-t-gray-800 border-b-0 border-[5px]"}}async function U8(t,e,n,r,s){return await(await fetch("http://localhost:5000/api/email/sendMentioningEmail",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({mentionedUsers:t,currentUserName:e,cardTitle:n,boardId:r,comment:s}),credentials:"include"})).json()}async function V8(t,e,n,r,s){return await(await fetch("http://localhost:5000/api/email/sendAssigneeEmail",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({assignedUsers:t,currentUserName:e,cardTitle:n,boardId:r,boardTitle:s}),credentials:"include"})).json()}async function H8(t,e,n,r){return await(await fetch("http://localhost:5000/api/email/sendBoardSharedEmail",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({sharedUsers:t,currentUserName:e,boardTitle:n,boardId:r}),credentials:"include"})).json()}async function ix(){const{data:t,error:e}=await oe.from("boards").select("*").order("created_at",{ascending:!0});if(e)throw e;return await Promise.all(t.map(async r=>{const{data:s,error:i}=await oe.from("columns").select("*").eq("board_id",r.id).order("position",{ascending:!0});if(i)throw i;const o=await Promise.all(s.map(async a=>{const{data:l,error:c}=await oe.from("cards").select("*").eq("column_id",a.id).order("position",{ascending:!0});if(c)throw c;const u=await Promise.all(l.map(async d=>{const[{data:h,error:p}]=await Promise.all([oe.from("comments").select("*").eq("card_id",d.id).order("created_at",{ascending:!1})]);if(p)throw p;return{id:d.id,column_id:d.column_id,title:d.title,description:d.description,priority:d.priority,due_date:d.due_date,assignee:d.assignee||[],account_id:d.account_id,labels:d.labels||[],position:d.position,checklist:d.checklist||[],completed:d.completed,attachments:d.attachments||[],comments:h||[],archived:d.archived}}));return{id:a.id,board_id:a.board_id,position:a.position,title:a.title,cards:u}}));return{id:r.id,title:r.title,columns:o,team_id:r.team_id,shared_users:r.shared_users,account_id:r.account_id,created_by:r.created_by,created_at:r.created_at,updated_at:r.updated_at}}))}async function W8(t,e,n){const{data:r,error:s}=await oe.from("boards").insert([{title:t,account_id:e,created_by:n}]).select().single();if(s)throw s;const i=wa(r),o=[{title:"To Do",position:0,account_id:e},{title:"In Progress",position:1,account_id:e},{title:"Done",position:2,account_id:e}],{data:a,error:l}=await oe.from("columns").insert(o.map(c=>({board_id:i.id,title:c.title,account_id:c.account_id,position:c.position}))).select();if(l)throw l;return{id:i.id,title:i.title,account_id:i.account_id,created_by:i.created_by,columns:a.map(c=>({id:c.id,title:c.title,cards:[],board_id:c.board_id,position:c==null?void 0:c.position}))}}async function G8(t,e){console.log("boardId: ",t,e);const{data:n,error:r}=await oe.from("boards").update({team_id:e}).eq("id",t).select("*",{count:"exact"});if(r)throw r}async function Y8(t){const{data:e,error:n,count:r}=await oe.from("boards").update({team_id:null}).eq("id",t).select("*",{count:"exact"});if(n)throw n}async function q8(t,e){const{error:n}=await oe.from("boards").update({title:e.title,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n}async function K8(t){const{error:e}=await oe.from("boards").delete().eq("id",t);if(e)throw e}async function J8(t){const{data:e,error:n}=await oe.from("board_logs").select("*").eq("board_id",t).order("created_at",{ascending:!1});if(n)throw n;return e}async function Q8(t,e,n,r){const{data:s,error:i}=await oe.from("boards").select("shared_users").eq("id",t).single();if(i)throw i;const a=wa(s).shared_users||[],l=[...new Set([...a,...e])],c=e.filter(h=>!a.includes(h));H8(c,n,r,t);const{data:u,error:d}=await oe.from("boards").update({shared_users:l}).eq("id",t).select();if(d)throw d;return u}async function X8(t,e){const{data:n,error:r}=await oe.from("boards").select("shared_users").eq("id",t).single();if(r)throw r;const s=(n.shared_users||[]).filter(a=>!e.includes(a)),{data:i,error:o}=await oe.from("boards").update({shared_users:s}).eq("id",t).select();if(o)throw o;return i}const tL=g.createContext(),Z8=({children:t})=>{const[e,n]=g.useState([]),[r,s]=g.useState(!0),i=async()=>{try{s(!0);const u=await ix();n(u)}catch(u){console.error("Error loading initial boards:",u)}finally{s(!1)}},o=u=>{n(u)},a=async(u,d,h)=>{try{const p=await W8(u,d,h);return n(m=>[...m,p]),p}catch(p){throw console.error("Error adding board:",p),p}},l=async(u,d)=>{try{await q8(u,d),n(h=>h.map(p=>p.id===u?{...p,...d}:p))}catch(h){throw console.error("Error updating board:",h),h}},c=async u=>{try{await K8(u),n(d=>d.filter(h=>h.id!==u))}catch(d){throw console.error("Error removing board:",d),d}};return f.jsx(tL.Provider,{value:{boardsList:e,updateBoardsList:o,loadInitialBoards:i,isLoading:r,addBoard:a,updateBoardInList:l,removeBoardFromList:c},children:t})},Pd=()=>{const t=g.useContext(tL);if(!t)throw new Error("useBoards must be used within a BoardProvider");return t},nL=g.createContext();function eW({children:t}){const[e,n]=g.useState(!1),[r,s]=g.useState(!1);g.useEffect(()=>{const o=()=>{const a=window.innerWidth<768;s(a),a&&n(!1)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const i=()=>{n(o=>!o)};return f.jsx(nL.Provider,{value:{isExpanded:e,toggleSidebar:i,isMobile:r},children:t})}const Jb=()=>{const t=g.useContext(nL);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t},rL=typeof document<"u"?_.useLayoutEffect:()=>{};function tW(t){const e=g.useRef(null);return rL(()=>{e.current=t},[t]),g.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Rd=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},$o=t=>t&&"window"in t&&t.window===t?t:Rd(t).defaultView||window;function nW(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function rW(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function sL(t){let e=null;return()=>(e==null&&(e=t()),e)}const sW=sL(function(){return rW(/^Mac/i)}),iW=sL(function(){return nW(/Android/i)});function oW(t){return t.mozInputSource===0&&t.isTrusted?!0:iW()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class aW{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function iL(t){let e=g.useRef({isFocused:!1,observer:null});rL(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=tW(r=>{t==null||t(r)});return g.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=r.target,i=o=>{e.current.isFocused=!1,s.disabled&&n(new aW("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function lW(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:s}=t;const i=g.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),s&&s(!1),!0},[r,s]),o=iL(i),a=g.useCallback(l=>{const c=Rd(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(n&&n(l),s&&s(!0),o(l))},[s,n,o]);return{focusProps:{onFocus:!e&&(n||s||r)?a:void 0,onBlur:!e&&(r||s)?i:void 0}}}let Id=null,ox=new Set,au=new Map,oa=!1,ax=!1;const cW={Tab:!0,Escape:!0};function Qb(t,e){for(let n of ox)n(t,e)}function uW(t){return!(t.metaKey||!sW()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function cp(t){oa=!0,uW(t)&&(Id="keyboard",Qb("keyboard",t))}function yr(t){Id="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(oa=!0,Qb("pointer",t))}function oL(t){oW(t)&&(oa=!0,Id="virtual")}function aL(t){t.target===window||t.target===document||(!oa&&!ax&&(Id="virtual",Qb("virtual",t)),oa=!1,ax=!1)}function lL(){oa=!1,ax=!0}function lx(t){if(typeof window>"u"||au.get($o(t)))return;const e=$o(t),n=Rd(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){oa=!0,r.apply(this,arguments)},n.addEventListener("keydown",cp,!0),n.addEventListener("keyup",cp,!0),n.addEventListener("click",oL,!0),e.addEventListener("focus",aL,!0),e.addEventListener("blur",lL,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",yr,!0),n.addEventListener("pointermove",yr,!0),n.addEventListener("pointerup",yr,!0)):(n.addEventListener("mousedown",yr,!0),n.addEventListener("mousemove",yr,!0),n.addEventListener("mouseup",yr,!0)),e.addEventListener("beforeunload",()=>{cL(t)},{once:!0}),au.set(e,{focus:r})}const cL=(t,e)=>{const n=$o(t),r=Rd(t);e&&r.removeEventListener("DOMContentLoaded",e),au.has(n)&&(n.HTMLElement.prototype.focus=au.get(n).focus,r.removeEventListener("keydown",cp,!0),r.removeEventListener("keyup",cp,!0),r.removeEventListener("click",oL,!0),n.removeEventListener("focus",aL,!0),n.removeEventListener("blur",lL,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",yr,!0),r.removeEventListener("pointermove",yr,!0),r.removeEventListener("pointerup",yr,!0)):(r.removeEventListener("mousedown",yr,!0),r.removeEventListener("mousemove",yr,!0),r.removeEventListener("mouseup",yr,!0)),au.delete(n))};function dW(t){const e=Rd(t);let n;return e.readyState!=="loading"?lx(t):(n=()=>{lx(t)},e.addEventListener("DOMContentLoaded",n)),()=>cL(t,n)}typeof document<"u"&&dW();function uL(){return Id!=="pointer"}const fW=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function hW(t,e,n){var r;const s=typeof window<"u"?$o(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?$o(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?$o(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?$o(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof s&&!fW.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof i||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!cW[n.key])}function pW(t,e,n){lx(),g.useEffect(()=>{let r=(s,i)=>{hW(!!(n!=null&&n.isTextInput),s,i)&&t(uL())};return ox.add(r),()=>{ox.delete(r)}},e)}function mW(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=t,i=g.useRef({isFocusWithin:!1}),o=g.useCallback(c=>{i.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(i.current.isFocusWithin=!1,n&&n(c),s&&s(!1))},[n,s,i]),a=iL(o),l=g.useCallback(c=>{!i.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),s&&s(!0),i.current.isFocusWithin=!0,a(c))},[r,s,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let up=!1,My=0;function cx(){up=!0,setTimeout(()=>{up=!1},50)}function ST(t){t.pointerType==="touch"&&cx()}function gW(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ST):document.addEventListener("touchend",cx),My++,()=>{My--,!(My>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ST):document.removeEventListener("touchend",cx))}}function dL(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:s}=t,[i,o]=g.useState(!1),a=g.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;g.useEffect(gW,[]);let{hoverProps:l,triggerHoverEnd:c}=g.useMemo(()=>{let u=(p,m)=>{if(a.pointerType=m,s||m==="touch"||a.isHovered||!p.currentTarget.contains(p.target))return;a.isHovered=!0;let y=p.currentTarget;a.target=y,e&&e({type:"hoverstart",target:y,pointerType:m}),n&&n(!0),o(!0)},d=(p,m)=>{if(a.pointerType="",a.target=null,m==="touch"||!a.isHovered)return;a.isHovered=!1;let y=p.currentTarget;r&&r({type:"hoverend",target:y,pointerType:m}),n&&n(!1),o(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=p=>{up&&p.pointerType==="mouse"||u(p,p.pointerType)},h.onPointerLeave=p=>{!s&&p.currentTarget.contains(p.target)&&d(p,p.pointerType)}):(h.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=p=>{!a.ignoreEmulatedMouseEvents&&!up&&u(p,"mouse"),a.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=p=>{!s&&p.currentTarget.contains(p.target)&&d(p,"mouse")}),{hoverProps:h,triggerHoverEnd:d}},[e,n,r,s,a]);return g.useEffect(()=>{s&&c({currentTarget:a.target},a.pointerType)},[s]),{hoverProps:l,isHovered:i}}function fL(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,s=g.useRef({isFocused:!1,isFocusVisible:e||uL()}),[i,o]=g.useState(!1),[a,l]=g.useState(()=>s.current.isFocused&&s.current.isFocusVisible),c=g.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),u=g.useCallback(p=>{s.current.isFocused=p,o(p),c()},[c]);pW(p=>{s.current.isFocusVisible=p,c()},[],{isTextInput:n});let{focusProps:d}=lW({isDisabled:r,onFocusChange:u}),{focusWithinProps:h}=mW({isDisabled:!r,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:a,focusProps:r?h:d}}var yW=Object.defineProperty,vW=(t,e,n)=>e in t?yW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jy=(t,e,n)=>(vW(t,typeof e!="symbol"?e+"":e,n),n);let xW=class{constructor(){jy(this,"current",this.detect()),jy(this,"handoffState","pending"),jy(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},qo=new xW;function Ql(t){return qo.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function Km(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ei(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Km(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=ei();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function ti(){let[t]=g.useState(ei);return g.useEffect(()=>()=>t.dispose(),[t]),t}let qe=(t,e)=>{qo.isServer?g.useEffect(t,e):g.useLayoutEffect(t,e)};function co(t){let e=g.useRef(t);return qe(()=>{e.current=t},[t]),e}let le=function(t){let e=co(t);return _.useCallback((...n)=>e.current(...n),[e])};function wW(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function bW(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function hL({disabled:t=!1}={}){let e=g.useRef(null),[n,r]=g.useState(!1),s=ti(),i=le(()=>{e.current=null,r(!1),s.dispose()}),o=le(a=>{if(s.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=Ql(a.currentTarget);s.addEventListener(l,"pointerup",i,!1),s.addEventListener(l,"pointermove",c=>{if(e.current){let u=wW(c);r(bW(u,e.current.getBoundingClientRect()))}},!1),s.addEventListener(l,"pointercancel",i,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:i,onClick:i}}}let SW=g.createContext(void 0);function Jm(){return g.useContext(SW)}function ux(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Un(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Un),r}var Ol=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ol||{}),Ai=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ai||{});function bt(){let t=EW();return g.useCallback(e=>kW({mergeRefs:t,...e}),[t])}function kW({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:a}){a=a??TW;let l=pL(e,t);if(i)return kf(l,n,r,o,a);let c=s??0;if(c&2){let{static:u=!1,...d}=l;if(u)return kf(d,n,r,o,a)}if(c&1){let{unmount:u=!0,...d}=l;return Un(u?0:1,{0(){return null},1(){return kf({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return kf(l,n,r,o,a)}function kf(t,e={},n,r,s){let{as:i=n,children:o,refName:a="ref",...l}=Oy(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(e){let h=!1,p=[];for(let[m,y]of Object.entries(e))typeof y=="boolean"&&(h=!0),y===!0&&p.push(m.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(h){d["data-headlessui-state"]=p.join(" ");for(let m of p)d[`data-${m}`]=""}}if(i===g.Fragment&&(Object.keys(gi(l)).length>0||Object.keys(gi(d)).length>0))if(!g.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(gi(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(gi(l)).concat(Object.keys(gi(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,p=h==null?void 0:h.className,m=typeof p=="function"?(...v)=>ux(p(...v),l.className):ux(p,l.className),y=m?{className:m}:{},x=pL(u.props,gi(Oy(l,["ref"])));for(let v in d)v in x&&delete d[v];return g.cloneElement(u,Object.assign({},x,d,c,{ref:s(CW(u),c.ref)},y))}return g.createElement(i,Object.assign({},Oy(l,["ref"]),i!==g.Fragment&&c,i!==g.Fragment&&d),u)}function EW(){let t=g.useRef([]),e=g.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function TW(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function pL(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(e,{[r](s,...i){let o=n[r];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...i)}}});return e}function Xb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];for(let r in n)Object.assign(e,{[r](...s){let i=n[r];for(let o of i)o==null||o(...s)}});return e}function mt(t){var e;return Object.assign(g.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function gi(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Oy(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function CW(t){return _.version.split(".")[0]>="19"?t.props.ref:t.ref}function mL(t,e,n){let[r,s]=g.useState(n),i=t!==void 0,o=g.useRef(i),a=g.useRef(!1),l=g.useRef(!1);return i&&!o.current&&!a.current?(a.current=!0,o.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&o.current&&!l.current&&(l.current=!0,o.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?t:r,le(c=>(i||s(c),e==null?void 0:e(c)))]}function gL(t){let[e]=g.useState(t);return e}function yL(t={},e=null,n=[]){for(let[r,s]of Object.entries(t))xL(n,vL(e,r),s);return n}function vL(t,e){return t?t+"["+e+"]":e}function xL(t,e,n){if(Array.isArray(n))for(let[r,s]of n.entries())xL(t,vL(e,r.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):yL(n,e,t)}function wL(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let s of r.elements)if(s!==t&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(n=r.requestSubmit)==null||n.call(r)}}let NW="span";var Al=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Al||{});function MW(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return bt()({ourProps:i,theirProps:s,slot:{},defaultTag:NW,name:"Hidden"})}let ed=mt(MW),jW=g.createContext(null);function OW({children:t}){let e=g.useContext(jW);if(!e)return _.createElement(_.Fragment,null,t);let{target:n}=e;return n?xt.createPortal(_.createElement(_.Fragment,null,t),n):null}function bL({data:t,form:e,disabled:n,onReset:r,overrides:s}){let[i,o]=g.useState(null),a=ti();return g.useEffect(()=>{if(r&&i)return a.addEventListener(i,"reset",r)},[i,e,r]),_.createElement(OW,null,_.createElement(AW,{setForm:o,formId:e}),yL(t).map(([l,c])=>_.createElement(ed,{features:Al.Hidden,...gi({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:l,value:c,...s})})))}function AW({setForm:t,formId:e}){return g.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:_.createElement(ed,{features:Al.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let LW=g.createContext(void 0);function Zb(){return g.useContext(LW)}function SL(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&DW(n)?!1:r}function DW(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let kL=Symbol();function PW(t,e=!0){return Object.assign(t,{[kL]:e})}function Gt(...t){let e=g.useRef(t);g.useEffect(()=>{e.current=t},[t]);let n=le(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[kL]))?void 0:n}let Qm=g.createContext(null);Qm.displayName="DescriptionContext";function EL(){let t=g.useContext(Qm);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,EL),e}return t}function TL(){var t,e;return(e=(t=g.useContext(Qm))==null?void 0:t.value)!=null?e:void 0}function CL(){let[t,e]=g.useState([]);return[t.length>0?t.join(" "):void 0,g.useMemo(()=>function(n){let r=le(i=>(e(o=>[...o,i]),()=>e(o=>{let a=o.slice(),l=a.indexOf(i);return l!==-1&&a.splice(l,1),a}))),s=g.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return _.createElement(Qm.Provider,{value:s},n.children)},[e])]}let RW="p";function IW(t,e){let n=g.useId(),r=Jm(),{id:s=`headlessui-description-${n}`,...i}=t,o=EL(),a=Gt(e);qe(()=>o.register(s),[s,o.register]);let l=r||!1,c=g.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),u={ref:a,...o.props,id:s};return bt()({ourProps:u,theirProps:i,slot:c,defaultTag:RW,name:o.name||"Description"})}let _W=mt(IW),NL=Object.assign(_W,{});var dt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(dt||{});let Xm=g.createContext(null);Xm.displayName="LabelContext";function ML(){let t=g.useContext(Xm);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ML),e}return t}function e1(t){var e,n,r;let s=(n=(e=g.useContext(Xm))==null?void 0:e.value)!=null?n:void 0;return((r=t==null?void 0:t.length)!=null?r:0)>0?[s,...t].filter(Boolean).join(" "):s}function jL({inherit:t=!1}={}){let e=e1(),[n,r]=g.useState([]),s=t?[e,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,g.useMemo(()=>function(i){let o=le(l=>(r(c=>[...c,l]),()=>r(c=>{let u=c.slice(),d=u.indexOf(l);return d!==-1&&u.splice(d,1),u}))),a=g.useMemo(()=>({register:o,slot:i.slot,name:i.name,props:i.props,value:i.value}),[o,i.slot,i.name,i.props,i.value]);return _.createElement(Xm.Provider,{value:a},i.children)},[r])]}let $W="label";function FW(t,e){var n;let r=g.useId(),s=ML(),i=Zb(),o=Jm(),{id:a=`headlessui-label-${r}`,htmlFor:l=i??((n=s.props)==null?void 0:n.htmlFor),passive:c=!1,...u}=t,d=Gt(e);qe(()=>s.register(a),[a,s.register]);let h=le(x=>{let v=x.currentTarget;if(v instanceof HTMLLabelElement&&x.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(x),v instanceof HTMLLabelElement){let w=document.getElementById(v.htmlFor);if(w){let b=w.getAttribute("disabled");if(b==="true"||b==="")return;let S=w.getAttribute("aria-disabled");if(S==="true"||S==="")return;(w instanceof HTMLInputElement&&(w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),p=o||!1,m=g.useMemo(()=>({...s.slot,disabled:p}),[s.slot,p]),y={ref:d,...s.props,id:a,htmlFor:l,onClick:h};return c&&("onClick"in y&&(delete y.htmlFor,delete y.onClick),"onClick"in u&&delete u.onClick),bt()({ourProps:y,theirProps:u,slot:m,defaultTag:l?$W:"div",name:s.name||"Label"})}let zW=mt(FW),OL=Object.assign(zW,{}),BW=g.createContext(()=>{});function UW({value:t,children:e}){return _.createElement(BW.Provider,{value:t},e)}function VW(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function HW(t=VW){return g.useCallback((e,n)=>{if(typeof t=="string"){let r=t;return(e==null?void 0:e[r])===(n==null?void 0:n[r])}return t(e,n)},[t])}function WW(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function GW(t,e=!1){let[n,r]=g.useReducer(()=>({}),{}),s=g.useMemo(()=>WW(t),[t,n]);return qe(()=>{if(!t)return;let i=new ResizeObserver(r);return i.observe(t),()=>{i.disconnect()}},[t]),e?{width:`${s.width}px`,height:`${s.height}px`}:s}let YW=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function AL(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=e[s].call(n,...i);o&&(n=o,r.forEach(a=>a()))}}}function LL(t){return g.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let qW=new YW(()=>AL(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Xl(t,e){let n=qW.get(e),r=g.useId(),s=LL(n);if(qe(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let i=s.indexOf(r),o=s.length;return i===-1&&(i=o,o+=1),i===o-1}let dx=new Map,lu=new Map;function kT(t){var e;let n=(e=lu.get(t))!=null?e:0;return lu.set(t,n+1),n!==0?()=>ET(t):(dx.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>ET(t))}function ET(t){var e;let n=(e=lu.get(t))!=null?e:1;if(n===1?lu.delete(t):lu.set(t,n-1),n!==1)return;let r=dx.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,dx.delete(t))}function DL(t,{allowed:e,disallowed:n}={}){let r=Xl(t,"inert-others");qe(()=>{var s,i;if(!r)return;let o=ei();for(let l of(s=n==null?void 0:n())!=null?s:[])l&&o.add(kT(l));let a=(i=e==null?void 0:e())!=null?i:[];for(let l of a){if(!l)continue;let c=Ql(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let d of u.children)a.some(h=>d.contains(h))||o.add(kT(d));u=u.parentElement}}return o.dispose},[r,e,n])}function PL(t,e,n){let r=co(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});g.useEffect(()=>{if(!t)return;let s=e===null?null:e instanceof HTMLElement?e:e.current;if(!s)return;let i=ei();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[e,r,t])}let dp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),KW=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var zr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(zr||{}),fx=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(fx||{}),JW=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(JW||{});function RL(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(dp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function QW(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(KW)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var t1=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(t1||{});function IL(t,e=0){var n;return t===((n=Ql(t))==null?void 0:n.body)?!1:Un(e,{0(){return t.matches(dp)},1(){let r=t;for(;r!==null;){if(r.matches(dp))return!0;r=r.parentElement}return!1}})}var XW=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(XW||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Us(t){t==null||t.focus({preventScroll:!0})}let ZW=["textarea","input"].join(",");function e9(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,ZW))!=null?n:!1}function _L(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function t9(t,e){return ll(RL(),e,{relativeTo:t})}function ll(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?_L(t):t:e&64?QW(t):RL(t);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??i.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,d=o.length,h;do{if(u>=d||u+d<=0)return 0;let p=l+u;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=o[p],h==null||h.focus(c),u+=a}while(h!==i.activeElement);return e&6&&e9(h)&&h.select(),2}function $L(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function n9(){return/Android/gi.test(window.navigator.userAgent)}function r9(){return $L()||n9()}function Sc(t,e,n,r){let s=co(n);g.useEffect(()=>{if(!t)return;function i(o){s.current(o)}return document.addEventListener(e,i,r),()=>document.removeEventListener(e,i,r)},[t,e,r])}function FL(t,e,n,r){let s=co(n);g.useEffect(()=>{if(!t)return;function i(o){s.current(o)}return window.addEventListener(e,i,r),()=>window.removeEventListener(e,i,r)},[t,e,r])}const TT=30;function zL(t,e,n){let r=Xl(t,"outside-click"),s=co(n),i=g.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function h(p){return typeof p=="function"?h(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let h of d)if(h!==null&&(h.contains(u)||l.composed&&l.composedPath().includes(h)))return;return!IL(u,t1.Loose)&&u.tabIndex!==-1&&l.preventDefault(),s.current(l,u)},[s,e]),o=g.useRef(null);Sc(r,"pointerdown",l=>{var c,u;o.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target},!0),Sc(r,"mousedown",l=>{var c,u;o.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target},!0),Sc(r,"click",l=>{r9()||o.current&&(i(l,()=>o.current),o.current=null)},!0);let a=g.useRef({x:0,y:0});Sc(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Sc(r,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=TT||Math.abs(c.y-a.current.y)>=TT))return i(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),FL(r,"blur",l=>i(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Zl(...t){return g.useMemo(()=>Ql(...t),[...t])}function BL(t,e,n,r){let s=co(n);g.useEffect(()=>{t=t??window;function i(o){s.current(o)}return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)},[t,e,r])}function UL(t,e){return g.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function s9(){let t;return{before({doc:e}){var n;let r=e.documentElement,s=(n=e.defaultView)!=null?n:window;t=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,t-s);n.style(r,"paddingRight",`${i}px`)}}}function i9(){return $L()?{before({doc:t,d:e,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ei();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!r(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function o9(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function a9(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Fo=AL(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ei(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:a9(n)},s=[i9(),s9(),o9()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Fo.subscribe(()=>{let t=Fo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Fo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Fo.dispatch("TEARDOWN",n)}});function l9(t,e,n=()=>({containers:[]})){let r=LL(Fo),s=e?r.get(e):void 0,i=s?s.count>0:!1;return qe(()=>{if(!(!e||!t))return Fo.dispatch("PUSH",e,n),()=>Fo.dispatch("POP",e,n)},[t,e]),i}function VL(t,e,n=()=>[document.body]){let r=Xl(t,"scroll-lock");l9(r,e,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function CT(t){return[t.screenX,t.screenY]}function c9(){let t=g.useRef([-1,-1]);return{wasMoved(e){let n=CT(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=CT(e)}}}function u9(t=0){let[e,n]=g.useState(t),r=g.useCallback(l=>n(l),[e]),s=g.useCallback(l=>n(c=>c|l),[e]),i=g.useCallback(l=>(e&l)===l,[e]),o=g.useCallback(l=>n(c=>c&~l),[n]),a=g.useCallback(l=>n(c=>c^l),[n]);return{flags:e,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:a}}var d9={},NT,MT;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((NT=process==null?void 0:d9)==null?void 0:NT.NODE_ENV)==="test"&&typeof((MT=Element==null?void 0:Element.prototype)==null?void 0:MT.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var f9=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(f9||{});function HL(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function WL(t,e,n,r){let[s,i]=g.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=u9(t&&s?3:0),c=g.useRef(!1),u=g.useRef(!1),d=ti();return qe(()=>{var h;if(t){if(n&&i(!0),!e){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),h9(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){u.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;u.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),n||i(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,d]),t?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function h9(t,{prepare:e,run:n,done:r,inFlight:s}){let i=ei();return m9(t,{prepare:e,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(p9(t,r))})}),i.dispose}function p9(t,e){var n,r;let s=ei();if(!t)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),s.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{i||e()}),s.dispose)}function m9(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function n1(t,e){let n=g.useRef([]),r=le(t);g.useEffect(()=>{let s=[...n.current];for(let[i,o]of e.entries())if(n.current[i]!==o){let a=r(e,s);return n.current=e,a}},[r,...e])}function Zm(){return typeof window<"u"}function ec(t){return GL(t)?(t.nodeName||"").toLowerCase():"#document"}function nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bs(t){var e;return(e=(GL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GL(t){return Zm()?t instanceof Node||t instanceof nr(t).Node:!1}function gn(t){return Zm()?t instanceof Element||t instanceof nr(t).Element:!1}function gs(t){return Zm()?t instanceof HTMLElement||t instanceof nr(t).HTMLElement:!1}function jT(t){return!Zm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nr(t).ShadowRoot}function _d(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function g9(t){return["table","td","th"].includes(ec(t))}function eg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function r1(t){const e=s1(),n=gn(t)?Wr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function y9(t){let e=Zi(t);for(;gs(e)&&!Ll(e);){if(r1(e))return e;if(eg(e))return null;e=Zi(e)}return null}function s1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ll(t){return["html","body","#document"].includes(ec(t))}function Wr(t){return nr(t).getComputedStyle(t)}function tg(t){return gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zi(t){if(ec(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jT(t)&&t.host||bs(t);return jT(e)?e.host:e}function YL(t){const e=Zi(t);return Ll(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&_d(e)?e:YL(e)}function td(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=YL(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=nr(s);if(i){const a=hx(o);return e.concat(o,o.visualViewport||[],_d(s)?s:[],a&&n?td(a):[])}return e.concat(s,td(s,[],n))}function hx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function v9(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const aa=Math.min,en=Math.max,nd=Math.round,Ef=Math.floor,ms=t=>({x:t,y:t}),x9={left:"right",right:"left",bottom:"top",top:"bottom"},w9={start:"end",end:"start"};function OT(t,e,n){return en(t,aa(e,n))}function tc(t,e){return typeof t=="function"?t(e):t}function eo(t){return t.split("-")[0]}function $d(t){return t.split("-")[1]}function qL(t){return t==="x"?"y":"x"}function KL(t){return t==="y"?"height":"width"}function la(t){return["top","bottom"].includes(eo(t))?"y":"x"}function JL(t){return qL(la(t))}function b9(t,e,n){n===void 0&&(n=!1);const r=$d(t),s=JL(t),i=KL(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=fp(o)),[o,fp(o)]}function S9(t){const e=fp(t);return[px(t),e,px(e)]}function px(t){return t.replace(/start|end/g,e=>w9[e])}function k9(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function E9(t,e,n,r){const s=$d(t);let i=k9(eo(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(px)))),i}function fp(t){return t.replace(/left|right|bottom|top/g,e=>x9[e])}function T9(t){return{top:0,right:0,bottom:0,left:0,...t}}function C9(t){return typeof t!="number"?T9(t):{top:t,right:t,bottom:t,left:t}}function hp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function AT(t,e,n){let{reference:r,floating:s}=t;const i=la(e),o=JL(e),a=KL(o),l=eo(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch($d(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const N9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=AT(c,r,l),h=r,p={},m=0;for(let y=0;y<a.length;y++){const{name:x,fn:v}=a[y],{x:w,y:b,data:S,reset:k}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,d=b??d,p={...p,[x]:{...p[x],...S}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:u,y:d}=AT(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:p}};async function ng(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=tc(e,t),m=C9(p),x=a[h?d==="floating"?"reference":"floating":d],v=hp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=hp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(v.top-k.top+m.top)/S.y,bottom:(k.bottom-v.bottom+m.bottom)/S.y,left:(v.left-k.left+m.left)/S.x,right:(k.right-v.right+m.right)/S.x}}const M9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...x}=tc(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=eo(s),w=la(a),b=eo(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(b||!y?[fp(a)]:S9(a)),E=m!=="none";!h&&E&&k.push(...E9(a,y,m,S));const T=[a,...k],C=await ng(e,x),L=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&L.push(C[v]),d){const B=b9(s,o,S);L.push(C[B[0]],C[B[1]])}if(M=[...M,{placement:s,overflows:L}],!L.every(B=>B<=0)){var N,j;const B=(((N=i.flip)==null?void 0:N.index)||0)+1,se=T[B];if(se)return{data:{index:B,overflows:M},reset:{placement:se}};let te=(j=M.filter($=>$.overflows[0]<=0).sort(($,P)=>$.overflows[1]-P.overflows[1])[0])==null?void 0:j.placement;if(!te)switch(p){case"bestFit":{var I;const $=(I=M.filter(P=>{if(E){const A=la(P.placement);return A===w||A==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(A=>A>0).reduce((A,V)=>A+V,0)]).sort((P,A)=>P[1]-A[1])[0])==null?void 0:I[0];$&&(te=$);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};async function j9(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=eo(n),a=$d(n),l=la(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=tc(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const O9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await j9(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},A9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...l}=tc(t,e),c={x:n,y:r},u=await ng(e,l),d=la(eo(s)),h=qL(d);let p=c[h],m=c[d];if(i){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+u[x],b=p-u[v];p=OT(w,p,b)}if(o){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=m+u[x],b=m-u[v];m=OT(w,m,b)}const y=a.fn({...e,[h]:p,[d]:m});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[d]:o}}}}}},L9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=tc(t,e),u=await ng(e,c),d=eo(s),h=$d(s),p=la(s)==="y",{width:m,height:y}=i.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,x=h==="end"?"top":"bottom");const w=y-u.top-u.bottom,b=m-u.left-u.right,S=aa(y-u[x],w),k=aa(m-u[v],b),E=!e.middlewareData.shift;let T=S,C=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),E&&!h){const M=en(u.left,0),N=en(u.right,0),j=en(u.top,0),I=en(u.bottom,0);p?C=m-2*(M!==0||N!==0?M+N:en(u.left,u.right)):T=y-2*(j!==0||I!==0?j+I:en(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:T});const L=await o.getDimensions(a.floating);return m!==L.width||y!==L.height?{reset:{rects:!0}}:{}}}};function QL(t){const e=Wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=nd(n)!==i||nd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function i1(t){return gn(t)?t:t.contextElement}function cl(t){const e=i1(t);if(!gs(e))return ms(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=QL(e);let o=(i?nd(n.width):n.width)/r,a=(i?nd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const D9=ms(0);function XL(t){const e=nr(t);return!s1()||!e.visualViewport?D9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nr(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=i1(t);let o=ms(1);e&&(r?gn(r)&&(o=cl(r)):o=cl(t));const a=P9(i,n,r)?XL(i):ms(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const h=nr(i),p=r&&gn(r)?nr(r):r;let m=h,y=hx(m);for(;y&&r&&p!==m;){const x=cl(y),v=y.getBoundingClientRect(),w=Wr(y),b=v.left+(y.clientLeft+parseFloat(w.paddingLeft))*x.x,S=v.top+(y.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=b,c+=S,m=nr(y),y=hx(m)}}return hp({width:u,height:d,x:l,y:c})}function o1(t,e){const n=tg(t).scrollLeft;return e?e.left+n:ca(bs(t)).left+n}function ZL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:o1(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function R9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=bs(r),a=e?eg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ms(1);const u=ms(0),d=gs(r);if((d||!d&&!i)&&((ec(r)!=="body"||_d(o))&&(l=tg(r)),gs(r))){const p=ca(r);c=cl(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=o&&!d&&!i?ZL(o,l,!0):ms(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function I9(t){return Array.from(t.getClientRects())}function _9(t){const e=bs(t),n=tg(t),r=t.ownerDocument.body,s=en(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=en(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+o1(t);const a=-n.scrollTop;return Wr(r).direction==="rtl"&&(o+=en(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function $9(t,e){const n=nr(t),r=bs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=s1();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function F9(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=gs(t)?cl(t):ms(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function LT(t,e,n){let r;if(e==="viewport")r=$9(t,n);else if(e==="document")r=_9(bs(t));else if(gn(e))r=F9(e,n);else{const s=XL(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hp(r)}function eD(t,e){const n=Zi(t);return n===e||!gn(n)||Ll(n)?!1:Wr(n).position==="fixed"||eD(n,e)}function z9(t,e){const n=e.get(t);if(n)return n;let r=td(t,[],!1).filter(a=>gn(a)&&ec(a)!=="body"),s=null;const i=Wr(t).position==="fixed";let o=i?Zi(t):t;for(;gn(o)&&!Ll(o);){const a=Wr(o),l=r1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_d(o)&&!l&&eD(t,o))?r=r.filter(u=>u!==o):s=a,o=Zi(o)}return e.set(t,r),r}function B9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?eg(e)?[]:z9(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=LT(e,u,s);return c.top=en(d.top,c.top),c.right=aa(d.right,c.right),c.bottom=aa(d.bottom,c.bottom),c.left=en(d.left,c.left),c},LT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function U9(t){const{width:e,height:n}=QL(t);return{width:e,height:n}}function V9(t,e,n){const r=gs(e),s=bs(e),i=n==="fixed",o=ca(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ms(0);if(r||!r&&!i)if((ec(e)!=="body"||_d(s))&&(a=tg(e)),r){const h=ca(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=o1(s));const c=s&&!r&&!i?ZL(s,a):ms(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function Ay(t){return Wr(t).position==="static"}function DT(t,e){if(!gs(t)||Wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bs(t)===n&&(n=n.ownerDocument.body),n}function tD(t,e){const n=nr(t);if(eg(t))return n;if(!gs(t)){let s=Zi(t);for(;s&&!Ll(s);){if(gn(s)&&!Ay(s))return s;s=Zi(s)}return n}let r=DT(t,e);for(;r&&g9(r)&&Ay(r);)r=DT(r,e);return r&&Ll(r)&&Ay(r)&&!r1(r)?n:r||y9(t)||n}const H9=async function(t){const e=this.getOffsetParent||tD,n=this.getDimensions,r=await n(t.floating);return{reference:V9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function W9(t){return Wr(t).direction==="rtl"}const G9={convertOffsetParentRelativeRectToViewportRelativeRect:R9,getDocumentElement:bs,getClippingRect:B9,getOffsetParent:tD,getElementRects:H9,getClientRects:I9,getDimensions:U9,getScale:cl,isElement:gn,isRTL:W9};function nD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Y9(t,e){let n=null,r;const s=bs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(a||e(),!h||!p)return;const m=Ef(d),y=Ef(s.clientWidth-(u+h)),x=Ef(s.clientHeight-(d+p)),v=Ef(u),b={rootMargin:-m+"px "+-y+"px "+-x+"px "+-v+"px",threshold:en(0,aa(1,l))||1};let S=!0;function k(E){const T=E[0].intersectionRatio;if(T!==l){if(!S)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!nD(c,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(k,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(t)}return o(!0),i}function q9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=i1(t),u=s||i?[...c?td(c):[],...td(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?Y9(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,y=l?ca(t):null;l&&x();function x(){const v=ca(t);y&&!nD(y,v)&&n(),y=v,m=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Ly=ng,K9=O9,J9=A9,Q9=M9,X9=L9,Z9=(t,e,n)=>{const r=new Map,s={platform:G9,...n},i={...s.platform,_c:r};return N9(t,e,{...s,platform:i})};var dh=typeof document<"u"?g.useLayoutEffect:g.useEffect;function pp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!pp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function rD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function PT(t,e){const n=rD(t);return Math.round(e*n)/n}function Dy(t){const e=g.useRef(t);return dh(()=>{e.current=t}),e}function e7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(r);pp(h,r)||p(r);const[m,y]=g.useState(null),[x,v]=g.useState(null),w=g.useCallback(P=>{P!==E.current&&(E.current=P,y(P))},[]),b=g.useCallback(P=>{P!==T.current&&(T.current=P,v(P))},[]),S=i||m,k=o||x,E=g.useRef(null),T=g.useRef(null),C=g.useRef(u),L=l!=null,M=Dy(l),N=Dy(s),j=Dy(c),I=g.useCallback(()=>{if(!E.current||!T.current)return;const P={placement:e,strategy:n,middleware:h};N.current&&(P.platform=N.current),Z9(E.current,T.current,P).then(A=>{const V={...A,isPositioned:j.current!==!1};B.current&&!pp(C.current,V)&&(C.current=V,xt.flushSync(()=>{d(V)}))})},[h,e,n,N,j]);dh(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[c]);const B=g.useRef(!1);dh(()=>(B.current=!0,()=>{B.current=!1}),[]),dh(()=>{if(S&&(E.current=S),k&&(T.current=k),S&&k){if(M.current)return M.current(S,k,I);I()}},[S,k,I,M,L]);const se=g.useMemo(()=>({reference:E,floating:T,setReference:w,setFloating:b}),[w,b]),te=g.useMemo(()=>({reference:S,floating:k}),[S,k]),$=g.useMemo(()=>{const P={position:n,left:0,top:0};if(!te.floating)return P;const A=PT(te.floating,u.x),V=PT(te.floating,u.y);return a?{...P,transform:"translate("+A+"px, "+V+"px)",...rD(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:V}},[n,a,te.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:I,refs:se,elements:te,floatingStyles:$}),[u,I,se,te,$])}const sD=(t,e)=>({...K9(t),options:[t,e]}),t7=(t,e)=>({...J9(t),options:[t,e]}),n7=(t,e)=>({...Q9(t),options:[t,e]}),r7=(t,e)=>({...X9(t),options:[t,e]}),iD={...bh},s7=iD.useInsertionEffect,i7=s7||(t=>t());function oD(t){const e=g.useRef(()=>{});return i7(()=>{e.current=t}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var mx=typeof document<"u"?g.useLayoutEffect:g.useEffect;let RT=!1,o7=0;const IT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+o7++;function a7(){const[t,e]=g.useState(()=>RT?IT():void 0);return mx(()=>{t==null&&e(IT())},[]),g.useEffect(()=>{RT=!0},[]),t}const l7=iD.useId,c7=l7||a7;function u7(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(s=>s!==n))||[])}}}const d7=g.createContext(null),f7=g.createContext(null),h7=()=>{var t;return((t=g.useContext(d7))==null?void 0:t.id)||null},p7=()=>g.useContext(f7),m7="data-floating-ui-focusable";function g7(t){const{open:e=!1,onOpenChange:n,elements:r}=t,s=c7(),i=g.useRef({}),[o]=g.useState(()=>u7()),a=h7()!=null,[l,c]=g.useState(r.reference),u=oD((p,m,y)=>{i.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:y,nested:a}),n==null||n(p,m,y)}),d=g.useMemo(()=>({setPositionReference:c}),[]),h=g.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return g.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:h,events:o,floatingId:s,refs:d}),[e,u,h,o,s,d])}function y7(t){t===void 0&&(t={});const{nodeId:e}=t,n=g7({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[i,o]=g.useState(null),[a,l]=g.useState(null),u=(s==null?void 0:s.domReference)||i,d=g.useRef(null),h=p7();mx(()=>{u&&(d.current=u)},[u]);const p=e7({...t,elements:{...s,...a&&{reference:a}}}),m=g.useCallback(b=>{const S=gn(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(S),p.refs.setReference(S)},[p.refs]),y=g.useCallback(b=>{(gn(b)||b===null)&&(d.current=b,o(b)),(gn(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!gn(b))&&p.refs.setReference(b)},[p.refs]),x=g.useMemo(()=>({...p.refs,setReference:y,setPositionReference:m,domReference:d}),[p.refs,y,m]),v=g.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),w=g.useMemo(()=>({...p,...r,refs:x,elements:v,nodeId:e}),[p,x,v,e,r]);return mx(()=>{r.dataRef.current.floatingContext=w;const b=h==null?void 0:h.nodesRef.current.find(S=>S.id===e);b&&(b.context=w)}),g.useMemo(()=>({...p,context:w,refs:x,elements:v}),[p,x,v,w])}const _T="active",$T="selected";function Py(t,e,n){const r=new Map,s=n==="item";let i=t;if(s&&t){const{[_T]:o,[$T]:a,...l}=t;i=l}return{...n==="floating"&&{tabIndex:-1,[m7]:""},...i,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(s&&[_T,$T].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var d;(d=r.get(c))==null||d.push(u),o[c]=function(){for(var h,p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];return(h=r.get(c))==null?void 0:h.map(x=>x(...m)).find(x=>x!==void 0)}}}else o[c]=u}),o),{})}}function v7(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),s=g.useCallback(a=>Py(a,t,"reference"),e),i=g.useCallback(a=>Py(a,t,"floating"),n),o=g.useCallback(a=>Py(a,t,"item"),r);return g.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:o}),[s,i,o])}function FT(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const x7=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:s,offset:i=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=tc(t,e),{rects:d,elements:{floating:h}}=e,p=n.current[o],m=(c==null?void 0:c.current)||h,y=h.clientTop||m.clientTop,x=h.clientTop!==0,v=m.clientTop!==0,w=h===m;if(!p)return{};const b={...e,...await sD(-p.offsetTop-h.clientTop-d.reference.height/2-p.offsetHeight/2-i).fn(e)},S=await Ly(FT(b,m.scrollHeight+y+h.clientTop),u),k=await Ly(b,{...u,elementContext:"reference"}),E=en(0,S.top),T=b.y+E,M=(m.scrollHeight>m.clientHeight?N=>N:nd)(en(0,m.scrollHeight+(x&&w||v?y*2:0)-E-en(0,S.bottom)));if(m.style.maxHeight=M+"px",m.scrollTop=E,s){const N=m.offsetHeight<p.offsetHeight*aa(a,n.current.length)-1||k.top>=-l||k.bottom>=-l;xt.flushSync(()=>s(N))}return r&&(r.current=await Ly(FT({...b,y:T},m.offsetHeight+y+h.clientTop),u)),{y:T}}});function w7(t,e){const{open:n,elements:r}=t,{enabled:s=!0,overflowRef:i,scrollRef:o,onChange:a}=e,l=oD(a),c=g.useRef(!1),u=g.useRef(null),d=g.useRef(null);g.useEffect(()=>{if(!s)return;function p(y){if(y.ctrlKey||!m||i.current==null)return;const x=y.deltaY,v=i.current.top>=-.5,w=i.current.bottom>=-.5,b=m.scrollHeight-m.clientHeight,S=x<0?-1:1,k=x<0?"max":"min";m.scrollHeight<=m.clientHeight||(!v&&x>0||!w&&x<0?(y.preventDefault(),xt.flushSync(()=>{l(E=>E+Math[k](x,b*S))})):/firefox/i.test(v9())&&(m.scrollTop+=x))}const m=(o==null?void 0:o.current)||r.floating;if(n&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=m.scrollTop,i.current!=null&&(d.current={...i.current})}),()=>{u.current=null,d.current=null,m.removeEventListener("wheel",p)}},[s,n,r.floating,i,o,l]);const h=g.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||r.floating;if(!(!i.current||!p||!c.current)){if(u.current!==null){const m=p.scrollTop-u.current;(i.current.bottom<-.5&&m<-1||i.current.top<-.5&&m>1)&&xt.flushSync(()=>l(y=>y+m))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[r.floating,l,i,o]);return g.useMemo(()=>s?{floating:h}:{},[s,h])}let nc=g.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});nc.displayName="FloatingContext";let a1=g.createContext(null);a1.displayName="PlacementContext";function b7(t){return g.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function S7(){return g.useContext(nc).setReference}function k7(){return g.useContext(nc).getReferenceProps}function E7(){let{getFloatingProps:t,slot:e}=g.useContext(nc);return g.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function T7(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=g.useContext(a1),n=g.useMemo(()=>t,[JSON.stringify(t,(s,i)=>{var o;return(o=i==null?void 0:i.outerHTML)!=null?o:i})]);qe(()=>{e==null||e(n??null)},[e,n]);let r=g.useContext(nc);return g.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let zT=4;function C7({children:t,enabled:e=!0}){let[n,r]=g.useState(null),[s,i]=g.useState(0),o=g.useRef(null),[a,l]=g.useState(null);N7(a);let c=e&&n!==null&&a!==null,{to:u="bottom",gap:d=0,offset:h=0,padding:p=0,inner:m}=M7(n,a),[y,x="center"]=u.split(" ");qe(()=>{c&&i(0)},[c]);let{refs:v,floatingStyles:w,context:b}=y7({open:c,placement:y==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${y}`:`${y}-${x}`,strategy:"absolute",transform:!1,middleware:[sD({mainAxis:y==="selection"?0:d,crossAxis:h}),t7({padding:p}),y!=="selection"&&n7({padding:p}),y==="selection"&&m?x7({...m,padding:p,overflowRef:o,offset:s,minItemsVisible:zT,referenceOverflowThreshold:p,onFallbackChange(N){var j,I;if(!N)return;let B=b.elements.floating;if(!B)return;let se=parseFloat(getComputedStyle(B).scrollPaddingBottom)||0,te=Math.min(zT,B.childElementCount),$=0,P=0;for(let A of(I=(j=b.elements.floating)==null?void 0:j.childNodes)!=null?I:[])if(A instanceof HTMLElement){let V=A.offsetTop,H=V+A.clientHeight+se,X=B.scrollTop,z=X+B.clientHeight;if(V>=X&&H<=z)te--;else{P=Math.max(0,Math.min(H,z)-Math.max(V,X)),$=A.clientHeight;break}}te>=1&&i(A=>{let V=$*te-P+se;return A>=V?A:V})}}):null,r7({padding:p,apply({availableWidth:N,availableHeight:j,elements:I}){Object.assign(I.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${j}px)`})}})].filter(Boolean),whileElementsMounted:q9}),[S=y,k=x]=b.placement.split("-");y==="selection"&&(S="selection");let E=g.useMemo(()=>({anchor:[S,k].filter(Boolean).join(" ")}),[S,k]),T=w7(b,{overflowRef:o,onChange:i}),{getReferenceProps:C,getFloatingProps:L}=v7([T]),M=le(N=>{l(N),v.setFloating(N)});return g.createElement(a1.Provider,{value:r},g.createElement(nc.Provider,{value:{setFloating:M,setReference:v.setReference,styles:w,getReferenceProps:C,getFloatingProps:L,slot:E}},t))}function N7(t){qe(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let s=parseInt(n);isNaN(s)||r!==s&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function M7(t,e){var n,r,s;let i=Ry((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=Ry((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=Ry((s=t==null?void 0:t.padding)!=null?s:"var(--anchor-padding, 0)",e);return{...t,gap:i,offset:o,padding:a}}function Ry(t,e,n=void 0){let r=ti(),s=le((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let u=BT(l,c);return[u,d=>{let h=aD(l);{let p=h.map(m=>window.getComputedStyle(c).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let y=!1;for(let[v,w]of h.entries()){let b=window.getComputedStyle(c).getPropertyValue(w);if(p[v]!==b){p[v]=b,y=!0;break}}if(!y)return;let x=BT(l,c);u!==x&&(d(x),u=x)})}return r.dispose}]}return[n,null]}),i=g.useMemo(()=>s(t,e)[0],[t,e]),[o=i,a]=g.useState();return qe(()=>{let[l,c]=s(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function aD(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),s=e[1].slice(n+1).trim();return s?[r,...aD(s)]:[r]}return[]}function BT(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}function j7(t,e){let[n,r]=g.useState(e);return!t&&n!==e&&r(e),t?n:e}let rg=g.createContext(null);rg.displayName="OpenClosedContext";var yn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(yn||{});function Fd(){return g.useContext(rg)}function lD({value:t,children:e}){return _.createElement(rg.Provider,{value:t},e)}function O7({children:t}){return _.createElement(rg.Provider,{value:null},t)}function A7(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ti=[];A7(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Ti[0]===e.target)return;let n=e.target;n=n.closest(dp),Ti.unshift(n??e.target),Ti=Ti.filter(r=>r!=null&&r.isConnected),Ti.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function L7(t){throw new Error("Unexpected object: "+t)}var Ct=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Ct||{});function Iy(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),s=r??-1;switch(t.focus){case 0:{for(let i=0;i<n.length;++i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 1:{s===-1&&(s=n.length);for(let i=s-1;i>=0;--i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=s+1;i<n.length;++i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(e.resolveId(n[i],i,n)===t.id)return i;return r}case 5:return null;default:L7(t)}}function cD(t){let e=le(t),n=g.useRef(!1);g.useEffect(()=>(n.current=!1,()=>{n.current=!0,Km(()=>{n.current&&e()})}),[e])}function D7(){let t=typeof document>"u";return"useSyncExternalStore"in bh?(e=>e.useSyncExternalStore)(bh)(()=>()=>{},()=>!1,()=>!t):!1}function zd(){let t=D7(),[e,n]=g.useState(qo.isHandoffComplete);return e&&qo.isHandoffComplete===!1&&n(!1),g.useEffect(()=>{e!==!0&&n(!0)},[e]),g.useEffect(()=>qo.handoff(),[]),t?!1:e}let uD=g.createContext(!1);function P7(){return g.useContext(uD)}function UT(t){return _.createElement(uD.Provider,{value:t.force},t.children)}function R7(t){let e=P7(),n=g.useContext(fD),r=Zl(t),[s,i]=g.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(qo.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return g.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),g.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),s}let dD=g.Fragment,I7=mt(function(t,e){let n=t,r=g.useRef(null),s=Gt(PW(d=>{r.current=d}),e),i=Zl(r),o=R7(r),[a]=g.useState(()=>{var d;return qo.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),l=g.useContext(gx),c=zd();qe(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),qe(()=>{if(a&&l)return l.register(a)},[l,a]),cD(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))});let u=bt();return c?!o||!a?null:xt.createPortal(u({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:dD,name:"Portal"}),a):null});function _7(t,e){let n=Gt(e),{enabled:r=!0,...s}=t,i=bt();return r?_.createElement(I7,{...s,ref:n}):i({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:dD,name:"Portal"})}let $7=g.Fragment,fD=g.createContext(null);function F7(t,e){let{target:n,...r}=t,s={ref:Gt(e)},i=bt();return _.createElement(fD.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:$7,name:"Popover.Group"}))}let gx=g.createContext(null);function z7(){let t=g.useContext(gx),e=g.useRef([]),n=le(i=>(e.current.push(i),t&&t.register(i),()=>r(i))),r=le(i=>{let o=e.current.indexOf(i);o!==-1&&e.current.splice(o,1),t&&t.unregister(i)}),s=g.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,g.useMemo(()=>function({children:i}){return _.createElement(gx.Provider,{value:s},i)},[s])]}let B7=mt(_7),hD=mt(F7),pD=Object.assign(B7,{Group:hD});function U7(t,e=typeof document<"u"?document.defaultView:null,n){let r=Xl(t,"escape");BL(e,"keydown",s=>{r&&(s.defaultPrevented||s.key===dt.Escape&&n(s))})}function V7(){var t;let[e]=g.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=g.useState((t=e==null?void 0:e.matches)!=null?t:!1);return qe(()=>{if(!e)return;function s(i){r(i.matches)}return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[e]),n}function H7({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Zl(n),s=le(()=>{var i,o;let a=[];for(let l of t)l!==null&&(l instanceof HTMLElement?a.push(l):"current"in l&&l.current instanceof HTMLElement&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:s,contains:le(i=>s().some(o=>o.contains(i)))}}let mD=g.createContext(null);function VT({children:t,node:e}){let[n,r]=g.useState(null),s=gD(e??n);return _.createElement(mD.Provider,{value:s},t,s===null&&_.createElement(ed,{features:Al.Hidden,ref:i=>{var o,a;if(i){for(let l of(a=(o=Ql(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(i)){r(l);break}}}}))}function gD(t=null){var e;return(e=g.useContext(mD))!=null?e:t}function l1(){let t=g.useRef(!1);return qe(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Bc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Bc||{});function W7(){let t=g.useRef(0);return FL(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function yD(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let G7="div";var jo=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(jo||{});function Y7(t,e){let n=g.useRef(null),r=Gt(n,e),{initialFocus:s,initialFocusFallback:i,containers:o,features:a=15,...l}=t;zd()||(a=0);let c=Zl(n);Q7(a,{ownerDocument:c});let u=X7(a,{ownerDocument:c,container:n,initialFocus:s,initialFocusFallback:i});Z7(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:u});let d=W7(),h=le(w=>{let b=n.current;b&&(S=>S())(()=>{Un(d.current,{[Bc.Forwards]:()=>{ll(b,zr.First,{skipElements:[w.relatedTarget,i]})},[Bc.Backwards]:()=>{ll(b,zr.Last,{skipElements:[w.relatedTarget,i]})}})})}),p=Xl(!!(a&2),"focus-trap#tab-lock"),m=ti(),y=g.useRef(!1),x={ref:r,onKeyDown(w){w.key=="Tab"&&(y.current=!0,m.requestAnimationFrame(()=>{y.current=!1}))},onBlur(w){if(!(a&4))return;let b=yD(o);n.current instanceof HTMLElement&&b.add(n.current);let S=w.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(vD(b,S)||(y.current?ll(n.current,Un(d.current,{[Bc.Forwards]:()=>zr.Next,[Bc.Backwards]:()=>zr.Previous})|zr.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&Us(w.target)))}},v=bt();return _.createElement(_.Fragment,null,p&&_.createElement(ed,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Al.Focusable}),v({ourProps:x,theirProps:l,defaultTag:G7,name:"FocusTrap"}),p&&_.createElement(ed,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Al.Focusable}))}let q7=mt(Y7),K7=Object.assign(q7,{features:jo});function J7(t=!0){let e=g.useRef(Ti.slice());return n1(([n],[r])=>{r===!0&&n===!1&&Km(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Ti.slice())},[t,Ti,e]),le(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Q7(t,{ownerDocument:e}){let n=!!(t&8),r=J7(n);n1(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Us(r())},[n]),cD(()=>{n&&Us(r())})}function X7(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:s}){let i=g.useRef(null),o=Xl(!!(t&1),"focus-trap#initial-focus"),a=l1();return n1(()=>{if(t===0)return;if(!o){s!=null&&s.current&&Us(s.current);return}let l=n.current;l&&Km(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){i.current=c;return}}else if(l.contains(c)){i.current=c;return}if(r!=null&&r.current)Us(r.current);else{if(t&16){if(ll(l,zr.First|zr.AutoFocus)!==fx.Error)return}else if(ll(l,zr.First)!==fx.Error)return;if(s!=null&&s.current&&(Us(s.current),(e==null?void 0:e.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=e==null?void 0:e.activeElement})},[s,o,t]),i}function Z7(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:s}){let i=l1(),o=!!(t&4);BL(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!i.current)return;let l=yD(r);n.current instanceof HTMLElement&&l.add(n.current);let c=s.current;if(!c)return;let u=a.target;u&&u instanceof HTMLElement?vD(l,u)?(s.current=u,Us(u)):(a.preventDefault(),a.stopPropagation(),Us(c)):Us(s.current)},!0)}function vD(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function xD(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:bD)!==g.Fragment||_.Children.count(t.children)===1}let sg=g.createContext(null);sg.displayName="TransitionContext";var eG=(t=>(t.Visible="visible",t.Hidden="hidden",t))(eG||{});function tG(){let t=g.useContext(sg);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function nG(){let t=g.useContext(ig);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ig=g.createContext(null);ig.displayName="NestingContext";function og(t){return"children"in t?og(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function wD(t,e){let n=co(t),r=g.useRef([]),s=l1(),i=ti(),o=le((p,m=Ai.Hidden)=>{let y=r.current.findIndex(({el:x})=>x===p);y!==-1&&(Un(m,{[Ai.Unmount](){r.current.splice(y,1)},[Ai.Hidden](){r.current[y].state="hidden"}}),i.microTask(()=>{var x;!og(r)&&s.current&&((x=n.current)==null||x.call(n))}))}),a=le(p=>{let m=r.current.find(({el:y})=>y===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Ai.Unmount)}),l=g.useRef([]),c=g.useRef(Promise.resolve()),u=g.useRef({enter:[],leave:[]}),d=le((p,m,y)=>{l.current.splice(0),e&&(e.chains.current[m]=e.chains.current[m].filter(([x])=>x!==p)),e==null||e.chains.current[m].push([p,new Promise(x=>{l.current.push(x)})]),e==null||e.chains.current[m].push([p,new Promise(x=>{Promise.all(u.current[m].map(([v,w])=>w)).then(()=>x())})]),m==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(m)):y(m)}),h=le((p,m,y)=>{Promise.all(u.current[m].splice(0).map(([x,v])=>v)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>y(m))});return g.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:h,wait:c,chains:u}),[a,o,r,d,h,u,c])}let bD=g.Fragment,SD=Ol.RenderStrategy;function rG(t,e){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:h,leave:p,leaveFrom:m,leaveTo:y,...x}=t,[v,w]=g.useState(null),b=g.useRef(null),S=xD(t),k=Gt(...S?[b,e,w]:e===null?[]:[e]),E=(n=x.unmount)==null||n?Ai.Unmount:Ai.Hidden,{show:T,appear:C,initial:L}=tG(),[M,N]=g.useState(T?"visible":"hidden"),j=nG(),{register:I,unregister:B}=j;qe(()=>I(b),[I,b]),qe(()=>{if(E===Ai.Hidden&&b.current){if(T&&M!=="visible"){N("visible");return}return Un(M,{hidden:()=>B(b),visible:()=>I(b)})}},[M,b,I,B,T,E]);let se=zd();qe(()=>{if(S&&se&&M==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,M,se,S]);let te=L&&!C,$=C&&T&&L,P=g.useRef(!1),A=wD(()=>{P.current||(N("hidden"),B(b))},j),V=le(Le=>{P.current=!0;let gt=Le?"enter":"leave";A.onStart(b,gt,Xe=>{Xe==="enter"?i==null||i():Xe==="leave"&&(a==null||a())})}),H=le(Le=>{let gt=Le?"enter":"leave";P.current=!1,A.onStop(b,gt,Xe=>{Xe==="enter"?o==null||o():Xe==="leave"&&(l==null||l())}),gt==="leave"&&!og(A)&&(N("hidden"),B(b))});g.useEffect(()=>{S&&s||(V(T),H(T))},[T,S,s]);let X=!(!s||!S||!se||te),[,z]=WL(X,v,T,{start:V,end:H}),fe=gi({ref:k,className:((r=ux(x.className,$&&c,$&&u,z.enter&&c,z.enter&&z.closed&&u,z.enter&&!z.closed&&d,z.leave&&p,z.leave&&!z.closed&&m,z.leave&&z.closed&&y,!z.transition&&T&&h))==null?void 0:r.trim())||void 0,...HL(z)}),ae=0;M==="visible"&&(ae|=yn.Open),M==="hidden"&&(ae|=yn.Closed),z.enter&&(ae|=yn.Opening),z.leave&&(ae|=yn.Closing);let Ce=bt();return _.createElement(ig.Provider,{value:A},_.createElement(lD,{value:ae},Ce({ourProps:fe,theirProps:x,defaultTag:bD,features:SD,visible:M==="visible",name:"Transition.Child"})))}function sG(t,e){let{show:n,appear:r=!1,unmount:s=!0,...i}=t,o=g.useRef(null),a=xD(t),l=Gt(...a?[o,e]:e===null?[]:[e]);zd();let c=Fd();if(n===void 0&&c!==null&&(n=(c&yn.Open)===yn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=g.useState(n?"visible":"hidden"),h=wD(()=>{n||d("hidden")}),[p,m]=g.useState(!0),y=g.useRef([n]);qe(()=>{p!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),m(!1))},[y,n]);let x=g.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);qe(()=>{n?d("visible"):!og(h)&&o.current!==null&&d("hidden")},[n,h]);let v={unmount:s},w=le(()=>{var k;p&&m(!1),(k=t.beforeEnter)==null||k.call(t)}),b=le(()=>{var k;p&&m(!1),(k=t.beforeLeave)==null||k.call(t)}),S=bt();return _.createElement(ig.Provider,{value:h},_.createElement(sg.Provider,{value:x},S({ourProps:{...v,as:g.Fragment,children:_.createElement(kD,{ref:l,...v,...i,beforeEnter:w,beforeLeave:b})},theirProps:{},defaultTag:g.Fragment,features:SD,visible:u==="visible",name:"Transition"})))}function iG(t,e){let n=g.useContext(sg)!==null,r=Fd()!==null;return _.createElement(_.Fragment,null,!n&&r?_.createElement(yx,{ref:e,...t}):_.createElement(kD,{ref:e,...t}))}let yx=mt(sG),kD=mt(rG),c1=mt(iG),nt=Object.assign(yx,{Child:c1,Root:yx});var oG=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(oG||{}),aG=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(aG||{});let lG={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},u1=g.createContext(null);u1.displayName="DialogContext";function ag(t){let e=g.useContext(u1);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ag),n}return e}function cG(t,e){return Un(e.type,lG,t,e)}let HT=mt(function(t,e){let n=g.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...d}=t,h=g.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Fd();s===void 0&&p!==null&&(s=(p&yn.Open)===yn.Open);let m=g.useRef(null),y=Gt(m,e),x=Zl(m),v=s?0:1,[w,b]=g.useReducer(cG,{titleId:null,descriptionId:null,panelRef:g.createRef()}),S=le(()=>i(!1)),k=le(H=>b({type:0,id:H})),E=zd()?v===0:!1,[T,C]=z7(),L={get current(){var H;return(H=w.panelRef.current)!=null?H:m.current}},M=gD(),{resolveContainers:N}=H7({mainTreeNode:M,portals:T,defaultContainers:[L]}),j=p!==null?(p&yn.Closing)===yn.Closing:!1;DL(c||j?!1:E,{allowed:le(()=>{var H,X;return[(X=(H=m.current)==null?void 0:H.closest("[data-headlessui-portal]"))!=null?X:null]}),disallowed:le(()=>{var H;return[(H=M==null?void 0:M.closest("body > *:not(#headlessui-portal-root)"))!=null?H:null]})}),zL(E,N,H=>{H.preventDefault(),S()}),U7(E,x==null?void 0:x.defaultView,H=>{H.preventDefault(),H.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),VL(c||j?!1:E,x,N),PL(E,m,S);let[I,B]=CL(),se=g.useMemo(()=>[{dialogState:v,close:S,setTitleId:k,unmount:u},w],[v,w,S,k,u]),te=g.useMemo(()=>({open:v===0}),[v]),$={ref:y,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:v===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":I,unmount:u},P=!V7(),A=jo.None;E&&!c&&(A|=jo.RestoreFocus,A|=jo.TabLock,l&&(A|=jo.AutoFocus),P&&(A|=jo.InitialFocus));let V=bt();return _.createElement(O7,null,_.createElement(UT,{force:!0},_.createElement(pD,null,_.createElement(u1.Provider,{value:se},_.createElement(hD,{target:m},_.createElement(UT,{force:!1},_.createElement(B,{slot:te},_.createElement(C,null,_.createElement(K7,{initialFocus:o,initialFocusFallback:m,containers:N,features:A},_.createElement(UW,{value:S},V({ourProps:$,theirProps:d,slot:te,defaultTag:uG,features:dG,visible:v===0,name:"Dialog"})))))))))))}),uG="div",dG=Ol.RenderStrategy|Ol.Static;function fG(t,e){let{transition:n=!1,open:r,...s}=t,i=Fd(),o=t.hasOwnProperty("open")||i!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!s.static?_.createElement(VT,null,_.createElement(nt,{show:r,transition:n,unmount:s.unmount},_.createElement(HT,{ref:e,...s}))):_.createElement(VT,null,_.createElement(HT,{ref:e,open:r,...s}))}let hG="div";function pG(t,e){let n=g.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=t,[{dialogState:o,unmount:a},l]=ag("Dialog.Panel"),c=Gt(e,l.panelRef),u=g.useMemo(()=>({open:o===0}),[o]),d=le(x=>{x.stopPropagation()}),h={ref:c,id:r,onClick:d},p=s?c1:g.Fragment,m=s?{unmount:a}:{},y=bt();return _.createElement(p,{...m},y({ourProps:h,theirProps:i,slot:u,defaultTag:hG,name:"Dialog.Panel"}))}let mG="div";function gG(t,e){let{transition:n=!1,...r}=t,[{dialogState:s,unmount:i}]=ag("Dialog.Backdrop"),o=g.useMemo(()=>({open:s===0}),[s]),a={ref:e,"aria-hidden":!0},l=n?c1:g.Fragment,c=n?{unmount:i}:{},u=bt();return _.createElement(l,{...c},u({ourProps:a,theirProps:r,slot:o,defaultTag:mG,name:"Dialog.Backdrop"}))}let yG="h2";function vG(t,e){let n=g.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:i,setTitleId:o}]=ag("Dialog.Title"),a=Gt(e);g.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=g.useMemo(()=>({open:i===0}),[i]),c={ref:a,id:r};return bt()({ourProps:c,theirProps:s,slot:l,defaultTag:yG,name:"Dialog.Title"})}let xG=mt(fG),wG=mt(pG);mt(gG);let bG=mt(vG),ht=Object.assign(xG,{Panel:wG,Title:bG,Description:NL});function SG(t,e){let n=g.useRef({left:0,top:0});if(qe(()=>{if(!e)return;let s=e.getBoundingClientRect();s&&(n.current=s)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let WT=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function GT(t){var e,n;let r=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let i=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(n=s.innerText)!=null?n:"":r;return WT.test(o)&&(o=o.replace(WT,"")),o}function kG(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():GT(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return GT(t).trim()}function EG(t){let e=g.useRef(""),n=g.useRef("");return le(()=>{let r=t.current;if(!r)return"";let s=r.innerText;if(e.current===s)return n.current;let i=kG(r).trim().toLowerCase();return e.current=s,n.current=i,i})}var TG=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(TG||{}),CG=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(CG||{}),NG=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(NG||{}),MG=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOption=5]="RegisterOption",t[t.UnregisterOption=6]="UnregisterOption",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetOptionsElement=8]="SetOptionsElement",t))(MG||{});function _y(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=_L(e(t.options.slice()),i=>i.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{options:r,activeOptionIndex:s}}let jG={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(t){if(t.dataRef.current.disabled||t.listboxState===0)return t;let e=t.activeOptionIndex,{isSelected:n}=t.dataRef.current,r=t.options.findIndex(s=>n(s.dataRef.current.value));return r!==-1&&(e=r),{...t,listboxState:0,activeOptionIndex:e,__demoMode:!1}},2(t,e){var n,r,s,i,o;if(t.dataRef.current.disabled||t.listboxState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Ct.Nothing)return{...a,activeOptionIndex:null};if(e.focus===Ct.Specific)return{...a,activeOptionIndex:t.options.findIndex(u=>u.id===e.id)};if(e.focus===Ct.Previous){let u=t.activeOptionIndex;if(u!==null){let d=t.options[u].dataRef.current.domRef,h=Iy(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(h!==null){let p=t.options[h].dataRef.current.domRef;if(((r=d.current)==null?void 0:r.previousElementSibling)===p.current||((s=p.current)==null?void 0:s.previousElementSibling)===null)return{...a,activeOptionIndex:h}}}}else if(e.focus===Ct.Next){let u=t.activeOptionIndex;if(u!==null){let d=t.options[u].dataRef.current.domRef,h=Iy(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(h!==null){let p=t.options[h].dataRef.current.domRef;if(((i=d.current)==null?void 0:i.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeOptionIndex:h}}}}let l=_y(t),c=Iy(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeOptionIndex:c}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),s=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),i=s?t.options.indexOf(s):-1;return i===-1||i===t.activeOptionIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n={id:e.id,dataRef:e.dataRef},r=_y(t,s=>[...s,n]);return t.activeOptionIndex===null&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...t,...r}},6:(t,e)=>{let n=_y(t,r=>{let s=r.findIndex(i=>i.id===e.id);return s!==-1&&r.splice(s,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element}},d1=g.createContext(null);d1.displayName="ListboxActionsContext";function lg(t){let e=g.useContext(d1);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lg),n}return e}let cg=g.createContext(null);cg.displayName="ListboxDataContext";function Bd(t){let e=g.useContext(cg);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bd),n}return e}function OG(t,e){return Un(e.type,jG,t,e)}let AG=g.Fragment;function LG(t,e){var n;let r=Jm(),{value:s,defaultValue:i,form:o,name:a,onChange:l,by:c,invalid:u=!1,disabled:d=r||!1,horizontal:h=!1,multiple:p=!1,__demoMode:m=!1,...y}=t;const x=h?"horizontal":"vertical";let v=Gt(e),w=gL(i),[b=p?[]:void 0,S]=mL(s,l,w),[k,E]=g.useReducer(OG,{dataRef:g.createRef(),listboxState:m?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:m}),T=g.useRef({static:!1,hold:!1}),C=g.useRef(new Map),L=HW(c),M=g.useCallback(pe=>Un(N.mode,{1:()=>b.some(De=>L(De,pe)),0:()=>L(b,pe)}),[b]),N=g.useMemo(()=>({...k,value:b,disabled:d,invalid:u,mode:p?1:0,orientation:x,compare:L,isSelected:M,optionsPropsRef:T,listRef:C}),[b,d,u,p,k,C]);qe(()=>{k.dataRef.current=N},[N]);let j=N.listboxState===0;zL(j,[N.buttonElement,N.optionsElement],(pe,De)=>{var Pe;E({type:1}),IL(De,t1.Loose)||(pe.preventDefault(),(Pe=N.buttonElement)==null||Pe.focus())});let I=g.useMemo(()=>({open:N.listboxState===0,disabled:d,invalid:u,value:b}),[N,d,b,u]),B=le(pe=>{let De=N.options.find(Pe=>Pe.id===pe);De&&H(De.dataRef.current.value)}),se=le(()=>{if(N.activeOptionIndex!==null){let{dataRef:pe,id:De}=N.options[N.activeOptionIndex];H(pe.current.value),E({type:2,focus:Ct.Specific,id:De})}}),te=le(()=>E({type:0})),$=le(()=>E({type:1})),P=ti(),A=le((pe,De,Pe)=>{P.dispose(),P.microTask(()=>pe===Ct.Specific?E({type:2,focus:Ct.Specific,id:De,trigger:Pe}):E({type:2,focus:pe,trigger:Pe}))}),V=le((pe,De)=>(E({type:5,id:pe,dataRef:De}),()=>E({type:6,id:pe}))),H=le(pe=>Un(N.mode,{0(){return S==null?void 0:S(pe)},1(){let De=N.value.slice(),Pe=De.findIndex(Mn=>L(Mn,pe));return Pe===-1?De.push(pe):De.splice(Pe,1),S==null?void 0:S(De)}})),X=le(pe=>E({type:3,value:pe})),z=le(()=>E({type:4})),fe=le(pe=>{E({type:7,element:pe})}),ae=le(pe=>{E({type:8,element:pe})}),Ce=g.useMemo(()=>({onChange:H,registerOption:V,goToOption:A,closeListbox:$,openListbox:te,selectActiveOption:se,selectOption:B,search:X,clearSearch:z,setButtonElement:fe,setOptionsElement:ae}),[]),[Le,gt]=jL({inherit:!0}),Xe={ref:v},je=g.useCallback(()=>{if(w!==void 0)return S==null?void 0:S(w)},[S,w]),Hn=bt();return _.createElement(gt,{value:Le,props:{htmlFor:(n=N.buttonElement)==null?void 0:n.id},slot:{open:N.listboxState===0,disabled:d}},_.createElement(C7,null,_.createElement(d1.Provider,{value:Ce},_.createElement(cg.Provider,{value:N},_.createElement(lD,{value:Un(N.listboxState,{0:yn.Open,1:yn.Closed})},a!=null&&b!=null&&_.createElement(bL,{disabled:d,data:{[a]:b},form:o,onReset:je}),Hn({ourProps:Xe,theirProps:y,slot:I,defaultTag:AG,name:"Listbox"}))))))}let DG="button";function PG(t,e){var n;let r=Bd("Listbox.Button"),s=lg("Listbox.Button"),i=g.useId(),o=Zb(),{id:a=o||`headlessui-listbox-button-${i}`,disabled:l=r.disabled||!1,autoFocus:c=!1,...u}=t,d=Gt(e,S7(),s.setButtonElement),h=k7(),p=le(N=>{switch(N.key){case dt.Enter:wL(N.currentTarget);break;case dt.Space:case dt.ArrowDown:N.preventDefault(),xt.flushSync(()=>s.openListbox()),r.value||s.goToOption(Ct.First);break;case dt.ArrowUp:N.preventDefault(),xt.flushSync(()=>s.openListbox()),r.value||s.goToOption(Ct.Last);break}}),m=le(N=>{switch(N.key){case dt.Space:N.preventDefault();break}}),y=le(N=>{var j;if(SL(N.currentTarget))return N.preventDefault();r.listboxState===0?(xt.flushSync(()=>s.closeListbox()),(j=r.buttonElement)==null||j.focus({preventScroll:!0})):(N.preventDefault(),s.openListbox())}),x=le(N=>N.preventDefault()),v=e1([a]),w=TL(),{isFocusVisible:b,focusProps:S}=fL({autoFocus:c}),{isHovered:k,hoverProps:E}=dL({isDisabled:l}),{pressed:T,pressProps:C}=hL({disabled:l}),L=g.useMemo(()=>({open:r.listboxState===0,active:T||r.listboxState===0,disabled:l,invalid:r.invalid,value:r.value,hover:k,focus:b,autofocus:c}),[r.listboxState,r.value,l,k,b,T,r.invalid,c]),M=Xb(h(),{ref:d,id:a,type:UL(t,r.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":v,"aria-describedby":w,disabled:l||void 0,autoFocus:c,onKeyDown:p,onKeyUp:m,onKeyPress:x,onClick:y},S,E,C);return bt()({ourProps:M,theirProps:u,slot:L,defaultTag:DG,name:"Listbox.Button"})}let ED=g.createContext(!1),RG="div",IG=Ol.RenderStrategy|Ol.Static;function _G(t,e){var n,r;let s=g.useId(),{id:i=`headlessui-listbox-options-${s}`,anchor:o,portal:a=!1,modal:l=!0,transition:c=!1,...u}=t,d=b7(o),[h,p]=g.useState(null);d&&(a=!0);let m=Bd("Listbox.Options"),y=lg("Listbox.Options"),x=Zl(m.optionsElement),v=Fd(),[w,b]=WL(c,h,v!==null?(v&yn.Open)===yn.Open:m.listboxState===0);PL(w,m.buttonElement,y.closeListbox);let S=m.__demoMode?!1:l&&m.listboxState===0;VL(S,x);let k=m.__demoMode?!1:l&&m.listboxState===0;DL(k,{allowed:g.useCallback(()=>[m.buttonElement,m.optionsElement],[m.buttonElement,m.optionsElement])});let E=m.listboxState!==0,T=SG(E,m.buttonElement)?!1:w,C=w&&m.listboxState===1,L=j7(C,m.value),M=le(z=>m.compare(L,z)),N=g.useMemo(()=>{var z;if(d==null||!((z=d==null?void 0:d.to)!=null&&z.includes("selection")))return null;let fe=m.options.findIndex(ae=>M(ae.dataRef.current.value));return fe===-1&&(fe=0),fe},[d,m.options]),j=(()=>{if(d==null)return;if(N===null)return{...d,inner:void 0};let z=Array.from(m.listRef.current.values());return{...d,inner:{listRef:{current:z},index:N}}})(),[I,B]=T7(j),se=E7(),te=Gt(e,d?I:null,y.setOptionsElement,p),$=ti();g.useEffect(()=>{var z;let fe=m.optionsElement;fe&&m.listboxState===0&&fe!==((z=Ql(fe))==null?void 0:z.activeElement)&&(fe==null||fe.focus({preventScroll:!0}))},[m.listboxState,m.optionsElement]);let P=le(z=>{var fe,ae;switch($.dispose(),z.key){case dt.Space:if(m.searchQuery!=="")return z.preventDefault(),z.stopPropagation(),y.search(z.key);case dt.Enter:if(z.preventDefault(),z.stopPropagation(),m.activeOptionIndex!==null){let{dataRef:Ce}=m.options[m.activeOptionIndex];y.onChange(Ce.current.value)}m.mode===0&&(xt.flushSync(()=>y.closeListbox()),(fe=m.buttonElement)==null||fe.focus({preventScroll:!0}));break;case Un(m.orientation,{vertical:dt.ArrowDown,horizontal:dt.ArrowRight}):return z.preventDefault(),z.stopPropagation(),y.goToOption(Ct.Next);case Un(m.orientation,{vertical:dt.ArrowUp,horizontal:dt.ArrowLeft}):return z.preventDefault(),z.stopPropagation(),y.goToOption(Ct.Previous);case dt.Home:case dt.PageUp:return z.preventDefault(),z.stopPropagation(),y.goToOption(Ct.First);case dt.End:case dt.PageDown:return z.preventDefault(),z.stopPropagation(),y.goToOption(Ct.Last);case dt.Escape:z.preventDefault(),z.stopPropagation(),xt.flushSync(()=>y.closeListbox()),(ae=m.buttonElement)==null||ae.focus({preventScroll:!0});return;case dt.Tab:z.preventDefault(),z.stopPropagation(),xt.flushSync(()=>y.closeListbox()),t9(m.buttonElement,z.shiftKey?zr.Previous:zr.Next);break;default:z.key.length===1&&(y.search(z.key),$.setTimeout(()=>y.clearSearch(),350));break}}),A=(n=m.buttonElement)==null?void 0:n.id,V=g.useMemo(()=>({open:m.listboxState===0}),[m.listboxState]),H=Xb(d?se():{},{id:i,ref:te,"aria-activedescendant":m.activeOptionIndex===null||(r=m.options[m.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":m.mode===1?!0:void 0,"aria-labelledby":A,"aria-orientation":m.orientation,onKeyDown:P,role:"listbox",tabIndex:m.listboxState===0?0:void 0,style:{...u.style,...B,"--button-width":GW(m.buttonElement,!0).width},...HL(b)}),X=bt();return _.createElement(pD,{enabled:a?t.static||w:!1},_.createElement(cg.Provider,{value:m.mode===1?m:{...m,isSelected:M}},X({ourProps:H,theirProps:u,slot:V,defaultTag:RG,features:IG,visible:T,name:"Listbox.Options"})))}let $G="div";function FG(t,e){let n=g.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:s=!1,value:i,...o}=t,a=g.useContext(ED)===!0,l=Bd("Listbox.Option"),c=lg("Listbox.Option"),u=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,d=l.isSelected(i),h=g.useRef(null),p=EG(h),m=co({disabled:s,value:i,domRef:h,get textValue(){return p()}}),y=Gt(e,h,L=>{L?l.listRef.current.set(r,L):l.listRef.current.delete(r)});qe(()=>{if(!l.__demoMode&&l.listboxState===0&&u&&l.activationTrigger!==0)return ei().requestAnimationFrame(()=>{var L,M;(M=(L=h.current)==null?void 0:L.scrollIntoView)==null||M.call(L,{block:"nearest"})})},[h,u,l.__demoMode,l.listboxState,l.activationTrigger,l.activeOptionIndex]),qe(()=>{if(!a)return c.registerOption(r,m)},[m,r,a]);let x=le(L=>{var M;if(s)return L.preventDefault();c.onChange(i),l.mode===0&&(xt.flushSync(()=>c.closeListbox()),(M=l.buttonElement)==null||M.focus({preventScroll:!0}))}),v=le(()=>{if(s)return c.goToOption(Ct.Nothing);c.goToOption(Ct.Specific,r)}),w=c9(),b=le(L=>{w.update(L),!s&&(u||c.goToOption(Ct.Specific,r,0))}),S=le(L=>{w.wasMoved(L)&&(s||u||c.goToOption(Ct.Specific,r,0))}),k=le(L=>{w.wasMoved(L)&&(s||u&&c.goToOption(Ct.Nothing))}),E=g.useMemo(()=>({active:u,focus:u,selected:d,disabled:s,selectedOption:d&&a}),[u,d,s,a]),T=a?{}:{id:r,ref:y,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:x,onFocus:v,onPointerEnter:b,onMouseEnter:b,onPointerMove:S,onMouseMove:S,onPointerLeave:k,onMouseLeave:k},C=bt();return!d&&a?null:C({ourProps:T,theirProps:o,slot:E,defaultTag:$G,name:"Listbox.Option"})}let zG=g.Fragment;function BG(t,e){let{options:n,placeholder:r,...s}=t,i={ref:Gt(e)},o=Bd("ListboxSelectedOption"),a=g.useMemo(()=>({}),[]),l=o.value===void 0||o.value===null||o.mode===1&&Array.isArray(o.value)&&o.value.length===0,c=bt();return _.createElement(ED.Provider,{value:!0},c({ourProps:i,theirProps:{...s,children:_.createElement(_.Fragment,null,r&&l?r:n)},slot:a,defaultTag:zG,name:"ListboxSelectedOption"}))}let UG=mt(LG),VG=mt(PG),HG=OL,WG=mt(_G),GG=mt(FG),YG=mt(BG),Tf=Object.assign(UG,{Button:VG,Label:HG,Options:WG,Option:GG,SelectedOption:YG}),f1=g.createContext(null);f1.displayName="GroupContext";let qG=g.Fragment;function KG(t){var e;let[n,r]=g.useState(null),[s,i]=jL(),[o,a]=CL(),l=g.useMemo(()=>({switch:n,setSwitch:r}),[n,r]),c={},u=t,d=bt();return _.createElement(a,{name:"Switch.Description",value:o},_.createElement(i,{name:"Switch.Label",value:s,props:{htmlFor:(e=l.switch)==null?void 0:e.id,onClick(h){n&&(h.currentTarget instanceof HTMLLabelElement&&h.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},_.createElement(f1.Provider,{value:l},d({ourProps:c,theirProps:u,slot:{},defaultTag:qG,name:"Switch.Group"}))))}let JG="button";function QG(t,e){var n;let r=g.useId(),s=Zb(),i=Jm(),{id:o=s||`headlessui-switch-${r}`,disabled:a=i||!1,checked:l,defaultChecked:c,onChange:u,name:d,value:h,form:p,autoFocus:m=!1,...y}=t,x=g.useContext(f1),[v,w]=g.useState(null),b=g.useRef(null),S=Gt(b,e,x===null?null:x.setSwitch,w),k=gL(c),[E,T]=mL(l,u,k??!1),C=ti(),[L,M]=g.useState(!1),N=le(()=>{M(!0),T==null||T(!E),C.nextFrame(()=>{M(!1)})}),j=le(Le=>{if(SL(Le.currentTarget))return Le.preventDefault();Le.preventDefault(),N()}),I=le(Le=>{Le.key===dt.Space?(Le.preventDefault(),N()):Le.key===dt.Enter&&wL(Le.currentTarget)}),B=le(Le=>Le.preventDefault()),se=e1(),te=TL(),{isFocusVisible:$,focusProps:P}=fL({autoFocus:m}),{isHovered:A,hoverProps:V}=dL({isDisabled:a}),{pressed:H,pressProps:X}=hL({disabled:a}),z=g.useMemo(()=>({checked:E,disabled:a,hover:A,focus:$,active:H,autofocus:m,changing:L}),[E,A,$,H,a,L,m]),fe=Xb({id:o,ref:S,role:"switch",type:UL(t,v),tabIndex:t.tabIndex===-1?0:(n=t.tabIndex)!=null?n:0,"aria-checked":E,"aria-labelledby":se,"aria-describedby":te,disabled:a||void 0,autoFocus:m,onClick:j,onKeyUp:I,onKeyPress:B},P,V,X),ae=g.useCallback(()=>{if(k!==void 0)return T==null?void 0:T(k)},[T,k]),Ce=bt();return _.createElement(_.Fragment,null,d!=null&&_.createElement(bL,{disabled:a,data:{[d]:h||"on"},overrides:{type:"checkbox",checked:E},form:p,onReset:ae}),Ce({ourProps:fe,theirProps:y,slot:z,defaultTag:JG,name:"Switch"}))}let XG=mt(QG),ZG=KG,eY=OL,tY=NL,nY=Object.assign(XG,{Group:ZG,Label:eY,Description:tY});const Cf=({icon:t,label:e,value:n})=>f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-design-greyBG/50 hover:bg-design-greyBG/70 rounded-xl transition-all",children:[f.jsx(t,{className:"w-5 h-5 text-design-primaryPurple"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-design-primaryGrey",children:e}),f.jsx("p",{className:"font-medium text-design-black dark:text-white",children:n})]})]});function rY({isOpen:t,onClose:e,user:n,userId:r}){const[s,i]=g.useState(n==null?void 0:n.email_preferance),{language:o,changeLanguage:a,languages:l}=eL(),c=async u=>{i(u),await K5(u,r)};return f.jsx(nt,{show:t,as:g.Fragment,children:f.jsxs(ht,{as:"div",className:"relative z-50",onClose:e,children:[f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsxs(ht.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-design-black p-6 shadow-xl transition-all",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx(ht.Title,{className:"text-xl font-semibold text-design-black dark:text-white",children:f.jsx(D,{children:"Settings"})}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-design-greyBG rounded-lg transition-colors",children:f.jsx(an,{className:"w-5 h-5 text-design-primaryGrey"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Cf,{icon:ep,label:f.jsx(D,{children:"Full Name"}),value:`${n.firstName} ${n.lastName}`}),f.jsx(Cf,{icon:Q2,label:f.jsx(D,{children:"Email"}),value:n.email}),f.jsx(Cf,{icon:Oz,label:f.jsx(D,{children:"Role"}),value:n.role||"User"}),f.jsx(Cf,{icon:fz,label:f.jsx(D,{children:"User ID"}),value:n.userId}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-design-greyBG/50 hover:bg-design-greyBG/70 rounded-xl transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(dz,{className:"w-5 h-5 text-design-primaryPurple"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-design-black dark:text-white",children:f.jsx(D,{children:"Language"})}),f.jsx("p",{className:"text-sm text-design-primaryGrey",children:f.jsx(D,{children:"Select your preferred language"})})]})]}),f.jsxs("select",{value:o,onChange:u=>a(u.target.value),className:"px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-sm focus:ring-2 focus:ring-design-primaryPurple focus:outline-none",children:[f.jsx("option",{value:l.ENGLISH,children:"English"}),f.jsx("option",{value:l.GERMAN,children:"Deutsch"})]})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-design-greyBG/50 hover:bg-design-greyBG/70 rounded-xl transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(G2,{className:"w-5 h-5 text-design-primaryPurple"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-design-black dark:text-white",children:f.jsx(D,{children:"Email Notifications"})}),f.jsx("p",{className:"text-sm text-design-primaryGrey",children:f.jsx(D,{children:"Receive email updates"})})]})]}),f.jsx(nY,{checked:s,onChange:c,className:`${s?"bg-design-primaryPurple":"bg-design-greyOutlines"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-design-primaryPurple focus:ring-offset-2`,children:f.jsx("span",{className:`${s?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})]})]})})})})]})})}function Ee(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Gr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function sY(t,e){const n=Ee(t);return isNaN(e)?Gr(t,NaN):(n.setDate(n.getDate()+e),n)}function cu(t,e){const n=Ee(t);if(isNaN(e))return Gr(t,NaN);if(!e)return n;const r=n.getDate(),s=Gr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const TD=6048e5,iY=864e5,CD=6e4,ND=36e5,Nf=43200,YT=1440;let oY={};function rc(){return oY}function Dl(t,e){var a,l,c,u;const n=rc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=Ee(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function mp(t){return Dl(t,{weekStartsOn:1})}function MD(t){const e=Ee(t),n=e.getFullYear(),r=Gr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=mp(r),i=Gr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=mp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function gp(t){const e=Ee(t);return e.setHours(0,0,0,0),e}function yp(t){const e=Ee(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function aY(t,e){const n=gp(t),r=gp(e),s=+n-yp(n),i=+r-yp(r);return Math.round((s-i)/iY)}function lY(t){const e=MD(t),n=Gr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),mp(n)}function fh(t,e){const n=Ee(t),r=Ee(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function h1(t){return Gr(t,Date.now())}function ug(t,e){const n=gp(t),r=gp(e);return+n==+r}function cY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uY(t){if(!cY(t)&&typeof t!="number")return!1;const e=Ee(t);return!isNaN(Number(e))}function dY(t,e){const n=Ee(t),r=Ee(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function fY(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function hY(t,e){return+Ee(t)-+Ee(e)}function pY(t){const e=Ee(t);return e.setHours(23,59,59,999),e}function vp(t){const e=Ee(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function mY(t){const e=Ee(t);return+pY(e)==+vp(e)}function gY(t,e){const n=Ee(t),r=Ee(e),s=fh(n,r),i=Math.abs(dY(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=fh(n,r)===-s;mY(Ee(t))&&i===1&&fh(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function yY(t,e,n){const r=hY(t,e)/1e3;return fY(n==null?void 0:n.roundingMethod)(r)}function jD(t,e){const n=Ee(t.start),r=Ee(t.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(Ee(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function vx(t){const e=Ee(t);return e.setDate(1),e.setHours(0,0,0,0),e}function vY(t){const e=Ee(t),n=Gr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function xY(t,e){var a,l;const n=rc(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=Ee(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const wY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bY=(t,e,n)=>{let r;const s=wY[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function $y(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const SY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},EY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TY={date:$y({formats:SY,defaultWidth:"full"}),time:$y({formats:kY,defaultWidth:"full"}),dateTime:$y({formats:EY,defaultWidth:"full"})},CY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NY=(t,e,n,r)=>CY[t];function kc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const MY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},RY={ordinalNumber:PY,era:kc({values:MY,defaultWidth:"wide"}),quarter:kc({values:jY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:kc({values:OY,defaultWidth:"wide"}),day:kc({values:AY,defaultWidth:"wide"}),dayPeriod:kc({values:LY,defaultWidth:"wide",formattingValues:DY,defaultFormattingWidth:"wide"})};function Ec(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?_Y(a,d=>d.test(o)):IY(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function IY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function _Y(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $Y(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const FY=/^(\d+)(th|st|nd|rd)?/i,zY=/\d+/i,BY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UY={any:[/^b/i,/^(a|c)/i]},VY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HY={any:[/1/i,/2/i,/3/i,/4/i]},WY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QY={ordinalNumber:$Y({matchPattern:FY,parsePattern:zY,valueCallback:t=>parseInt(t,10)}),era:Ec({matchPatterns:BY,defaultMatchWidth:"wide",parsePatterns:UY,defaultParseWidth:"any"}),quarter:Ec({matchPatterns:VY,defaultMatchWidth:"wide",parsePatterns:HY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ec({matchPatterns:WY,defaultMatchWidth:"wide",parsePatterns:GY,defaultParseWidth:"any"}),day:Ec({matchPatterns:YY,defaultMatchWidth:"wide",parsePatterns:qY,defaultParseWidth:"any"}),dayPeriod:Ec({matchPatterns:KY,defaultMatchWidth:"any",parsePatterns:JY,defaultParseWidth:"any"})},OD={code:"en-US",formatDistance:bY,formatLong:TY,formatRelative:NY,localize:RY,match:QY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XY(t){const e=Ee(t);return aY(e,vY(e))+1}function ZY(t){const e=Ee(t),n=+mp(e)-+lY(e);return Math.round(n/TD)+1}function AD(t,e){var u,d,h,p;const n=Ee(t),r=n.getFullYear(),s=rc(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Gr(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Dl(o,e),l=Gr(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Dl(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function eq(t,e){var a,l,c,u;const n=rc(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=AD(t,e),i=Gr(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Dl(i,e)}function tq(t,e){const n=Ee(t),r=+Dl(n,e)-+eq(n,e);return Math.round(r/TD)+1}function _e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ai={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return _e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):_e(n+1,2)},d(t,e){return _e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return _e(t.getHours()%12||12,e.length)},H(t,e){return _e(t.getHours(),e.length)},m(t,e){return _e(t.getMinutes(),e.length)},s(t,e){return _e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return _e(s,e.length)}},Oa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ai.y(t,e)},Y:function(t,e,n,r){const s=AD(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return _e(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):_e(i,e.length)},R:function(t,e){const n=MD(t);return _e(n,e.length)},u:function(t,e){const n=t.getFullYear();return _e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return _e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return _e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ai.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return _e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=tq(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):_e(s,e.length)},I:function(t,e,n){const r=ZY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):_e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ai.d(t,e)},D:function(t,e,n){const r=XY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return _e(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return _e(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return _e(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Oa.noon:r===0?s=Oa.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Oa.evening:r>=12?s=Oa.afternoon:r>=4?s=Oa.morning:s=Oa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ai.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ai.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ai.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ai.s(t,e)},S:function(t,e){return ai.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return JT(r);case"XXXX":case"XX":return Co(r);case"XXXXX":case"XXX":default:return Co(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return JT(r);case"xxxx":case"xx":return Co(r);case"xxxxx":case"xxx":default:return Co(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+KT(r,":");case"OOOO":default:return"GMT"+Co(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+KT(r,":");case"zzzz":default:return"GMT"+Co(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return _e(r,e.length)},T:function(t,e,n){const r=t.getTime();return _e(r,e.length)}};function KT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+_e(i,2)}function JT(t,e){return t%60===0?(t>0?"-":"+")+_e(Math.abs(t)/60,2):Co(t,e)}function Co(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=_e(Math.trunc(r/60),2),i=_e(r%60,2);return n+s+e+i}const QT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return QT(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",QT(r,e)).replace("{{time}}",LD(s,e))},rq={p:LD,P:nq},sq=/^D+$/,iq=/^Y+$/,oq=["D","DD","YY","YYYY"];function aq(t){return sq.test(t)}function lq(t){return iq.test(t)}function cq(t,e,n){const r=uq(t,e,n);if(console.warn(r),oq.includes(t))throw new RangeError(r)}function uq(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hq=/^'([^]*?)'?$/,pq=/''/g,mq=/[a-zA-Z]/;function Xn(t,e,n){var u,d,h,p;const r=rc(),s=r.locale??OD,i=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=Ee(t);if(!uY(a))throw new RangeError("Invalid time value");let l=e.match(fq).map(m=>{const y=m[0];if(y==="p"||y==="P"){const x=rq[y];return x(m,s.formatLong)}return m}).join("").match(dq).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:gq(m)};if(qT[y])return{isToken:!0,value:m};if(y.match(mq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(lq(y)||aq(y))&&cq(y,e,String(t));const x=qT[y[0]];return x(a,y,s.localize,c)}).join("")}function gq(t){const e=t.match(hq);return e?e[1].replace(pq,"'"):t}function yq(t,e,n){const r=rc(),s=(n==null?void 0:n.locale)??r.locale??OD,i=2520,o=fh(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=Ee(e),c=Ee(t)):(l=Ee(t),c=Ee(e));const u=yY(c,l),d=(yp(c)-yp(l))/1e3,h=Math.round((u-d)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):h===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",h,a);if(h<45)return s.formatDistance("xMinutes",h,a);if(h<90)return s.formatDistance("aboutXHours",1,a);if(h<YT){const m=Math.round(h/60);return s.formatDistance("aboutXHours",m,a)}else{if(h<i)return s.formatDistance("xDays",1,a);if(h<Nf){const m=Math.round(h/YT);return s.formatDistance("xDays",m,a)}else if(h<Nf*2)return p=Math.round(h/Nf),s.formatDistance("aboutXMonths",p,a)}if(p=gY(c,l),p<12){const m=Math.round(h/Nf);return s.formatDistance("xMonths",m,a)}else{const m=p%12,y=Math.trunc(p/12);return m<3?s.formatDistance("aboutXYears",y,a):m<9?s.formatDistance("overXYears",y,a):s.formatDistance("almostXYears",y+1,a)}}function vq(t,e){return yq(t,h1(t),e)}function DD(t,e){const n=Ee(t),r=Ee(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function p1(t){return ug(t,h1(t))}function xq(t){return ug(t,sY(h1(t),1))}function wq(t,e){const n=+Ee(t),[r,s]=[+Ee(e.start),+Ee(e.end)].sort((i,o)=>i-o);return n>=r&&n<=s}function uu(t,e){const r=Eq(t);let s;if(r.date){const l=Tq(r.date,2);s=Cq(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=Nq(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=Mq(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(i+o+a)}const Mf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bq=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Sq=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kq=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Eq(t){const e={},n=t.split(Mf.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Mf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mf.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Mf.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function Tq(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function Cq(t,e){if(e===null)return new Date(NaN);const n=t.match(bq);if(!n)return new Date(NaN);const r=!!n[4],s=Tc(n[1]),i=Tc(n[2])-1,o=Tc(n[3]),a=Tc(n[4]),l=Tc(n[5])-1;if(r)return Dq(e,a,l)?jq(e,a,l):new Date(NaN);{const c=new Date(0);return!Aq(e,i,o)||!Lq(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,o)),c)}}function Tc(t){return t?parseInt(t):1}function Nq(t){const e=t.match(Sq);if(!e)return NaN;const n=Fy(e[1]),r=Fy(e[2]),s=Fy(e[3]);return Pq(n,r,s)?n*ND+r*CD+s*1e3:NaN}function Fy(t){return t&&parseFloat(t.replace(",","."))||0}function Mq(t){if(t==="Z")return 0;const e=t.match(kq);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Rq(r,s)?n*(r*ND+s*CD):NaN}function jq(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const Oq=[31,null,31,30,31,30,31,31,30,31,30,31];function PD(t){return t%400===0||t%4===0&&t%100!==0}function Aq(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Oq[e]||(PD(t)?29:28))}function Lq(t,e){return e>=1&&e<=(PD(t)?366:365)}function Dq(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Pq(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Rq(t,e){return e>=0&&e<=59}function RD(t,e){return cu(t,-e)}function ID({isOpen:t,onClose:e,onRestoreCard:n,boardId:r}){const[s,i]=g.useState([]),[o,a]=g.useState(!0),[l,c]=g.useState(""),[u,d]=g.useState(r||"all"),[h,p]=g.useState("grid"),[m,y]=g.useState([]),[x,v]=g.useState(!1),[w,b]=g.useState("");Mr();const{boardsList:S,updateBoardsList:k}=Pd();g.useEffect(()=>{t&&(T(),E())},[t,S,r]),g.useEffect(()=>{if(r&&S.length>0){const j=S.find(I=>I.id===r);j&&b(j.title)}},[r,S]);const E=async()=>{try{y(S)}catch(j){console.error("Error processing boards:",j)}},T=async()=>{a(!0);try{const j=[];S.forEach(I=>{r&&I.id!==r||I.columns.forEach(B=>{const se=B.cards.filter(te=>te.archived).map(te=>({...te,column:{id:B.id,title:B.title,board_id:I.id},board:{id:I.id,title:I.title,created_by:I.created_by}}));j.push(...se)})}),i(j),a(!1)}catch(j){console.error("Error processing archived cards:",j),a(!1)}},C=g.useCallback(()=>{if(!s)return[];let j=[...s];if(l){const I=l.toLowerCase();j=j.filter(B=>{var se,te;return((se=B.title)==null?void 0:se.toLowerCase().includes(I))||((te=B.description)==null?void 0:te.toLowerCase().includes(I))})}return!r&&u!=="all"&&(j=j.filter(I=>I.board.id===u)),j},[s,l,u,r]),L=async j=>{try{const{error:I}=await oe.from("cards").update({archived:!1}).eq("id",j.id);if(I)throw I;if(S&&S.length>0){const B=S.map(se=>{if(se.id===j.board.id){const te={...se};return te.columns=se.columns.map($=>{if($.id===j.column.id){const P={...$};return P.cards=$.cards.map(A=>A.id===j.id?{...A,archived:!1}:A),P}return $}),te}return se});k(B)}i(B=>B.filter(se=>se.id!==j.id)),n&&n(j.id,j.column_id,j.position),me.success("Card restored successfully!",{icon:""})}catch(I){console.error("Error restoring card:",I),me.error("Failed to restore card")}},M=async j=>{try{const{error:I}=await oe.from("cards").delete().eq("id",j);if(I)throw I;i(s.filter(B=>B.id!==j)),me.success("Card permanently deleted")}catch(I){console.error("Error deleting card:",I),me.error("Failed to delete card")}},N=j=>{if(!j)return"";const I=j.replace(/<\/?[^>]+>/g,"");return I.length>100?I.substring(0,100)+"...":I};return f.jsx(nt,{appear:!0,show:t,as:g.Fragment,children:f.jsxs(ht,{as:"div",className:"relative z-50",onClose:e,children:[f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-design-black/25 backdrop-blur-sm"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsxs(ht.Panel,{className:"w-full max-w-5xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all border border-gray-100",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Hu,{className:"h-6 w-6 text-design-primaryPurple mr-2"}),f.jsx(ht.Title,{as:"h3",className:"text-xl font-medium text-design-black",children:r?f.jsxs(f.Fragment,{children:[f.jsx(D,{children:w||"Board"})," ",f.jsx(D,{children:"Archived Cards"})]}):f.jsx(D,{children:"All Archived Cards"})})]}),f.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:f.jsx(an,{className:"h-5 w-5 text-design-primaryGrey"})})]}),f.jsxs("div",{className:"mb-6 flex flex-wrap gap-3 items-center",children:[f.jsxs("div",{className:"relative flex-grow max-w-md",children:[f.jsx(Nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-design-primaryGrey"}),f.jsx("input",{type:"text",placeholder:"Search archived cards...",className:"pl-10 pr-4 py-2 w-full border border-design-greyOutlines rounded-lg focus:outline-none focus:ring-2 focus:ring-design-primaryPurple/20 focus:border-design-primaryPurple",value:l,onChange:j=>c(j.target.value)})]}),!r&&f.jsxs("div",{className:"relative",children:[f.jsxs("button",{className:"px-3 py-2 border border-design-greyOutlines rounded-lg flex items-center gap-2 hover:bg-gray-50 transition-colors",onClick:()=>v(!x),children:[f.jsx(q2,{className:"h-4 w-4"}),f.jsx("span",{children:f.jsx(D,{children:"Filter"})})]}),x&&f.jsx("div",{className:"absolute top-full mt-2 left-0 bg-white shadow-lg rounded-lg p-3 border border-gray-100 min-w-[200px] z-10",children:f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{className:"text-sm font-medium text-design-primaryGrey mb-1 block",children:f.jsx(D,{children:"Board"})}),f.jsxs("select",{className:"w-full p-2 border border-design-greyOutlines rounded-md",value:u,onChange:j=>d(j.target.value),children:[f.jsx("option",{value:"all",children:f.jsx(D,{children:"All Boards"})}),m.map(j=>f.jsx("option",{value:j.id,children:j.title},j.id))]})]})})]}),f.jsxs("div",{className:"flex items-center border border-design-greyOutlines rounded-lg overflow-hidden",children:[f.jsx("button",{className:`p-2 ${h==="grid"?"bg-design-primaryPurple text-white":"text-design-primaryGrey hover:bg-gray-50"}`,onClick:()=>p("grid"),children:f.jsx(xz,{className:"h-4 w-4"})}),f.jsx("button",{className:`p-2 ${h==="list"?"bg-design-primaryPurple text-white":"text-design-primaryGrey hover:bg-gray-50"}`,onClick:()=>p("list"),children:f.jsx(K2,{className:"h-4 w-4"})})]}),f.jsx(In,{text:"Refresh",position:"top",children:f.jsx("button",{onClick:T,className:"p-2 border border-design-greyOutlines rounded-lg text-design-primaryGrey hover:bg-gray-50 transition-colors",children:f.jsx(Mz,{className:"h-4 w-4"})})})]}),o?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(j=>f.jsx("div",{className:"border border-gray-200 rounded-lg p-4 h-48",children:f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),f.jsx("div",{className:"h-12 bg-gray-200 rounded w-full mb-3"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded"}),f.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded"})]})]})},j))}):C().length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-design-primaryGrey",children:[f.jsx(Hu,{className:"h-16 w-16 mb-4 opacity-30"}),f.jsx("p",{className:"text-lg",children:f.jsx(D,{children:"No archived cards found"})}),f.jsx("p",{className:"text-sm mt-1",children:f.jsx(D,{children:"Archive cards from your boards to see them here"})})]}):h==="grid"?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[600px] overflow-y-auto p-1",children:C().map(j=>{var I,B;return f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow group relative",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsxs("span",{className:"text-xs text-design-primaryGrey",children:[(I=j.board)==null?void 0:I.title,"  ",(B=j.column)==null?void 0:B.title]}),f.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${j.priority==="high"?"bg-semantic-error-light text-semantic-error":j.priority==="medium"?"bg-semantic-warning-light text-semantic-warning":"bg-semantic-success-light text-semantic-success"}`,children:f.jsx(D,{children:j.priority})})]}),f.jsx("h3",{className:`text-base font-medium text-design-black mb-2 ${j.completed?"line-through opacity-60":""}`,children:j.title}),j.description&&f.jsx("p",{className:`text-sm text-design-primaryGrey mb-3 ${j.completed?"line-through opacity-60":""}`,children:N(j.description)}),f.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[f.jsxs("div",{className:"flex items-center text-xs text-design-primaryGrey",children:[f.jsx(Ed,{className:"h-3 w-3 mr-1"}),j.updated_at&&Xn(new Date(j.updated_at),"MMM d, yyyy")]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>L(j),className:"p-1.5 text-xs rounded-lg bg-semantic-success/10 text-semantic-success hover:bg-semantic-success/20 transition-colors",children:f.jsx(D,{children:"Restore"})}),f.jsx("button",{onClick:()=>M(j.id),className:"p-1.5 text-xs rounded-lg bg-semantic-error/10 text-semantic-error hover:bg-semantic-error/20 transition-colors",children:f.jsx(D,{children:"Delete"})})]})]}),j.completed&&f.jsx("span",{className:"absolute top-2 right-2 text-semantic-success",children:f.jsx(Wu,{className:"h-4 w-4"})})]},j.id)})}):f.jsx("div",{className:"overflow-x-auto max-h-[600px]",children:f.jsxs("table",{className:"min-w-full border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Title"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Board / Column"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Priority"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Archived Date"})}),f.jsx("th",{className:"text-right p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Actions"})})]})}),f.jsx("tbody",{children:C().map(j=>{var I,B;return f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsxs("td",{className:"p-3 text-sm",children:[f.jsx("div",{className:"font-medium text-design-black",children:j.title}),j.description&&f.jsx("div",{className:"text-xs text-design-primaryGrey mt-1",children:N(j.description)})]}),f.jsxs("td",{className:"p-3 text-sm",children:[f.jsx("div",{children:(I=j.board)==null?void 0:I.title}),f.jsx("div",{className:"text-xs text-design-primaryGrey",children:(B=j.column)==null?void 0:B.title})]}),f.jsx("td",{className:"p-3 text-sm",children:f.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${j.priority==="high"?"bg-semantic-error-light text-semantic-error":j.priority==="medium"?"bg-semantic-warning-light text-semantic-warning":"bg-semantic-success-light text-semantic-success"}`,children:f.jsx(D,{children:j.priority})})}),f.jsx("td",{className:"p-3 text-sm text-design-primaryGrey",children:j.updated_at&&Xn(new Date(j.updated_at),"MMM d, yyyy")}),f.jsx("td",{className:"p-3 text-sm text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>L(j),className:"p-1.5 text-xs rounded-lg bg-semantic-success/10 text-semantic-success hover:bg-semantic-success/20 transition-colors",children:f.jsx(D,{children:"Restore"})}),f.jsx("button",{onClick:()=>M(j.id),className:"p-1.5 text-xs rounded-lg bg-semantic-error/10 text-semantic-error hover:bg-semantic-error/20 transition-colors",children:f.jsx(D,{children:"Delete"})})]})})]},j.id)})})]})})]})})})})]})})}const Iq="/assets/socialhub_wb_n_white_RGB%201-DXLfIPXn.png",_D="/assets/SocialHub-CZYolMQ0.png",xx=_.memo(({title:t,boards:e,searchValue:n,onSearchChange:r,icon:s})=>{const i=ws(),a=oo().pathname.split("/").pop();return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-design-primaryGrey",children:[f.jsx(s,{className:"h-4 w-4"}),f.jsx(D,{children:t})]}),f.jsx("div",{className:"px-3",children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:`${t==="My Boards"?"Search my boards...":"Search shared boards..."}`,value:n,onChange:l=>r(l.target.value),className:"w-full px-4 py-1.5 pl-8 text-sm bg-design-greyBG dark:bg-design-black border border-design-greyOutlines dark:border-design-greyOutlines/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-design-primaryPurple focus:border-transparent transition-all"}),f.jsx(Nd,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-3.5 w-3.5 text-design-primaryGrey"})]})}),f.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto scrollbar-hide",children:e.length>0?e.map(l=>f.jsx(J.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:`flex items-center w-[90%] px-3 py-1.5 text-sm break-all text-left rounded-lg transition-all duration-200 ml-3 ${a===l.id?"bg-design-primaryPurple text-white":"text-design-primaryGrey hover:bg-design-primaryPurple/10 hover:text-design-primaryPurple"}`,onClick:()=>i(`/ideation/${l.id}`),children:l.title},l.id)):f.jsx("p",{className:"text-sm text-design-primaryGrey dark:text-design-greyOutlines px-3 py-2",children:f.jsx(D,{children:"No boards found"})})})]})});xx.displayName="BoardSection";function _q(){const{isExpanded:t,toggleSidebar:e}=Jb(),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(!1),{currentUser:l,authUser:c}=Mr(),{boardsList:u,isLoading:d,updateBoardsList:h}=Pd();ws();const[p,m]=g.useState(!1),[y,x]=g.useState(!1),v=[{name:"Home",path:"/home",icon:pz},{name:"Ideation",path:"/ideation",icon:wz},{name:"Archived Cards",icon:Hu,onClick:()=>x(!0),isAction:!0}],w={open:{width:"85vw",x:0,transition:{type:"tween",duration:.3,ease:"easeInOut"}},closed:{width:"16rem",x:"-100%",transition:{type:"tween",duration:.3,ease:"easeInOut"}},desktopClosed:{width:"4.5rem",x:0,transition:{type:"tween",duration:.3,ease:"easeInOut"}},desktopOpen:{width:"16rem",x:0,transition:{type:"tween",duration:.3,ease:"easeInOut"}}},b=u.filter(C=>C.created_by===c.id),S=u.filter(C=>C.created_by!==c.id),k=_.useMemo(()=>b.filter(C=>{var L;return(L=C==null?void 0:C.title)==null?void 0:L.toLowerCase().includes(n.toLowerCase())}),[b,n]),E=_.useMemo(()=>S.filter(C=>{var L;return(L=C==null?void 0:C.title)==null?void 0:L.toLowerCase().includes(s.toLowerCase())}),[S,s]),T=()=>{e(),a(!0)};return f.jsxs(f.Fragment,{children:[f.jsx(yt,{children:t&&f.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e})}),f.jsx(J.aside,{className:"fixed left-0 top-0 h-screen bg-white dark:bg-gray-900 border-r border-gray-200 z-50 md:z-40 max-w-[16rem]",initial:"closed",animate:t?window.innerWidth>=768?"desktopOpen":"open":window.innerWidth>=768?"desktopClosed":"closed",variants:w,children:f.jsxs("div",{className:"flex flex-col h-full relative",children:[f.jsx("button",{onClick:e,className:`absolute -right-3 top-6 bg-design-primaryPurple hover:bg-design-primaryPurple/90 rounded-full p-1.5 shadow-lg shadow-design-primaryPurple/20 transition-all duration-300 
              ${t?"":"md:block hidden"}`,children:t?f.jsx(ab,{className:"h-4 w-4 text-white"}):f.jsx(lb,{className:"h-4 w-4 text-white"})}),f.jsx("div",{className:"p-4 mb-2",children:f.jsx(yt,{children:t?f.jsx(J.h1,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-xl font-bold text-design-primaryPurple tracking-tight",children:f.jsx("img",{src:Iq,alt:"",className:"h-18 w-18"})}):f.jsx(J.h1,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-xl font-bold text-design-primaryPurple",children:f.jsx("img",{src:_D,alt:"",className:"h-10 w-10"})})})}),f.jsxs("nav",{className:"flex-1 px-3 space-y-2",children:[v.map(C=>{const L=C.icon;return f.jsx(In,{text:t?void 0:C.name,position:"right",children:C.isAction?f.jsxs("button",{onClick:C.onClick,className:`flex items-center px-3 py-2.5 rounded-xl transition-all duration-300 group w-full
                      text-design-primaryGrey hover:bg-design-primaryPurple/10 hover:text-design-primaryPurple`,children:[f.jsx(L,{className:"h-[18px] w-[18px] flex-shrink-0"}),f.jsx(yt,{children:t&&f.jsx(J.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"ml-3 font-medium overflow-hidden whitespace-nowrap text-sm",children:f.jsx(D,{children:C.name})})})]}):f.jsxs(G3,{to:C.path,className:({isActive:M})=>`flex items-center px-3 py-2.5 rounded-xl transition-all duration-300 group ${M?"bg-design-primaryPurple text-white shadow-lg shadow-design-primaryPurple/20":"text-design-primaryGrey hover:bg-design-primaryPurple/10 hover:text-design-primaryPurple"}`,children:[f.jsx(L,{className:"h-[18px] w-[18px] flex-shrink-0"}),f.jsx(yt,{children:t&&f.jsx(J.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"ml-3 font-medium overflow-hidden whitespace-nowrap text-sm",children:f.jsx(D,{children:C.name})})})]})},C.name)}),f.jsxs("div",{className:"mt-6",children:[f.jsx(In,{text:t?void 0:"Boards",position:"right",children:f.jsxs("button",{onClick:()=>{t?a(!o):T()},className:"flex items-center justify-between w-full px-3 py-2.5 text-design-primaryGrey hover:bg-design-primaryPurple/10 hover:text-design-primaryPurple rounded-xl transition-all duration-300",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(vz,{className:"h-[18px] w-[18px] flex-shrink-0"}),f.jsx(yt,{children:t&&f.jsx(J.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"ml-3 font-medium text-sm",children:f.jsx(D,{children:"Boards"})})})]}),t&&f.jsx(ba,{className:`h-4 w-4 transition-transform duration-300 ${o?"rotate-180":""}`})]})}),f.jsx(yt,{children:o&&t&&f.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-2 space-y-4",children:[f.jsx(xx,{title:"My Boards",boards:k,searchValue:n,onSearchChange:r,icon:Az}),f.jsx(xx,{title:"Shared Boards",boards:E,searchValue:s,onSearchChange:i,icon:Cl})]})})]})]}),f.jsxs("div",{className:"p-3 mt-auto space-y-2",children:[f.jsxs(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!0),className:`flex items-center ${t?"justify-start":"justify-center"} gap-3 w-full p-2 rounded-xl hover:bg-design-primaryPurple/10 text-design-primaryGrey hover:text-design-primaryPurple transition-colors`,children:[f.jsx(jz,{className:"h-[18px] w-[18px]"}),f.jsx(yt,{children:t&&f.jsx(J.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"text-sm font-medium",children:f.jsx(D,{children:"Settings"})})})]}),f.jsxs(J.div,{className:`flex items-center ${t?"justify-start":"justify-center"} gap-3 p-2 rounded-xl bg-design-greyBG/50 backdrop-blur-sm`,whileHover:{scale:1.02},transition:{duration:.2},children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-design-primaryPurple/20 flex items-center justify-center flex-shrink-0",children:l.avatarUrl?f.jsx("img",{src:l.avatarUrl,alt:l.firstName,className:"w-8 h-8 rounded-lg object-cover"}):f.jsx("span",{className:"text-lg font-semibold text-design-primaryPurple",children:l.firstName?l.firstName[0]:"U"})}),t&&f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"font-medium text-sm truncate text-design-black dark:text-white",children:[l==null?void 0:l.firstName," ",l==null?void 0:l.lastName]}),f.jsx("p",{className:"text-xs text-design-primaryGrey truncate",children:(l==null?void 0:l.email)||"user@example.com"})]})]})]})]})}),f.jsx(rY,{isOpen:p,onClose:()=>m(!1),user:l,userId:c==null?void 0:c.id}),f.jsx(ID,{isOpen:y,onClose:()=>x(!1)})]})}const $q={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADDON_NAME:"idea-board-mubashir",VITE_BACKEND_BASE_URL:"http://localhost:5000",VITE_ENVIORNMENT:"production",VITE_GOOGLE_TRANSLATE_API_KEY:"YOUR_GOOGLE_TRANSLATE_API_KEY",VITE_SOCIALHUB_API_URL:"https://app.socialhub.io",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12bWZ3a2lnZG53aXV5c2psc2duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA0OTA2ODcsImV4cCI6MjA1NjA2NjY4N30.jk3JQhfXS0W7vZI4icnWLWY3T4horTc37WM5J-jisLM",VITE_SUPABASE_URL:"https://mvmfwkigdnwiuysjlsgn.supabase.co"},XT=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{($q?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},Fq=t=>t?XT(t):XT;var $D={exports:{}},FD={},zD={exports:{}},BD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=g;function zq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bq=typeof Object.is=="function"?Object.is:zq,Uq=Pl.useState,Vq=Pl.useEffect,Hq=Pl.useLayoutEffect,Wq=Pl.useDebugValue;function Gq(t,e){var n=e(),r=Uq({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Hq(function(){s.value=n,s.getSnapshot=e,zy(s)&&i({inst:s})},[t,n,e]),Vq(function(){return zy(s)&&i({inst:s}),t(function(){zy(s)&&i({inst:s})})},[t]),Wq(n),n}function zy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bq(t,n)}catch{return!0}}function Yq(t,e){return e()}var qq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yq:Gq;BD.useSyncExternalStore=Pl.useSyncExternalStore!==void 0?Pl.useSyncExternalStore:qq;zD.exports=BD;var Kq=zD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=g,Jq=Kq;function Qq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xq=typeof Object.is=="function"?Object.is:Qq,Zq=Jq.useSyncExternalStore,eK=dg.useRef,tK=dg.useEffect,nK=dg.useMemo,rK=dg.useDebugValue;FD.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=eK(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=nK(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return d=m}return d=p}if(m=d,Xq(u,p))return m;var y=r(p);return s!==void 0&&s(m,y)?m:(u=p,d=y)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,s]);var a=Zq(t,i[0],i[1]);return tK(function(){o.hasValue=!0,o.value=a},[a]),rK(a),a};$D.exports=FD;var sK=$D.exports;const iK=nw(sK),UD={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADDON_NAME:"idea-board-mubashir",VITE_BACKEND_BASE_URL:"http://localhost:5000",VITE_ENVIORNMENT:"production",VITE_GOOGLE_TRANSLATE_API_KEY:"YOUR_GOOGLE_TRANSLATE_API_KEY",VITE_SOCIALHUB_API_URL:"https://app.socialhub.io",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12bWZ3a2lnZG53aXV5c2psc2duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA0OTA2ODcsImV4cCI6MjA1NjA2NjY4N30.jk3JQhfXS0W7vZI4icnWLWY3T4horTc37WM5J-jisLM",VITE_SUPABASE_URL:"https://mvmfwkigdnwiuysjlsgn.supabase.co"},{useDebugValue:oK}=_,{useSyncExternalStoreWithSelector:aK}=iK;let ZT=!1;const lK=t=>t;function cK(t,e=lK,n){(UD?"production":void 0)!=="production"&&n&&!ZT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ZT=!0);const r=aK(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return oK(r),r}const eC=t=>{(UD?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Fq(t):t,n=(r,s)=>cK(e,r,s);return Object.assign(n,e),n},VD=t=>t?eC(t):eC,hh=VD(t=>({notifications:[],unreadCount:0,addNotification:e=>t(n=>({notifications:[e,...n.notifications],unreadCount:e.read?n.unreadCount:n.unreadCount+1})),markAsRead:e=>t(n=>({notifications:n.notifications.map(r=>r.id===e?{...r,read:!0}:r),unreadCount:n.unreadCount-1})),markAllAsRead:()=>t(e=>({notifications:e.notifications.map(n=>({...n,read:!0})),unreadCount:0}))}));async function uK(){const{data:t,error:e}=await oe.from("notifications").select("*").order("created_at",{ascending:!0});if(e)throw e;return t}async function dK(t){const{data:e,error:n}=await oe.from("notifications").update({read:!0}).eq("id",t).select().single();if(n)throw n;return wa(e)}async function fK(t){const{data:e,error:n}=await oe.from("notifications").update({read:!0}).eq("user_id",t).select();if(n)throw n;return e}function hK(){const{addNotification:t}=hh(),{currentUser:e}=Mr();return g.useEffect(()=>{if(!(e!=null&&e.userId))return;(async()=>{try{(await uK()).forEach(a=>t(a))}catch(o){console.error("Error loading notifications:",o)}})();const i=oe.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.userId}`},o=>{console.log("Notification event:",o),o.eventType==="INSERT"&&t(o.new)}).subscribe();return()=>{oe.removeChannel(i)}},[e,t]),{markAsRead:async s=>{try{await dK(s),hh.getState().markAsRead(s)}catch(i){console.error("Error marking notification as read:",i)}},markAllAsRead:async()=>{if(e.userId)try{await fK(e.userId),hh.getState().markAllAsRead()}catch(s){console.error("Error marking all notifications as read:",s)}}}}const pK=()=>{const[t,e]=g.useState({width:window.innerWidth,height:window.innerHeight});return g.useEffect(()=>{const n=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t},mK=t=>{switch(t){case"success":return f.jsx(rz,{className:"w-4 h-4 text-semantic-success"});case"error":return f.jsx(Tl,{className:"w-4 h-4 text-semantic-error"});case"warning":return f.jsx(Tl,{className:"w-4 h-4 text-semantic-warning"});default:return f.jsx(gz,{className:"w-4 h-4 text-primary"})}};function gK(){const[t,e]=_.useState(!1),{notifications:n,unreadCount:r}=hh(),{markAsRead:s,markAllAsRead:i}=hK(),o=g.useRef(null),a=ws(),{width:l}=pK();g.useEffect(()=>{const u=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const c=u=>{u.read||s(u.id),u.board_id&&(a(`/ideation/${u.board_id}`),e(!1))};return f.jsxs("div",{className:"relative",ref:o,children:[f.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"relative p-2.5 text-design-primaryGrey hover:text-button-primary-cta transition-all duration-200 rounded-full hover:bg-button-tertiary-fill","aria-label":"Notifications",children:[f.jsx(G2,{className:"h-[18px] w-[18px]"}),f.jsx(yt,{children:r>0&&f.jsx(J.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"absolute -top-0.5 -right-0.5 flex items-center justify-center min-w-[18px] h-[18px] text-xs font-semibold text-white bg-semantic-error px-1.5 rounded-full",children:r})})]}),f.jsx(yt,{children:t&&f.jsxs(J.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:`
              fixed sm:absolute
              ${l<640?"inset-x-4 top-20":"right-0 top-full mt-2"}
              bg-white rounded-xl shadow-lg ring-1 ring-black/5 z-[100]
              max-h-[80vh] flex flex-col overflow-hidden backdrop-blur-sm
              ${l<640?"w-auto":"w-96"}
            `,children:[f.jsx("div",{className:"p-4 bg-design-greyBG/50 border-b border-design-greyOutlines",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-design-black",children:f.jsx(D,{children:"Notifications"})}),r>0&&f.jsxs("span",{className:"text-xs font-medium text-design-primaryGrey bg-white px-2 py-1 rounded-full",children:[r," ",f.jsx(D,{children:"new"})]})]}),r>0&&f.jsxs(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"text-sm font-medium text-button-primary-cta hover:text-button-primary-hover transition-colors px-3 py-1.5 rounded-full hover:bg-button-tertiary-fill flex items-center gap-1.5",children:[f.jsx(ob,{className:"w-4 h-4"}),f.jsx(D,{children:"Mark all read"})]})]})}),f.jsx(J.div,{className:"overflow-y-auto flex-1 max-h-[60vh] scrollbar-thin",initial:{opacity:0},animate:{opacity:1},children:n.length===0?f.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-8 text-center text-gray-500 flex flex-col items-center",children:[f.jsx(Wk,{className:"h-12 w-12 text-design-primaryGrey mb-3"}),f.jsx("p",{className:"text-design-primaryGrey font-medium",children:f.jsx(D,{children:"No notifications yet"})}),f.jsx("p",{className:"text-sm text-design-primaryGrey/70 mt-1",children:f.jsx(D,{children:"We'll notify you when something arrives"})})]}):f.jsx("div",{className:"divide-y divide-design-greyOutlines",children:n.map(u=>f.jsx(J.div,{whileHover:{backgroundColor:"rgba(240, 238, 255, 0.5)"},onClick:()=>c(u),className:`p-4 cursor-pointer transition-all duration-200 ${u.read?"":"bg-button-tertiary-fill"}`,children:f.jsxs("div",{className:"flex items-start gap-3",children:[mK(u.type),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:`text-sm ${u.read?"text-design-primaryGrey":"text-design-black font-medium"}`,children:u.content}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx("p",{className:"text-xs text-design-primaryGrey",children:Xn(new Date(u.created_at),"MMM d, HH:mm")}),u.read?f.jsx(Wk,{className:"w-3 h-3 text-design-primaryGrey"}):f.jsx(Q2,{className:"w-3 h-3 text-button-primary-cta"})]})]}),!u.read&&f.jsx(J.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 rounded-full bg-button-primary-cta shrink-0 mt-2"})]})},u.id))})})]})})]})}function yK(){ws();const{isExpanded:t,toggleSidebar:e,isMobile:n}=Jb(),r=()=>{window.location.href="https://socialhub.io/"};return f.jsx(J.div,{className:"fixed top-0 h-12 bg-white/80 backdrop-blur-sm border-b border-gray-200 z-30 shadow-sm",initial:{left:0,right:0},animate:{left:!n&&t?"16rem":n?"0":"4.5rem",right:0,transition:{type:"tween",duration:.3,ease:"easeInOut"}},children:f.jsxs("div",{className:"h-full px-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:e,className:"md:hidden p-2 hover:bg-gray-100 rounded-lg",children:f.jsx(Ez,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-xl font-bold text-primary",children:"Ideation Board"})]}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[f.jsx(gK,{}),f.jsxs("button",{onClick:r,className:"btn-primary p-2 sm:px-4",title:"Go to Social Hub",children:[f.jsx(J2,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline ml-2",children:"Social Hub"})]})]})]})})}function vK({children:t}){const{isExpanded:e}=Jb();return f.jsx("div",{className:`min-h-screen transition-all duration-300 ease-in-out ${e?"md:ml-64":"md:ml-[4.5rem]"}`,children:f.jsx("main",{className:"p-6 animate-in fade-in-50",children:t})})}function xK({children:t}){const{currentUser:e}=Mr(),{loadInitialBoards:n}=Pd();return g.useEffect(()=>{e!=null&&e.accountId&&n(e.accountId)},[e==null?void 0:e.accountId]),f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-light to-white",children:[f.jsx(_q,{}),f.jsx(yK,{}),f.jsx(vK,{children:t})]})}function wK(){const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),[o,a]=g.useState(null),l=ws(),{login:c,isAuthenticated:u}=Mr();g.useEffect(()=>{u&&l("/ideation")},[u,l]);const d=async h=>{h.preventDefault(),i(!0),a(null);try{await c(t,n)?(me.success("Login successful!"),l("/ideation")):(a("Invalid credentials"),me.error("Invalid credentials"))}catch(p){const m=p instanceof Error?p.message:"An error occurred during login";a(m),me.error(m)}finally{i(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[f.jsx("div",{className:"text-center",children:f.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to SocialHub"})}),o&&f.jsx("div",{className:"rounded-md bg-red-50 p-4",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Tl,{className:"h-5 w-5 text-red-400"})}),f.jsx("div",{className:"ml-3",children:f.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[f.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"SocialHub Username"}),f.jsx("input",{id:"email",name:"email",type:"text",autoComplete:"username",required:!0,value:t,onChange:h=>e(h.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"SocialHub username"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:h=>r(h.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Password"})]})]}),f.jsxs("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[f.jsx(kz,{className:`h-5 w-5 mr-2 ${s?"animate-spin":""}`}),s?"Signing in...":"Sign in"]})]})]})})}function bK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const fg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function m1(t){return"nodeType"in t}function Nn(t){var e,n;return t?sc(t)?t:m1(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function g1(t){const{Document:e}=Nn(t);return t instanceof e}function Ud(t){return sc(t)?!1:t instanceof Nn(t).HTMLElement}function HD(t){return t instanceof Nn(t).SVGElement}function ic(t){return t?sc(t)?t.document:m1(t)?g1(t)?t:Ud(t)||HD(t)?t.ownerDocument:document:document:document}const Yr=fg?g.useLayoutEffect:g.useEffect;function hg(t){const e=g.useRef(t);return Yr(()=>{e.current=t}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function SK(){const t=g.useRef(null),e=g.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=g.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function rd(t,e){e===void 0&&(e=[t]);const n=g.useRef(t);return Yr(()=>{n.current!==t&&(n.current=t)},e),n}function Vd(t,e){const n=g.useRef();return g.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function xp(t){const e=hg(t),n=g.useRef(null),r=g.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function wp(t){const e=g.useRef();return g.useEffect(()=>{e.current=t},[t]),e.current}let By={};function Hd(t,e){return g.useMemo(()=>{if(e)return e;const n=By[t]==null?0:By[t]+1;return By[t]=n,t+"-"+n},[t,e])}function WD(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+t*c)}return i},{...e})}}const ul=WD(1),bp=WD(-1);function kK(t){return"clientX"in t&&"clientY"in t}function pg(t){if(!t)return!1;const{KeyboardEvent:e}=Nn(t.target);return e&&t instanceof e}function EK(t){if(!t)return!1;const{TouchEvent:e}=Nn(t.target);return e&&t instanceof e}function Sp(t){if(EK(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return kK(t)?{x:t.clientX,y:t.clientY}:null}const to=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[to.Translate.toString(t),to.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),tC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function TK(t){return t.matches(tC)?t:t.querySelector(tC)}const CK={display:"none"};function NK(t){let{id:e,value:n}=t;return _.createElement("div",{id:e,style:CK},n)}function MK(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function jK(){const[t,e]=g.useState("");return{announce:g.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const GD=g.createContext(null);function OK(t){const e=g.useContext(GD);g.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function AK(){const[t]=g.useState(()=>new Set),e=g.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[g.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const LK={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},DK={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function PK(t){let{announcements:e=DK,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=LK}=t;const{announce:i,announcement:o}=jK(),a=Hd("DndLiveRegion"),[l,c]=g.useState(!1);if(g.useEffect(()=>{c(!0)},[]),OK(g.useMemo(()=>({onDragStart(d){let{active:h}=d;i(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:p}=d;e.onDragMove&&i(e.onDragMove({active:h,over:p}))},onDragOver(d){let{active:h,over:p}=d;i(e.onDragOver({active:h,over:p}))},onDragEnd(d){let{active:h,over:p}=d;i(e.onDragEnd({active:h,over:p}))},onDragCancel(d){let{active:h,over:p}=d;i(e.onDragCancel({active:h,over:p}))}}),[i,e])),!l)return null;const u=_.createElement(_.Fragment,null,_.createElement(NK,{id:r,value:s.draggable}),_.createElement(MK,{id:a,announcement:o}));return n?xt.createPortal(u,n):u}var Et;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Et||(Et={}));function kp(){}function RK(t,e){return g.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function IK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const qr=Object.freeze({x:0,y:0});function _K(t,e){const n=Sp(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function $K(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function FK(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function zK(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,c=t.width*t.height,u=o*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const BK=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=zK(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort($K)};function UK(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function YD(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:qr}function VK(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const HK=VK(1);function qD(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function WK(t,e,n){const r=qD(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),c=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=s?t.width/s:t.width,d=i?t.height/i:t.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const GK={ignoreTransform:!1};function oc(t,e){e===void 0&&(e=GK);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=Nn(t).getComputedStyle(t);c&&(n=WK(n,c,u))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function nC(t){return oc(t,{ignoreTransform:!0})}function YK(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function qK(t,e){return e===void 0&&(e=Nn(t).getComputedStyle(t)),e.position==="fixed"}function KK(t,e){e===void 0&&(e=Nn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function y1(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(g1(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ud(s)||HD(s)||n.includes(s))return n;const i=Nn(t).getComputedStyle(s);return s!==t&&KK(s,i)&&n.push(s),qK(s,i)?n:r(s.parentNode)}return t?r(t):n}function KD(t){const[e]=y1(t,1);return e??null}function Uy(t){return!fg||!t?null:sc(t)?t:m1(t)?g1(t)||t===ic(t).scrollingElement?window:Ud(t)?t:null:null}function JD(t){return sc(t)?t.scrollX:t.scrollLeft}function QD(t){return sc(t)?t.scrollY:t.scrollTop}function wx(t){return{x:JD(t),y:QD(t)}}var Ot;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ot||(Ot={}));function XD(t){return!fg||!t?!1:t===document.scrollingElement}function ZD(t){const e={x:0,y:0},n=XD(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const JK={x:.2,y:.2};function QK(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=JK);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=ZD(t),p={x:0,y:0},m={x:0,y:0},y={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+y.height?(p.y=Ot.Backward,m.y=r*Math.abs((e.top+y.height-i)/y.height)):!u&&l>=e.bottom-y.height&&(p.y=Ot.Forward,m.y=r*Math.abs((e.bottom-y.height-l)/y.height)),!h&&a>=e.right-y.width?(p.x=Ot.Forward,m.x=r*Math.abs((e.right-y.width-a)/y.width)):!d&&o<=e.left+y.width&&(p.x=Ot.Backward,m.x=r*Math.abs((e.left+y.width-o)/y.width)),{direction:p,speed:m}}function XK(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function eP(t){return t.reduce((e,n)=>ul(e,wx(n)),qr)}function ZK(t){return t.reduce((e,n)=>e+JD(n),0)}function eJ(t){return t.reduce((e,n)=>e+QD(n),0)}function tP(t,e){if(e===void 0&&(e=oc),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);KD(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const tJ=[["x",["left","right"],ZK],["y",["top","bottom"],eJ]];class v1{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=y1(n),s=eP(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of tJ)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=s[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class du{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function nJ(t){const{EventTarget:e}=Nn(t);return t instanceof e?t:ic(t)}function Vy(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var hr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(hr||(hr={}));function rC(t){t.preventDefault()}function rJ(t){t.stopPropagation()}var Ie;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(Ie||(Ie={}));const nP={start:[Ie.Space,Ie.Enter],cancel:[Ie.Esc],end:[Ie.Space,Ie.Enter]},sJ=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ie.Right:return{...n,x:n.x+25};case Ie.Left:return{...n,x:n.x-25};case Ie.Down:return{...n,y:n.y+25};case Ie.Up:return{...n,y:n.y-25}}};class rP{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new du(ic(n)),this.windowListeners=new du(Nn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hr.Resize,this.handleCancel),this.windowListeners.add(hr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&tP(r),n(qr)}handleKeyDown(e){if(pg(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=nP,coordinateGetter:o=sJ,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:qr;this.referenceCoordinates||(this.referenceCoordinates=u);const d=o(e,{active:n,context:r.current,currentCoordinates:u});if(d){const h=bp(d,u),p={x:0,y:0},{scrollableAncestors:m}=r.current;for(const y of m){const x=e.code,{isTop:v,isRight:w,isLeft:b,isBottom:S,maxScroll:k,minScroll:E}=ZD(y),T=XK(y),C={x:Math.min(x===Ie.Right?T.right-T.width/2:T.right,Math.max(x===Ie.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(x===Ie.Down?T.bottom-T.height/2:T.bottom,Math.max(x===Ie.Down?T.top:T.top+T.height/2,d.y))},L=x===Ie.Right&&!w||x===Ie.Left&&!b,M=x===Ie.Down&&!S||x===Ie.Up&&!v;if(L&&C.x!==d.x){const N=y.scrollLeft+h.x,j=x===Ie.Right&&N<=k.x||x===Ie.Left&&N>=E.x;if(j&&!h.y){y.scrollTo({left:N,behavior:a});return}j?p.x=y.scrollLeft-N:p.x=x===Ie.Right?y.scrollLeft-k.x:y.scrollLeft-E.x,p.x&&y.scrollBy({left:-p.x,behavior:a});break}else if(M&&C.y!==d.y){const N=y.scrollTop+h.y,j=x===Ie.Down&&N<=k.y||x===Ie.Up&&N>=E.y;if(j&&!h.x){y.scrollTo({top:N,behavior:a});return}j?p.y=y.scrollTop-N:p.y=x===Ie.Down?y.scrollTop-k.y:y.scrollTop-E.y,p.y&&y.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,ul(bp(d,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}rP.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=nP,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function sC(t){return!!(t&&"distance"in t)}function iC(t){return!!(t&&"delay"in t)}class x1{constructor(e,n,r){var s;r===void 0&&(r=nJ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=ic(o),this.documentListeners=new du(this.document),this.listeners=new du(r),this.windowListeners=new du(Nn(o)),this.initialCoordinates=(s=Sp(i))!=null?s:qr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(hr.Resize,this.handleCancel),this.windowListeners.add(hr.DragStart,rC),this.windowListeners.add(hr.VisibilityChange,this.handleCancel),this.windowListeners.add(hr.ContextMenu,rC),this.documentListeners.add(hr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iC(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(sC(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(hr.Click,rJ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=Sp(e))!=null?n:qr,c=bp(s,l);if(!r&&a){if(sC(a)){if(a.tolerance!=null&&Vy(c,a.tolerance))return this.handleCancel();if(Vy(c,a.distance))return this.handleStart()}return iC(a)&&Vy(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Ie.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const iJ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class w1 extends x1{constructor(e){const{event:n}=e,r=ic(n.target);super(e,iJ,r)}}w1.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const oJ={move:{name:"mousemove"},end:{name:"mouseup"}};var bx;(function(t){t[t.RightClick=2]="RightClick"})(bx||(bx={}));class aJ extends x1{constructor(e){super(e,oJ,ic(e.event.target))}}aJ.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===bx.RightClick?!1:(r==null||r({event:n}),!0)}}];const Hy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lJ extends x1{constructor(e){super(e,Hy)}static setup(){return window.addEventListener(Hy.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Hy.move.name,e)};function e(){}}}lJ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var fu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(fu||(fu={}));var Ep;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ep||(Ep={}));function cJ(t){let{acceleration:e,activator:n=fu.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Ep.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:h}=t;const p=dJ({delta:d,disabled:!i}),[m,y]=SK(),x=g.useRef({x:0,y:0}),v=g.useRef({x:0,y:0}),w=g.useMemo(()=>{switch(n){case fu.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case fu.DraggableRect:return s}},[n,s,l]),b=g.useRef(null),S=g.useCallback(()=>{const E=b.current;if(!E)return;const T=x.current.x*v.current.x,C=x.current.y*v.current.y;E.scrollBy(T,C)},[]),k=g.useMemo(()=>a===Ep.TreeOrder?[...c].reverse():c,[a,c]);g.useEffect(()=>{if(!i||!c.length||!w){y();return}for(const E of k){if((r==null?void 0:r(E))===!1)continue;const T=c.indexOf(E),C=u[T];if(!C)continue;const{direction:L,speed:M}=QK(E,C,w,e,h);for(const N of["x","y"])p[N][L[N]]||(M[N]=0,L[N]=0);if(M.x>0||M.y>0){y(),b.current=E,m(S,o),x.current=M,v.current=L;return}}x.current={x:0,y:0},v.current={x:0,y:0},y()},[e,S,r,y,i,o,JSON.stringify(w),JSON.stringify(p),m,c,k,u,JSON.stringify(h)])}const uJ={x:{[Ot.Backward]:!1,[Ot.Forward]:!1},y:{[Ot.Backward]:!1,[Ot.Forward]:!1}};function dJ(t){let{delta:e,disabled:n}=t;const r=wp(e);return Vd(s=>{if(n||!r||!s)return uJ;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Ot.Backward]:s.x[Ot.Backward]||i.x===-1,[Ot.Forward]:s.x[Ot.Forward]||i.x===1},y:{[Ot.Backward]:s.y[Ot.Backward]||i.y===-1,[Ot.Forward]:s.y[Ot.Forward]||i.y===1}}},[n,e,r])}function fJ(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Vd(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function hJ(t,e){return g.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var sd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sd||(sd={}));var Sx;(function(t){t.Optimized="optimized"})(Sx||(Sx={}));const oC=new Map;function pJ(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=g.useState(null),{frequency:a,measure:l,strategy:c}=s,u=g.useRef(t),d=x(),h=rd(d),p=g.useCallback(function(v){v===void 0&&(v=[]),!h.current&&o(w=>w===null?v:w.concat(v.filter(b=>!w.includes(b))))},[h]),m=g.useRef(null),y=Vd(v=>{if(d&&!n)return oC;if(!v||v===oC||u.current!==t||i!=null){const w=new Map;for(let b of t){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const S=b.node.current,k=S?new v1(l(S),S):null;b.rect.current=k,k&&w.set(b.id,k)}return w}return v},[t,i,n,d,l]);return g.useEffect(()=>{u.current=t},[t]),g.useEffect(()=>{d||p()},[n,d]),g.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),g.useEffect(()=>{d||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},a))},[a,d,p,...r]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:i!=null};function x(){switch(c){case sd.Always:return!1;case sd.BeforeDragging:return n;default:return!n}}}function b1(t,e){return Vd(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function mJ(t,e){return b1(t,e)}function gJ(t){let{callback:e,disabled:n}=t;const r=hg(e),s=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return g.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function mg(t){let{callback:e,disabled:n}=t;const r=hg(e),s=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return g.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function yJ(t){return new v1(oc(t),t)}function aC(t,e,n){e===void 0&&(e=yJ);const[r,s]=g.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=gJ({callback(l){if(t)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(t)){i();break}}}}),a=mg({callback:i});return Yr(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function vJ(t){const e=b1(t);return YD(t,e)}const lC=[];function xJ(t){const e=g.useRef(t),n=Vd(r=>t?r&&r!==lC&&t&&e.current&&t.parentNode===e.current.parentNode?r:y1(t):lC,[t]);return g.useEffect(()=>{e.current=t},[t]),n}function wJ(t){const[e,n]=g.useState(null),r=g.useRef(t),s=g.useCallback(i=>{const o=Uy(i.target);o&&n(a=>a?(a.set(o,wx(o)),new Map(a)):null)},[]);return g.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const c=Uy(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,wx(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const c=Uy(l);c==null||c.removeEventListener("scroll",s)})}},[s,t]),g.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>ul(i,o),qr):eP(t):qr,[t,e])}function cC(t,e){e===void 0&&(e=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},e),g.useEffect(()=>{const r=t!==qr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?bp(t,n.current):qr}function bJ(t){g.useEffect(()=>{if(!fg)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function SJ(t,e){return g.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function sP(t){return g.useMemo(()=>t?YK(t):null,[t])}const uC=[];function kJ(t,e){e===void 0&&(e=oc);const[n]=t,r=sP(n?Nn(n):null),[s,i]=g.useState(uC);function o(){i(()=>t.length?t.map(l=>XD(l)?r:new v1(e(l),l)):uC)}const a=mg({callback:o});return Yr(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function iP(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ud(e)?e:t}function EJ(t){let{measure:e}=t;const[n,r]=g.useState(null),s=g.useCallback(c=>{for(const{target:u}of c)if(Ud(u)){r(d=>{const h=e(u);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),i=mg({callback:s}),o=g.useCallback(c=>{const u=iP(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[a,l]=xp(o);return g.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const TJ=[{sensor:w1,options:{}},{sensor:rP,options:{}}],CJ={current:{}},ph={draggable:{measure:nC},droppable:{measure:nC,strategy:sd.WhileDragging,frequency:Sx.Optimized},dragOverlay:{measure:oc}};class hu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const NJ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new hu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ph,measureDroppableContainers:kp,windowRect:null,measuringScheduled:!1},oP={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kp,draggableNodes:new Map,over:null,measureDroppableContainers:kp},Wd=g.createContext(oP),aP=g.createContext(NJ);function MJ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new hu}}}function jJ(t,e){switch(e.type){case Et.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Et.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Et.DragEnd:case Et.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Et.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new hu(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Et.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new hu(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case Et.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new hu(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function OJ(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=g.useContext(Wd),i=wp(r),o=wp(n==null?void 0:n.id);return g.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!pg(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=TK(u);if(d){d.focus();break}}})}},[r,e,s,o,i]),null}function lP(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function AJ(t){return g.useMemo(()=>({draggable:{...ph.draggable,...t==null?void 0:t.draggable},droppable:{...ph.droppable,...t==null?void 0:t.droppable},dragOverlay:{...ph.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function LJ(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=g.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Yr(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=YD(u,r);if(o||(d.x=0),a||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=KD(c);h&&h.scrollBy({top:d.y,left:d.x})}},[e,o,a,r,n])}const gg=g.createContext({...qr,scaleX:1,scaleY:1});var yi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(yi||(yi={}));const DJ=g.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=TJ,collisionDetection:d=BK,measuring:h,modifiers:p,...m}=e;const y=g.useReducer(jJ,void 0,MJ),[x,v]=y,[w,b]=AK(),[S,k]=g.useState(yi.Uninitialized),E=S===yi.Initialized,{draggable:{active:T,nodes:C,translate:L},droppable:{containers:M}}=x,N=T!=null?C.get(T):null,j=g.useRef({initial:null,translated:null}),I=g.useMemo(()=>{var Ke;return T!=null?{id:T,data:(Ke=N==null?void 0:N.data)!=null?Ke:CJ,rect:j}:null},[T,N]),B=g.useRef(null),[se,te]=g.useState(null),[$,P]=g.useState(null),A=rd(m,Object.values(m)),V=Hd("DndDescribedBy",o),H=g.useMemo(()=>M.getEnabled(),[M]),X=AJ(h),{droppableRects:z,measureDroppableContainers:fe,measuringScheduled:ae}=pJ(H,{dragging:E,dependencies:[L.x,L.y],config:X.droppable}),Ce=fJ(C,T),Le=g.useMemo(()=>$?Sp($):null,[$]),gt=po(),Xe=mJ(Ce,X.draggable.measure);LJ({activeNode:T!=null?C.get(T):null,config:gt.layoutShiftCompensation,initialRect:Xe,measure:X.draggable.measure});const je=aC(Ce,X.draggable.measure,Xe),Hn=aC(Ce?Ce.parentElement:null),pe=g.useRef({activatorEvent:null,active:null,activeNode:Ce,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),De=M.getNodeFor((n=pe.current.over)==null?void 0:n.id),Pe=EJ({measure:X.dragOverlay.measure}),Mn=(r=Pe.nodeRef.current)!=null?r:Ce,ar=E?(s=Pe.rect)!=null?s:je:null,lr=!!(Pe.nodeRef.current&&Pe.rect),Xr=vJ(lr?null:je),jr=sP(Mn?Nn(Mn):null),Wn=xJ(E?De??Ce:null),Ss=kJ(Wn),ni=lP(p,{transform:{x:L.x-Xr.x,y:L.y-Xr.y,scaleX:1,scaleY:1},activatorEvent:$,active:I,activeNodeRect:je,containerNodeRect:Hn,draggingNodeRect:ar,over:pe.current.over,overlayNodeRect:Pe.rect,scrollableAncestors:Wn,scrollableAncestorRects:Ss,windowRect:jr}),ks=Le?ul(Le,L):null,F=wJ(Wn),Z=cC(F),Y=cC(F,[je]),K=ul(ni,Z),he=ar?HK(ar,ni):null,ve=I&&he?d({active:I,collisionRect:he,droppableRects:z,droppableContainers:H,pointerCoordinates:ks}):null,Te=FK(ve,"id"),[Re,Ze]=g.useState(null),ye=lr?ni:ul(ni,Y),Fe=UK(ye,(i=Re==null?void 0:Re.rect)!=null?i:null,je),Or=g.useRef(null),Es=g.useCallback((Ke,_t)=>{let{sensor:cn,options:ze}=_t;if(B.current==null)return;const St=C.get(B.current);if(!St)return;const un=Ke.nativeEvent,Yn=new cn({active:B.current,activeNode:St,event:un,options:ze,context:pe,onStart(On){const si=B.current;if(si==null)return;const mo=C.get(si);if(!mo)return;const{onDragStart:dn}=A.current,Ts={activatorEvent:un,active:{id:si,data:mo.data,rect:j}};xt.unstable_batchedUpdates(()=>{dn==null||dn(Ts),k(yi.Initializing),v({type:Et.DragStart,initialCoordinates:On,active:si}),w({type:"onDragStart",event:Ts}),te(Or.current),P(un)})},onMove(On){v({type:Et.DragMove,coordinates:On})},onEnd:es(Et.DragEnd),onCancel:es(Et.DragCancel)});Or.current=Yn;function es(On){return async function(){const{active:mo,collisions:dn,over:Ts,scrollAdjustedTranslate:lc}=pe.current;let ii=null;if(mo&&lc){const{cancelDrop:Cs}=A.current;ii={activatorEvent:un,active:mo,collisions:dn,delta:lc,over:Ts},On===Et.DragEnd&&typeof Cs=="function"&&await Promise.resolve(Cs(ii))&&(On=Et.DragCancel)}B.current=null,xt.unstable_batchedUpdates(()=>{v({type:On}),k(yi.Uninitialized),Ze(null),te(null),P(null),Or.current=null;const Cs=On===Et.DragEnd?"onDragEnd":"onDragCancel";if(ii){const Ta=A.current[Cs];Ta==null||Ta(ii),w({type:Cs,event:ii})}})}}},[C]),jn=g.useCallback((Ke,_t)=>(cn,ze)=>{const St=cn.nativeEvent,un=C.get(ze);if(B.current!==null||!un||St.dndKit||St.defaultPrevented)return;const Yn={active:un};Ke(cn,_t.options,Yn)===!0&&(St.dndKit={capturedBy:_t.sensor},B.current=ze,Es(cn,_t))},[C,Es]),Zr=hJ(u,jn);bJ(u),Yr(()=>{je&&S===yi.Initializing&&k(yi.Initialized)},[je,S]),g.useEffect(()=>{const{onDragMove:Ke}=A.current,{active:_t,activatorEvent:cn,collisions:ze,over:St}=pe.current;if(!_t||!cn)return;const un={active:_t,activatorEvent:cn,collisions:ze,delta:{x:K.x,y:K.y},over:St};xt.unstable_batchedUpdates(()=>{Ke==null||Ke(un),w({type:"onDragMove",event:un})})},[K.x,K.y]),g.useEffect(()=>{const{active:Ke,activatorEvent:_t,collisions:cn,droppableContainers:ze,scrollAdjustedTranslate:St}=pe.current;if(!Ke||B.current==null||!_t||!St)return;const{onDragOver:un}=A.current,Yn=ze.get(Te),es=Yn&&Yn.rect.current?{id:Yn.id,rect:Yn.rect.current,data:Yn.data,disabled:Yn.disabled}:null,On={active:Ke,activatorEvent:_t,collisions:cn,delta:{x:St.x,y:St.y},over:es};xt.unstable_batchedUpdates(()=>{Ze(es),un==null||un(On),w({type:"onDragOver",event:On})})},[Te]),Yr(()=>{pe.current={activatorEvent:$,active:I,activeNode:Ce,collisionRect:he,collisions:ve,droppableRects:z,draggableNodes:C,draggingNode:Mn,draggingNodeRect:ar,droppableContainers:M,over:Re,scrollableAncestors:Wn,scrollAdjustedTranslate:K},j.current={initial:ar,translated:he}},[I,Ce,ve,he,C,Mn,ar,z,M,Re,Wn,K]),cJ({...gt,delta:L,draggingRect:he,pointerCoordinates:ks,scrollableAncestors:Wn,scrollableAncestorRects:Ss});const ri=g.useMemo(()=>({active:I,activeNode:Ce,activeNodeRect:je,activatorEvent:$,collisions:ve,containerNodeRect:Hn,dragOverlay:Pe,draggableNodes:C,droppableContainers:M,droppableRects:z,over:Re,measureDroppableContainers:fe,scrollableAncestors:Wn,scrollableAncestorRects:Ss,measuringConfiguration:X,measuringScheduled:ae,windowRect:jr}),[I,Ce,je,$,ve,Hn,Pe,C,M,z,Re,fe,Wn,Ss,X,ae,jr]),Gn=g.useMemo(()=>({activatorEvent:$,activators:Zr,active:I,activeNodeRect:je,ariaDescribedById:{draggable:V},dispatch:v,draggableNodes:C,over:Re,measureDroppableContainers:fe}),[$,Zr,I,je,v,V,C,Re,fe]);return _.createElement(GD.Provider,{value:b},_.createElement(Wd.Provider,{value:Gn},_.createElement(aP.Provider,{value:ri},_.createElement(gg.Provider,{value:Fe},c)),_.createElement(OJ,{disabled:(a==null?void 0:a.restoreFocus)===!1})),_.createElement(PK,{...a,hiddenTextDescribedById:V}));function po(){const Ke=(se==null?void 0:se.autoScrollEnabled)===!1,_t=typeof l=="object"?l.enabled===!1:l===!1,cn=E&&!Ke&&!_t;return typeof l=="object"?{...l,enabled:cn}:{enabled:cn}}}),PJ=g.createContext(null),dC="button",RJ="Draggable";function IJ(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=Hd(RJ),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=g.useContext(Wd),{role:p=dC,roleDescription:m="draggable",tabIndex:y=0}=s??{},x=(l==null?void 0:l.id)===e,v=g.useContext(x?gg:PJ),[w,b]=xp(),[S,k]=xp(),E=SJ(o,e),T=rd(n);Yr(()=>(d.set(e,{id:e,key:i,node:w,activatorNode:S,data:T}),()=>{const L=d.get(e);L&&L.key===i&&d.delete(e)}),[d,e]);const C=g.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":r,"aria-pressed":x&&p===dC?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,y,x,m,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:C,isDragging:x,listeners:r?void 0:E,node:w,over:h,setNodeRef:b,setActivatorNodeRef:k,transform:v}}function cP(){return g.useContext(aP)}const _J="Droppable",$J={timeout:25};function uP(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=Hd(_J),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=g.useContext(Wd),u=g.useRef({disabled:n}),d=g.useRef(!1),h=g.useRef(null),p=g.useRef(null),{disabled:m,updateMeasurementsFor:y,timeout:x}={...$J,...s},v=rd(y??r),w=g.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(v.current)?v.current:[v.current]),p.current=null},x)},[x]),b=mg({callback:w,disabled:m||!o}),S=g.useCallback((C,L)=>{b&&(L&&(b.unobserve(L),d.current=!1),C&&b.observe(C))},[b]),[k,E]=xp(S),T=rd(e);return g.useEffect(()=>{!b||!k.current||(b.disconnect(),d.current=!1,b.observe(k.current))},[k,b]),g.useEffect(()=>(a({type:Et.RegisterDroppable,element:{id:r,key:i,disabled:n,node:k,rect:h,data:T}}),()=>a({type:Et.UnregisterDroppable,key:i,id:r})),[r]),g.useEffect(()=>{n!==u.current.disabled&&(a({type:Et.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:k,over:l,setNodeRef:E}}function FJ(t){let{animation:e,children:n}=t;const[r,s]=g.useState(null),[i,o]=g.useState(null),a=wp(n);return!n&&!r&&a&&s(a),Yr(()=>{if(!i)return;const l=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(l==null||c==null){s(null);return}Promise.resolve(e(c,i)).then(()=>{s(null)})},[e,r,i]),_.createElement(_.Fragment,null,n,r?g.cloneElement(r,{ref:o}):null)}const zJ={x:0,y:0,scaleX:1,scaleY:1};function BJ(t){let{children:e}=t;return _.createElement(Wd.Provider,{value:oP},_.createElement(gg.Provider,{value:zJ},e))}const UJ={position:"fixed",touchAction:"none"},VJ=t=>pg(t)?"transform 250ms ease":void 0,HJ=g.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:c,transition:u=VJ}=t;if(!a)return null;const d=s?c:{...c,scaleX:1,scaleY:1},h={...UJ,width:a.width,height:a.height,top:a.top,left:a.left,transform:to.Transform.toString(d),transformOrigin:s&&r?_K(r,a):void 0,transition:typeof u=="function"?u(r):u,...l};return _.createElement(n,{className:o,style:h,ref:e},i)}),WJ=t=>e=>{let{active:n,dragOverlay:r}=e;const s={},{styles:i,className:o}=t;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,c]of Object.entries(s))n.node.style.setProperty(l,c);o!=null&&o.active&&n.node.classList.remove(o.active)}},GJ=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:to.Transform.toString(e)},{transform:to.Transform.toString(n)}]},YJ={duration:250,easing:"ease",keyframes:GJ,sideEffects:WJ({styles:{active:{opacity:"0"}}})};function qJ(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return hg((i,o)=>{if(e===null)return;const a=n.get(i);if(!a)return;const l=a.node.current;if(!l)return;const c=iP(o);if(!c)return;const{transform:u}=Nn(o).getComputedStyle(o),d=qD(u);if(!d)return;const h=typeof e=="function"?e:KJ(e);return tP(l,s.draggable.measure),h({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:s,transform:d})})}function KJ(t){const{duration:e,easing:n,sideEffects:r,keyframes:s}={...YJ,...t};return i=>{let{active:o,dragOverlay:a,transform:l,...c}=i;if(!e)return;const u={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},d={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},h={x:l.x-u.x,y:l.y-u.y,...d},p=s({...c,active:o,dragOverlay:a,transform:{initial:l,final:h}}),[m]=p,y=p[p.length-1];if(JSON.stringify(m)===JSON.stringify(y))return;const x=r==null?void 0:r({active:o,dragOverlay:a,...c}),v=a.node.animate(p,{duration:e,easing:n,fill:"forwards"});return new Promise(w=>{v.onfinish=()=>{x==null||x(),w()}})}}let fC=0;function JJ(t){return g.useMemo(()=>{if(t!=null)return fC++,fC},[t])}const QJ=_.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:c=999}=t;const{activatorEvent:u,active:d,activeNodeRect:h,containerNodeRect:p,draggableNodes:m,droppableContainers:y,dragOverlay:x,over:v,measuringConfiguration:w,scrollableAncestors:b,scrollableAncestorRects:S,windowRect:k}=cP(),E=g.useContext(gg),T=JJ(d==null?void 0:d.id),C=lP(o,{activatorEvent:u,active:d,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:x.rect,over:v,overlayNodeRect:x.rect,scrollableAncestors:b,scrollableAncestorRects:S,transform:E,windowRect:k}),L=b1(h),M=qJ({config:r,draggableNodes:m,droppableContainers:y,measuringConfiguration:w}),N=L?x.setRef:void 0;return _.createElement(BJ,null,_.createElement(FJ,{animation:M},d&&T?_.createElement(HJ,{key:T,id:d.id,ref:N,as:a,activatorEvent:u,adjustScale:e,className:l,transition:i,rect:L,style:{zIndex:c,...s},transform:C},n):null))});function dP(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function XJ(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function jf(t){return t!==null&&t>=0}function ZJ(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function eQ(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const fP=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=dP(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},hP="Sortable",pP=_.createContext({activeIndex:-1,containerId:hP,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:fP,disabled:{draggable:!1,droppable:!1}});function mP(t){let{children:e,id:n,items:r,strategy:s=fP,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=cP(),d=Hd(hP,n),h=a.rect!==null,p=g.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),m=o!=null,y=o?p.indexOf(o.id):-1,x=c?p.indexOf(c.id):-1,v=g.useRef(p),w=!ZJ(p,v.current),b=x!==-1&&y===-1||w,S=eQ(i);Yr(()=>{w&&m&&u(p)},[w,p,m,u]),g.useEffect(()=>{v.current=p},[p]);const k=g.useMemo(()=>({activeIndex:y,containerId:d,disabled:S,disableTransforms:b,items:p,overIndex:x,useDragOverlay:h,sortedRects:XJ(p,l),strategy:s}),[y,d,S.draggable,S.droppable,b,p,x,l,h,s]);return _.createElement(pP.Provider,{value:k},e)}const tQ=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return dP(n,r,s).indexOf(e)},nQ=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},rQ={duration:200,easing:"ease"},gP="transform",sQ=to.Transition.toString({property:gP,duration:0,easing:"linear"}),iQ={roleDescription:"sortable"};function oQ(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=g.useState(null),a=g.useRef(n);return Yr(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const c=oc(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,s]),g.useEffect(()=>{i&&o(null)},[i]),i}function aQ(t){let{animateLayoutChanges:e=nQ,attributes:n,disabled:r,data:s,getNewIndex:i=tQ,id:o,strategy:a,resizeObserverConfig:l,transition:c=rQ}=t;const{items:u,containerId:d,activeIndex:h,disabled:p,disableTransforms:m,sortedRects:y,overIndex:x,useDragOverlay:v,strategy:w}=g.useContext(pP),b=lQ(r,p),S=u.indexOf(o),k=g.useMemo(()=>({sortable:{containerId:d,index:S,items:u},...s}),[d,s,S,u]),E=g.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:T,node:C,isOver:L,setNodeRef:M}=uP({id:o,data:k,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:N,activatorEvent:j,activeNodeRect:I,attributes:B,setNodeRef:se,listeners:te,isDragging:$,over:P,setActivatorNodeRef:A,transform:V}=IJ({id:o,data:k,attributes:{...iQ,...n},disabled:b.draggable}),H=bK(M,se),X=!!N,z=X&&!m&&jf(h)&&jf(x),fe=!v&&$,ae=fe&&z?V:null,Le=z?ae??(a??w)({rects:y,activeNodeRect:I,activeIndex:h,overIndex:x,index:S}):null,gt=jf(h)&&jf(x)?i({id:o,items:u,activeIndex:h,overIndex:x}):S,Xe=N==null?void 0:N.id,je=g.useRef({activeId:Xe,items:u,newIndex:gt,containerId:d}),Hn=u!==je.current.items,pe=e({active:N,containerId:d,isDragging:$,isSorting:X,id:o,index:S,items:u,newIndex:je.current.newIndex,previousItems:je.current.items,previousContainerId:je.current.containerId,transition:c,wasDragging:je.current.activeId!=null}),De=oQ({disabled:!pe,index:S,node:C,rect:T});return g.useEffect(()=>{X&&je.current.newIndex!==gt&&(je.current.newIndex=gt),d!==je.current.containerId&&(je.current.containerId=d),u!==je.current.items&&(je.current.items=u)},[X,gt,d,u]),g.useEffect(()=>{if(Xe===je.current.activeId)return;if(Xe&&!je.current.activeId){je.current.activeId=Xe;return}const Mn=setTimeout(()=>{je.current.activeId=Xe},50);return()=>clearTimeout(Mn)},[Xe]),{active:N,activeIndex:h,attributes:B,data:k,rect:T,index:S,newIndex:gt,items:u,isOver:L,isSorting:X,isDragging:$,listeners:te,node:C,overIndex:x,over:P,setNodeRef:H,setActivatorNodeRef:A,setDroppableNodeRef:M,setDraggableNodeRef:se,transform:De??Le,transition:Pe()};function Pe(){if(De||Hn&&je.current.newIndex===S)return sQ;if(!(fe&&!pg(j)||!c)&&(X||pe))return to.Transition.toString({...c,property:gP})}}function lQ(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Ie.Down,Ie.Right,Ie.Up,Ie.Left;const xo={low:{bg:"bg-semantic-success-light",text:"text-semantic-success",hover:"hover:bg-semantic-success/20"},medium:{bg:"bg-semantic-warning-light",text:"text-semantic-warning",hover:"hover:bg-semantic-warning/20"},high:{bg:"bg-semantic-error-light",text:"text-semantic-error",hover:"hover:bg-semantic-error/20"}};function cQ({value:t="low",onChange:e}){const[n,r]=_.useState(!1),s=xo[t]?t:"low",i=o=>{e(o),r(!1)};return f.jsxs("div",{className:"relative",children:[f.jsxs(J.button,{onClick:()=>r(!n),className:`inline-flex items-center px-4 py-1 rounded-full text-sm font-medium transition-colors ${xo[s].bg} ${xo[s].text}`,whileHover:{scale:1.05},whileTap:{scale:.98},children:[f.jsx(D,{children:s}),f.jsx(J.div,{animate:{rotate:n?180:0},transition:{duration:.3},children:f.jsx(ba,{className:"ml-1 h-3 w-3"})})]}),f.jsx(yt,{children:n&&f.jsx(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute z-10 mt-1 w-24 rounded-md shadow-lg bg-white border border-design-greyOutlines overflow-hidden",children:f.jsx("div",{className:"py-1",role:"menu",children:Object.entries(xo).map(([o,a])=>f.jsx(J.button,{onClick:()=>i(o),className:`block w-full text-left px-4 py-2 text-xs transition-colors ${xo[o].bg} ${xo[o].text} ${xo[o].hover}`,role:"menuitem",whileHover:{scale:1.02},whileTap:{scale:.95},children:f.jsx(D,{children:o})},o))})})})]})}function yg(t){g.useEffect(()=>(t?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`):(document.body.style.overflow="",document.body.style.paddingRight=""),()=>{document.body.style.overflow="",document.body.style.paddingRight=""}),[t])}const Of={red:{bg:"bg-semantic-error/20",text:"text-semantic-error",button:"bg-semantic-error"},blue:{bg:"bg-blue-500/20",text:"text-blue-500",button:"bg-blue-500"},green:{bg:"bg-semantic-success/20",text:"text-semantic-success",button:"bg-semantic-success"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-500",button:"bg-yellow-500"},purple:{bg:"bg-button-primary-cta/20",text:"text-button-primary-cta",button:"bg-button-primary-cta"},gray:{bg:"bg-design-greyBG/20",text:"text-design-black",button:"bg-design-greyBG"}};function uQ({isOpen:t,onClose:e,labels:n,onUpdate:r}){yg(t);const[s,i]=g.useState(!1),[o,a]=g.useState(""),[l,c]=g.useState("blue");g.useEffect(()=>{t&&i(!0)},[t]);const u=()=>{i(!1),setTimeout(e,200)},d=()=>{o.trim()&&(r([...n,{text:o.trim(),color:l}]),a(""),c("blue"))},h=p=>{r(n.filter((m,y)=>y!==p))};return t?f.jsxs("div",{className:"fixed inset-x-0 top-48 flex items-start justify-center z-[200] mt-4",children:[f.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:u,style:{animation:s?"fadeIn 0.2s ease-out forwards":"fadeOut 0.2s ease-out forwards"}}),f.jsxs("div",{className:"relative w-full max-w-md mx-4 bg-white rounded-2xl p-8 shadow-xl border border-gray-100",style:{animation:s?"slideIn 0.2s ease-out forwards":"slideOut 0.2s ease-out forwards"},children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-design-black",children:f.jsx(D,{children:"Labels"})}),f.jsx("button",{onClick:u,className:"text-gray-400 hover:text-semantic-error rounded-full hover:bg-semantic-error-light transition-colors p-1",children:f.jsx(an,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((p,m)=>f.jsxs(J.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Of[p.color].bg} ${Of[p.color].text}`,children:[p.text,f.jsx("button",{onClick:()=>h(m),className:"ml-2 hover:text-semantic-error focus:outline-none",children:f.jsx(an,{className:"h-3 w-3"})})]},m))}),f.jsx("div",{className:"mt-4",children:f.jsxs("div",{className:"flex flex-col space-y-3",children:[f.jsx("input",{type:"text",value:o,onChange:p=>a(p.target.value),placeholder:"Enter label text...",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all dark:bg-design-black/50 dark:border-design-greyOutlines/20",onKeyDown:p=>{p.key==="Enter"&&d()}}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Of).map(([p,m])=>f.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c(p),className:`w-8 h-8 rounded-full ${Of[p].button} ${l===p?"ring-2 ring-offset-2 ring-button-primary-cta":""}`},p))}),f.jsx("button",{onClick:d,disabled:!o.trim(),className:"w-full px-4 py-2 bg-design-primaryPurple text-white rounded-lg hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-primary transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:f.jsx(D,{children:"Add Label"})})]})})]})]}),f.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes fadeOut {
          from {
            opacity: 1;
          }
          to {
            opacity: 0;
          }
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        @keyframes slideOut {
          from {
            opacity: 1;
            transform: scale(1);
          }
          to {
            opacity: 0;
            transform: scale(0.95);
          }
        }
      `})]}):null}const hC={red:{bg:"bg-semantic-error/20",text:"text-semantic-error",button:"bg-semantic-error"},blue:{bg:"bg-blue-500/20",text:"text-blue-500",button:"bg-blue-500"},green:{bg:"bg-semantic-success/20",text:"text-semantic-success",button:"bg-semantic-success"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-500",button:"bg-yellow-500"},purple:{bg:"bg-button-primary-cta/20",text:"text-button-primary-cta",button:"bg-button-primary-cta"},gray:{bg:"bg-design-greyBG/20",text:"text-design-black",button:"bg-design-greyBG"}};function dQ({labels:t,onUpdate:e}){const[n,r]=g.useState(!1),s=i=>{e(t.filter((o,a)=>a!==i))};return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.jsx(yt,{children:t&&t.map((i,o)=>f.jsxs(J.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${hC[i.color].bg} ${hC[i.color].text}`,children:[i.text,f.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(o),className:"ml-1.5 hover:text-semantic-error focus:outline-none",children:f.jsx(an,{className:"h-3 w-3"})})]},o))}),f.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!0),className:"btn-ghost hover:text-design-primaryPurple btn-sm rounded-full",children:[f.jsx(Ks,{className:"h-3 w-3 mr-1"}),f.jsx(D,{children:"Add Label"})]})]}),f.jsx(uQ,{isOpen:n,onClose:()=>r(!1),labels:t,onUpdate:e})]})}const fQ=({type:t,className:e="h-4 w-4"})=>{const n=l=>{if(!l)return"link";const c=l.split(".").pop().toLowerCase();return["pdf"].includes(c)?"pdf":["doc","docx"].includes(c)?"word":["jpg","jpeg","png","gif","webp"].includes(c)?"image":["mp4","mov","avi","webm"].includes(c)?"video":"file"},r=l=>l?l.split(".").pop().toLowerCase():"",s=n(t),i=r(t),o={pdf:"text-semantic-error hover:text-semantic-error-hover",word:"text-semantic-info hover:text-semantic-info-hover",image:"text-design-primaryPurple hover:text-button-primary-hover",video:"text-semantic-warning hover:text-semantic-warning-hover",link:"text-design-primaryPurple hover:text-button-primary-hover",file:"text-design-primaryGrey hover:text-gray-700"},a={pdf:f.jsx(Hk,{className:`${e} ${o.pdf}`}),word:f.jsx(Hk,{className:`${e} ${o.word}`}),image:f.jsx(mz,{className:`${e} ${o.image}`}),video:f.jsx(lz,{className:`${e} ${o.video}`}),link:f.jsx(bz,{className:`${e} ${o.link}`}),file:f.jsx(cz,{className:`${e} ${o.file}`})};return f.jsxs("div",{className:"relative flex flex-col items-center",children:[a[s]||a.file,i&&s!=="link"&&f.jsx("span",{className:"text-[10px] font-medium mt-1 uppercase",style:{color:o[s].split(" ")[0].replace("text-","")},children:i})]})};function hQ({attachments:t,onAddAttachment:e,onDeleteAttachment:n,boardId:r,boardTitle:s}){const[i,o]=g.useState(!1),[a,l]=g.useState(""),[c,u]=g.useState(null),[d,h]=g.useState(!1),[p,m]=g.useState(!1),[y,x]=g.useState(!1),[v,w]=g.useState(null),b=N=>{try{const j=N.match(/^https?:\/\//)?N:`https://${N}`;return new URL(j),!0}catch{return!1}},S=()=>{if(u(null),!a.trim()){u("Please enter a URL");return}const N=a.match(/^https?:\/\//)?a:`https://${a}`;if(!b(N)){u("Please enter a valid URL");return}try{const j=new URL(N);e({id:Date.now().toString(),type:"link",url:N,name:j.hostname,createdAt:new Date().toISOString()}),l(""),o(!1)}catch{u("Invalid URL format")}},k=async N=>{var I;const j=(I=N.target.files)==null?void 0:I[0];if(j){m(!0);try{const B=j.name.split(".").pop(),se=`${j.name.substring(0,j.name.lastIndexOf("."))||j.name}_${Date.now()}.${B}`,te=`${s} ${r}/${se}`,{data:$,error:P}=await oe.storage.from("ideation_media").upload(te,j,{cacheControl:"3600",upsert:!1});if(P)throw P;e({id:Date.now().toString(),type:"file",storagePath:te,name:j.name,size:j.size,createdAt:new Date().toISOString()}),me.success("File uploaded successfully")}catch(B){console.error("Error uploading file:",B),me.error("Failed to upload file")}finally{m(!1)}}},E=async N=>{const j=t.find(I=>I.id===N);if(j){x(!0),w(N);try{if(j.type==="file"&&j.storagePath){const{error:I}=await oe.storage.from("ideation_media").remove([j.storagePath]);if(I)throw I}n(N),me.success("Attachment deleted successfully")}catch(I){console.error("Error deleting attachment:",I),me.error("Failed to delete attachment")}finally{x(!1),w(null)}}},T=async N=>{try{w(N);const{data:j,error:I}=await oe.storage.from("ideation_media").createSignedUrl(N,3600);if(I)throw I;return j.signedUrl}catch(j){return console.error("Error generating signed URL:",j),me.error("Failed to generate download link"),null}finally{w(null),me.success("Download link valid for 60 minutes")}},C=async N=>{if(N.type!=="file"||!N.storagePath)return;const j=await T(N.storagePath);j&&window.open(j,"_blank")},L=d?t:t.slice(0,2),M=t.length>2;return f.jsxs("div",{className:"space-y-4 bg-white/50 backdrop-blur-sm border border-design-greyOutlines/20 p-4 rounded-xl shadow-sm transition-all duration-300 hover:shadow-md",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center text-sm font-medium text-design-primaryGrey",children:[f.jsx(ub,{className:"h-5 w-5 mr-2 text-design-primaryPurple"}),f.jsx(D,{children:"Attachments"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("button",{onClick:()=>o(!0),disabled:p||y,className:"flex items-center px-3 py-1.5 text-sm text-design-primaryPurple bg-design-lightPurpleButtonFill rounded-lg hover:bg-button-primary-cta hover:text-white transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:[f.jsx(Ks,{className:"h-4 w-4 mr-1"}),f.jsx(D,{children:"Add Link"})]}),f.jsxs("label",{className:`flex items-center px-3 py-1.5 text-sm text-design-primaryPurple bg-design-lightPurpleButtonFill rounded-lg hover:bg-button-primary-cta hover:text-white transition-all duration-300 transform hover:scale-105 cursor-pointer ${p?"opacity-50 pointer-events-none":""}`,children:[p?f.jsxs(f.Fragment,{children:[f.jsx(dy,{className:"h-4 w-4 mr-1 animate-spin"}),f.jsx(D,{children:"Uploading..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ks,{className:"h-4 w-4 mr-1"}),f.jsx(D,{children:"Upload File"})]}),f.jsx("input",{type:"file",className:"hidden",onChange:k,disabled:p||y})]})]})]}),i&&f.jsx(yt,{children:f.jsx(J.div,{initial:{opacity:0,y:-20,height:0},animate:{opacity:1,y:0,height:"auto",transition:{type:"spring",stiffness:500,damping:30}},exit:{opacity:0,y:-20,height:0},className:"overflow-hidden",children:f.jsxs(J.div,{initial:{scale:.95},animate:{scale:1},className:"bg-white p-4 rounded-lg shadow-sm border border-design-greyOutlines/20",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(J.input,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},type:"url",value:a,onChange:N=>l(N.target.value),placeholder:"Enter URL...",className:`input flex-1 p-2 ${c?"border-semantic-error":""}`,onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),S())}}),f.jsx(J.button,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"btn-primary",children:f.jsx(D,{children:"Add"})}),f.jsx(J.button,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},transition:{delay:.3},whileHover:{scale:1.1},onClick:()=>{o(!1),l(""),u(null)},className:"btn-ghost p-2",children:f.jsx(an,{className:"h-5 w-5"})})]}),c&&f.jsx(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-semantic-error mt-2",children:c})]})})}),f.jsxs("div",{className:"space-y-2",children:[L.map(N=>f.jsxs("div",{className:"group flex items-center justify-between p-3 bg-white border border-design-greyOutlines/20 rounded-lg hover:border-design-primaryPurple/30 transition-all duration-300 transform hover:scale-[1.01] hover:shadow-sm",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg bg-design-lightPurpleButtonFill flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(fQ,{type:N.name,className:"h-5 w-5"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-gray-800 group-hover:text-design-primaryPurple transition-colors duration-300",children:N.name}),f.jsxs("span",{className:"text-xs text-design-primaryGrey",children:[f.jsx(D,{children:"Added"})," ",new Date(N.createdAt).toLocaleDateString(),N.size&&`  ${Math.round(N.size/1024)} KB`]})]})]}),f.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[N.type==="link"?f.jsx("a",{href:N.url,target:"_blank",rel:"noreferrer",className:"p-2 rounded-full hover:bg-design-lightPurpleButtonFill text-design-primaryGrey hover:text-design-primaryPurple transition-all duration-300",children:f.jsx(az,{className:"h-4 w-4"})}):f.jsx("button",{onClick:()=>C(N),disabled:v===N.storagePath,className:"p-2 rounded-full hover:bg-design-lightPurpleButtonFill text-design-primaryGrey hover:text-design-primaryPurple transition-all duration-300 disabled:opacity-50",children:v===N.storagePath?f.jsx(dy,{className:"h-4 w-4 animate-spin"}):f.jsx(oz,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>E(N.id),disabled:y||v===N.id,className:"p-2 rounded-full hover:bg-semantic-error-light text-design-primaryGrey hover:text-semantic-error transition-all duration-300 disabled:opacity-50",children:v===N.id?f.jsx(dy,{className:"h-4 w-4 animate-spin"}):f.jsx(an,{className:"h-4 w-4"})})]})]},N.id)),M&&f.jsxs("button",{onClick:()=>h(!d),className:"w-full py-2 px-4 text-sm text-design-primaryPurple hover:text-button-primary-hover flex items-center justify-center gap-2 group transition-all duration-300",children:[f.jsx("span",{children:d?f.jsx(D,{children:"Show Less"}):f.jsx(D,{children:"View More Attachments"})}),f.jsx(ba,{className:`h-4 w-4 transition-transform duration-300 ${d?"rotate-180":""}`})]})]})]})}function pQ({comments:t,userUserId:e,onAddComment:n,onEditComment:r,onDeleteComment:s,teamUsers:i,cardId:o,cardTitle:a,boardId:l}){const[c,u]=g.useState(""),[d,h]=g.useState(null),[p,m]=g.useState(""),[y,x]=g.useState(!1),[v,w]=g.useState(!1),[b,S]=g.useState(""),[k,E]=g.useState(0),{currentUser:T}=Mr(),C=g.useRef(null),L=A=>{A.style.height="auto",A.style.height=Math.min(A.scrollHeight,150)+"px"},M=A=>{const V=A.target.value,H=A.target.selectionStart;u(V),E(H),L(A.target);const z=V.slice(0,H).split(/\s+/),fe=z[z.length-1];if(fe.startsWith("@")){const ae=fe.slice(1).toLowerCase();S(ae),w(!0)}else w(!1)},N=A=>{var fe;const V=c.slice(0,k);c.slice(k);const H=V.lastIndexOf(" "),X=H===-1?0:H+1,z=c.slice(0,X)+`@${A.userName} `+c.slice(k);u(z),w(!1),(fe=C.current)==null||fe.focus()},j=A=>A?A.split(/(\s+)/).map((H,X)=>{if(H.startsWith("@")&&H.length>1){const z=H.slice(1).trim();if(i.find(ae=>ae.userName.toLowerCase()===z.toLowerCase()))return f.jsx("span",{className:"font-medium text-design-primaryPurple",children:H},X)}return f.jsx("span",{children:H},X)}):null,I=A=>{const V=[];return A.split(/\s+/).forEach(X=>{if(X.startsWith("@")){const z=X.slice(1),fe=i.find(ae=>ae.userName.toLowerCase()===z.toLowerCase());fe&&V.push(fe)}}),V},B=i.filter(A=>A.userName.toLowerCase().includes(b.toLowerCase())),se=async A=>{if(A.preventDefault(),c.trim()){await n(c.trim());const V=I(c.trim());for(const H of V)try{await oe.from("notifications").insert([{user_id:H._id,content:`${T.userName} mentioned you in a comment: "${c.trim()}" at ${a}`,type:"MENTION",board_id:l,card_id:o,created_at:new Date().toISOString(),read:!1}])}catch(X){console.error("Error creating mention notification:",X)}u(""),U8(V,T.userName,a,l,c.trim())}},te=A=>{p.trim()&&(r(A,p.trim()),h(null))},$=y?t:t.slice(0,3),P=t.length>3;return f.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-2 duration-300 bg-white dark:bg-design-black/30 border border-design-greyOutlines/20 p-6 rounded-2xl shadow-sm",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(cb,{className:"h-5 w-5 text-design-primaryPurple"}),f.jsx("span",{className:"font-semibold text-design-black dark:text-design-white",children:f.jsx(D,{children:"Comments"})}),t.length>0&&f.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs bg-design-lightPurpleButtonFill text-design-primaryPurple font-medium",children:t.length})]}),f.jsxs("div",{className:"relative",children:[f.jsx("form",{onSubmit:se,className:"group",children:f.jsxs("div",{className:"flex gap-2 transition-all duration-200 focus-within:scale-[1.01]",children:[f.jsx("textarea",{ref:C,value:c,onChange:M,placeholder:"Add a comment... (Use @ to mention)",rows:1,className:"flex-1 px-4 py-3 rounded-xl border-2 border-design-greyOutlines/50 focus:border-design-primaryPurple focus:ring-0 dark:bg-design-black/50 dark:border-design-greyOutlines/20 placeholder:text-design-primaryGrey/50 min-h-[48px] max-h-[150px] resize-none overflow-auto scrollbar-none",style:{height:"auto",overflowY:"auto",scrollbarWidth:"none",msOverflowStyle:"none"}}),f.jsx("button",{type:"submit",disabled:!c.trim(),className:"h-12 px-4 bg-design-primaryPurple text-white rounded-xl font-medium shadow-lg hover:shadow-design-primaryPurple/25 disabled:opacity-50 disabled:hover:shadow-none transition-all duration-200 hover:scale-105 disabled:scale-100 self-start",children:f.jsx(D,{children:"Send"})})]})}),v&&B.length>0&&f.jsx("div",{className:"absolute bottom-full mb-2 w-full bg-white dark:bg-design-black/90 rounded-xl shadow-xl border border-design-greyOutlines/20 max-h-48 overflow-y-auto z-10 animate-in slide-in-from-top-2 duration-200",children:B.map(A=>f.jsxs("button",{onClick:()=>N(A),className:"w-full text-left px-4 py-2.5 hover:bg-design-lightVioletSelection dark:hover:bg-design-primaryPurple/10 flex items-center gap-3 transition-colors duration-150",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-design-primaryPurple text-white flex items-center justify-center text-sm font-medium",children:A.userName[0].toUpperCase()}),f.jsxs("span",{className:"text-design-black dark:text-design-white",children:["@",A.userName]})]},A._id))})]}),f.jsxs("div",{className:"space-y-4",children:[$.map(A=>f.jsxs("div",{className:"group rounded-xl p-4 hover:bg-design-lightPurpleButtonFill dark:hover:bg-design-primaryPurple/5 transition-all duration-200 hover:scale-[1.01]",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"h-9 w-9 rounded-full bg-design-primaryPurple/10 border-2 border-design-primaryPurple/20 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(ep,{className:"h-4 w-4 text-design-primaryPurple"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium text-design-black dark:text-design-white",children:A.author}),f.jsx("span",{className:"text-xs text-design-primaryGrey",children:Xn(new Date(A.updated_at||A.created_at),"MMM d, yyyy HH:mm")})]})]}),A.user_id===e&&f.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[f.jsx("button",{onClick:()=>{h(A.id),m(A.text)},className:"p-2 rounded-lg hover:bg-design-primaryPurple/10 hover:text-design-primaryPurple transition-colors duration-150",children:f.jsx(Rv,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>s(A.id),className:"p-2 rounded-lg hover:bg-semantic-error-light hover:text-semantic-error transition-colors duration-150",children:f.jsx(Sa,{className:"h-4 w-4"})})]})]}),d===A.id?f.jsxs("div",{className:"mt-3 space-y-3",children:[f.jsx("textarea",{value:p,onChange:V=>m(V.target.value),className:"w-full px-4 py-2 rounded-xl border-2 border-design-greyOutlines/50 focus:border-design-primaryPurple focus:ring-0 dark:bg-design-black/50 min-h-[80px]",rows:2}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>h(null),className:"px-4 py-1.5 rounded-lg hover:bg-design-greyBG transition-colors duration-150",children:"Cancel"}),f.jsx("button",{onClick:()=>te(A.id),className:"px-4 py-1.5 bg-design-primaryPurple text-white rounded-lg hover:bg-button-primary-hover transition-colors duration-150",children:"Save"})]})]}):f.jsxs("p",{className:"mt-3 text-design-black dark:text-design-greyOutlines leading-relaxed",children:[j(A.text),A.updated_at&&f.jsx("span",{className:"text-xs text-design-primaryGrey ml-2",children:"(edited)"})]})]},A.id)),P&&f.jsxs("button",{onClick:()=>x(!y),className:"w-full py-3 text-design-primaryPurple hover:text-button-primary-hover flex items-center justify-center gap-2 group transition-colors duration-150",children:[f.jsx("span",{className:"font-medium",children:y?f.jsx(D,{children:"Show Less"}):f.jsx(D,{children:"View All Comments"})}),f.jsx(ba,{className:`h-4 w-4 transition-transform duration-300 ${y?"rotate-180":"group-hover:translate-y-0.5"}`})]})]})]})}function mQ({isOpen:t,onClose:e,checklist:n,onUpdate:r}){yg(t);const[s,i]=g.useState(""),[o,a]=g.useState(!1);g.useEffect(()=>{t&&a(!0)},[t]);const l=()=>{a(!1),setTimeout(e,200)},c=()=>{s.trim()&&(r([...n,{id:Date.now().toString(),text:s.trim(),checked:!1}]),i(""))},u=p=>{r(n.map(m=>m.id===p?{...m,checked:!m.checked}:m))},d=p=>{r(n.filter(m=>m.id!==p))},h=n.filter(p=>p.checked).length;return t?f.jsxs("div",{className:"fixed inset-x-0 top-80 flex items-start justify-center z-[200] mt-4",children:[f.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:l,style:{animation:o?"fadeIn 0.2s ease-out forwards":"fadeOut 0.2s ease-out forwards"}}),f.jsxs("div",{className:"relative w-full max-w-md mx-4 bg-white rounded-2xl p-8 shadow-xl border border-gray-100",style:{animation:o?"slideIn 0.2s ease-out forwards":"slideOut 0.2s ease-out forwards"},children:[f.jsxs("div",{className:"text-xl font-semibold text-design-black dark:text-design-white flex justify-between items-center mb-6",children:[f.jsxs("span",{children:[f.jsx(D,{children:"Checklist"})," (",h,"/",n.length,")"]}),f.jsx("button",{onClick:l,className:"text-gray-400 hover:text-semantic-error rounded-full hover:bg-semantic-error-light transition-colors p-1",children:f.jsx(an,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"space-y-4",children:n.map(p=>f.jsxs("div",{className:"flex items-center group hover:bg-primary-light/30 p-2 rounded-lg transition-all",children:[f.jsx("button",{onClick:()=>u(p.id),className:"flex-shrink-0 mr-3 text-gray-400 hover:text-primary transition-colors",children:p.checked?f.jsx(Wu,{className:"h-5 w-5 text-primary"}):f.jsx(Lz,{className:"h-5 w-5"})}),f.jsx("span",{className:`flex-grow ${p.checked?"line-through text-gray-400":"text-gray-700 dark:text-design-white"}`,children:p.text}),f.jsx("button",{onClick:()=>d(p.id),className:"flex-shrink-0 ml-2 text-gray-400 hover:text-semantic-error opacity-0 group-hover:opacity-100 transition-all hover:scale-110",children:f.jsx(an,{className:"h-4 w-4"})})]},p.id))}),f.jsx("div",{className:"mt-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"text",value:s,onChange:p=>i(p.target.value),placeholder:"Add new item...",className:"flex-grow px-4 py-2 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all dark:bg-design-black/50 dark:border-design-greyOutlines/20",onKeyDown:p=>{p.key==="Enter"&&c()}}),f.jsx("button",{onClick:c,className:"px-4 py-2 bg-design-primaryPurple text-white rounded-r-lg hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-primary transition-all hover:scale-105",children:f.jsx(Ks,{className:"h-5 w-5"})})]})})]}),f.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes fadeOut {
          from {
            opacity: 1;
          }
          to {
            opacity: 0;
          }
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        @keyframes slideOut {
          from {
            opacity: 1;
            transform: scale(1);
          }
          to {
            opacity: 0;
            transform: scale(0.95);
          }
        }
      `})]}):null}function gQ({value:t,onChange:e,className:n=""}){const[r,s]=g.useState(!1),[i,o]=g.useState(t?uu(t):new Date),a=t?Xn(uu(t),"MMM d, yyyy"):f.jsx(D,{children:"Set due date"}),l=jD({start:vx(i),end:vp(i)}),c=()=>o(RD(i,1)),u=()=>o(cu(i,1)),d=m=>{e(Xn(m,"yyyy-MM-dd")),s(!1)},h=[{label:f.jsx(D,{children:"Today"}),date:new Date},{label:f.jsx(D,{children:"Next month"}),date:cu(new Date,1)},{label:f.jsx(D,{children:"In 2 months"}),date:cu(new Date,2)}],p=()=>{e(null),s(!1)};return f.jsxs("div",{className:`relative ${n}`,children:[f.jsxs(J.button,{onClick:()=>s(!r),className:"inline-flex items-center text-base text-design-black border-none transition-all  ",whileHover:{scale:1.02},whileTap:{scale:.98},children:[a,f.jsx(ba,{className:`h-4 w-4 ml-2 text-gray-400 transition-transform duration-300 ${r?"rotate-180":""}`})]}),f.jsx(yt,{children:r&&f.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 z-10 mt-2 p-4 rounded-xl shadow-lg bg-white ring-1 ring-black ring-opacity-5 w-72",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("button",{onClick:c,className:"p-1 rounded-full hover:bg-gray-100",children:f.jsx(ab,{className:"h-5 w-5 text-gray-600"})}),f.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:f.jsx(D,{children:Xn(i,"MMMM yyyy")})}),f.jsx("button",{onClick:u,className:"p-1 rounded-full hover:bg-gray-100",children:f.jsx(lb,{className:"h-5 w-5 text-gray-600"})})]}),f.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(m=>f.jsx("div",{className:"text-center text-sm font-medium text-gray-400",children:f.jsx(D,{children:m})},m)),l.map((m,y)=>f.jsx(J.button,{onClick:()=>d(m),className:`
                    p-2 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-design-primaryPurple
                    ${DD(m,i)?ug(m,uu(t||""))?"bg-design-primaryPurple text-white":p1(m)?"bg-design-primaryPurple/20 text-design-primaryPurple":"text-gray-700 hover:bg-gray-100":"text-gray-300"}
                  `,whileHover:{scale:1.1},whileTap:{scale:.95},children:Xn(m,"d")},m.toString()))]}),f.jsxs("div",{className:"space-y-2",children:[h.map(m=>f.jsx(J.button,{onClick:()=>d(m.date),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:m.label},m.label)),f.jsxs(J.button,{onClick:p,className:"w-full text-left px-3 py-2 text-sm text-red-500 hover:bg-red-50 rounded-md transition-colors flex items-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:[f.jsx(an,{className:"h-4 w-4 mr-2"}),f.jsx(D,{children:"Clear date"})]})]})]})})]})}async function yQ(t,e,n){const{data:r,error:s}=await oe.from("cards").insert([{column_id:t,title:e.title,description:e.description,priority:e.priority,labels:e.labels||[],attachments:e.attachments||[],position:e.position,account_id:n}]).select().single();if(s)throw s;const i=wa(r);return{...i,attachments:(i==null?void 0:i.attachments)||[]}}async function pC(t,e){console.log("updates in card service updateCard: ",e);const{error:n}=await oe.from("cards").update({title:e.title,checklist:e.checklist,description:e.description,column_id:e.column_id,labels:e.labels,priority:e.priority,due_date:e.due_date,assignee:e.assignee,position:e.position,completed:e.completed,archived:e.archived,attachments:e.attachments,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n}async function vQ(t,e){const{error:n}=await oe.from("cards").delete().eq("id",t);if(n)throw n}const xQ=async(t,e,n)=>{const{data:r,error:s}=await oe.from("cards").update({column_id:e,position:n}).eq("id",t);if(s)throw s;return r},Wy=async t=>{const e=t.map(r=>oe.from("cards").update({position:r.position,column_id:r.column_id}).eq("id",r.id)),n=await Promise.all(e);for(const{error:r}of n)if(r)throw r;return{success:!0}},Gy=async(t,e,n)=>{let r,s;switch(t){case"add":({data:r,error:s}=await oe.from("comments").insert({card_id:e,text:n.text,author:n.author,user_id:n.user_id,created_at:n.created_at}));break;case"edit":({data:r,error:s}=await oe.from("comments").update({text:n.text,updated_at:n.editedAt}).eq("id",n.id).eq("card_id",e).eq("account_id",n.account_id));break;case"delete":console.log("comment in updateComment: ",n),{data:r,error:s}=await oe.from("comments").delete().eq("account_id",n.account_id).eq("id",n.commentId);break;default:throw new Error("Invalid action")}if(s)throw s;return r};function zt(t){this.content=t}zt.prototype={constructor:zt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new zt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new zt(n)},addToStart:function(t,e){return new zt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new zt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new zt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=zt.from(t),t.size?new zt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=zt.from(t),t.size?new zt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=zt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};zt.from=function(t){if(t instanceof zt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new zt(e)};function yP(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=yP(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function vP(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=vP(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class U{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new U(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=l}return new U(r,s)}cutByIndex(e,n){return e==n?U.empty:e==0&&n==this.content.length?this:new U(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new U(s,i)}addToStart(e){return new U([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new U(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return yP(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return vP(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Af(0,e);if(e==this.size)return Af(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=e)return o==e||n>0?Af(r+1,o):Af(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return U.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new U(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return U.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new U(n||e,r)}static from(e){if(!e)return U.empty;if(e instanceof U)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new U([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}U.empty=new U([],0);const Yy={index:0,offset:0};function Af(t,e){return Yy.index=t,Yy.offset=e,Yy}function Tp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Tp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Tp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Be=class kx{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Tp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return kx.none;if(e instanceof kx)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Be.none=[];class Cp extends Error{}class ee{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=wP(this.content,e+this.openStart,n);return r&&new ee(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ee(xP(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ee.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(U.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new ee(e,r,s)}}ee.empty=new ee(U.empty,0,0);function xP(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(s==e||i.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(xP(i.content,e-s-1,n-s-1)))}function wP(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=wP(o.content,e-i-1,n);return a&&t.replaceChild(s,o.copy(a))}function wQ(t,e,n){if(n.openStart>t.depth)throw new Cp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Cp("Inconsistent open depths");return bP(t,e,n,0)}function bP(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=bP(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Jo(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=bQ(n,t);return Jo(i,kP(t,o,a,e,r))}else return Jo(i,Np(t,e,r))}function SP(t,e){if(!e.type.compatibleContent(t.type))throw new Cp("Cannot join "+e.type.name+" onto "+t.type.name)}function Ex(t,e,n){let r=t.node(n);return SP(r,e.node(n)),r}function Ko(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function pu(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Ko(t.nodeAfter,r),i++));for(let a=i;a<o;a++)Ko(s.child(a),r);e&&e.depth==n&&e.textOffset&&Ko(e.nodeBefore,r)}function Jo(t,e){return t.type.checkContent(e),t.copy(e)}function kP(t,e,n,r,s){let i=t.depth>s&&Ex(t,e,s+1),o=r.depth>s&&Ex(n,r,s+1),a=[];return pu(null,t,s,a),i&&o&&e.index(s)==n.index(s)?(SP(i,o),Ko(Jo(i,kP(t,e,n,r,s+1)),a)):(i&&Ko(Jo(i,Np(t,e,s+1)),a),pu(e,n,s,a),o&&Ko(Jo(o,Np(n,r,s+1)),a)),pu(r,null,s,a),new U(a)}function Np(t,e,n){let r=[];if(pu(null,t,n,r),t.depth>n){let s=Ex(t,e,n+1);Ko(Jo(s,Np(t,e,n+1)),r)}return pu(e,null,n,r),new U(r)}function bQ(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(U.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class id{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Be.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Mp(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(r.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new id(n,r,i)}static resolveCached(e,n){let r=mC.get(e);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else mC.set(e,r=new SQ);let s=r.elts[r.i]=id.resolve(e,n);return r.i=(r.i+1)%kQ,s}}class SQ{constructor(){this.elts=[],this.i=0}}const kQ=12,mC=new WeakMap;class Mp{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const EQ=Object.create(null);let Hi=class Tx{constructor(e,n,r,s=Be.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||U.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Tp(this.attrs,n||e.defaultAttrs||EQ)&&Be.sameSet(this.marks,r||Be.none)}copy(e=null){return e==this.content?this:new Tx(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Tx(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ee.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new ee(c,s.depth-o,i.depth-o)}replace(e,n,r){return wQ(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return id.resolveCached(this,e)}resolveNoCache(e){return id.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),EP(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=U.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Be.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Be.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=U.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Hi.prototype.text=void 0;class jp extends Hi{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):EP(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new jp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new jp(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function EP(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ua{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new TQ(e,n);if(r.next==null)return ua.empty;let s=TP(r);r.next&&r.err("Unexpected trailing text");let i=LQ(AQ(s));return DQ(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return U.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let h=i(d,a.concat(u));if(h)return h}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}ua.empty=new ua(!0);class TQ{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function TP(t){let e=[];do e.push(CQ(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function CQ(t){let e=[];do e.push(NQ(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function NQ(t){let e=OQ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=MQ(t,e);else break;return e}function gC(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function MQ(t,e){let n=gC(t),r=n;return t.eat(",")&&(t.next!="}"?r=gC(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function jQ(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function OQ(t){if(t.eat("(")){let e=TP(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=jQ(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function AQ(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),s(i(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return s(i(o.expr,a),l),s(i(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),s(i(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function CP(t,e){return e-t}function yC(t,e){let n=[];return r(e),n.sort(CP);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&n.indexOf(l)==-1&&r(l)}}}function LQ(t){let e=Object.create(null);return n(yC(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);yC(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new ua(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(CP);i.next.push({type:s[o][0],next:e[a.join(",")]||n(a)})}return i}}function DQ(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function NP(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function MP(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function jP(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function OP(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new RQ(t,r,e[r]);return n}let vC=class AP{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=OP(e,r.attrs),this.defaultAttrs=NP(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ua.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:MP(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Hi(this,this.computeAttrs(e),U.from(n),Be.setFrom(r))}createChecked(e=null,n,r){return n=U.from(n),this.checkContent(n),new Hi(this,this.computeAttrs(e),n,Be.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=U.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(U.empty,!0);return i?new Hi(this,e,n.append(i),Be.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){jP(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Be.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new AP(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function PQ(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class RQ{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?PQ(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class vg{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=OP(e,s.attrs),this.excluded=null;let i=NP(this.attrs);this.instance=i?new Be(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Be(this,MP(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new vg(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){jP(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class LP{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=zt.from(e.nodes),n.marks=zt.from(e.marks||{}),this.nodes=vC.compile(this.spec.nodes,this),this.marks=vg.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=ua.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?xC(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:xC(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof vC){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new jp(r,r.defaultAttrs,e,Be.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Hi.fromJSON(this,e)}markFromJSON(e){return Be.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function xC(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function IQ(t){return t.tag!=null}function _Q(t){return t.style!=null}class Wi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(IQ(s))this.tags.push(s);else if(_Q(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new bC(this,n,!1);return r.addAll(e,Be.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new bC(this,n,!0);return r.addAll(e,Be.none,n.from,n.to),ee.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(zQ(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=SC(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=SC(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Wi(e,Wi.schemaRules(e)))}}const DP={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$Q={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},PP={ol:!0,ul:!0},od=1,Cx=2,mu=4;function wC(t,e,n){return e!=null?(e?od:0)|(e==="full"?Cx:0):t&&t.whitespace=="pre"?od|Cx:n&~mu}class Lf{constructor(e,n,r,s,i,o){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=Be.none,this.match=i||(o&mu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(U.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&od)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=U.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(U.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!DP.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class bC{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,o=wC(null,n.preserveWhitespace,0)|(r?mu:0);s?i=new Lf(s.type,s.attrs,Be.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new Lf(null,null,Be.none,!0,null,o):i=new Lf(e.schema.topNodeType,null,Be.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&Cx?"full":this.localPreserveWS||(s.options&od)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;PP.hasOwnProperty(o)&&this.parser.normalizeLists&&FQ(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:$Q.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(DP.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n){let r,s;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,s=o,!a.length)||o.solid)break}if(!r)return null;this.sync(s);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Be.none;for(let o of r.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):kC(o.type,e.type))&&(i=o.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=wC(e,i,o.options);o.options&mu&&o.content.length==0&&(a|=mu);let l=Be.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):kC(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Lf(e,n,l,s,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=od)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function FQ(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&PP.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function zQ(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function SC(t){let e={};for(let n in t)e[n]=t[n];return e}function kC(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}class Ea{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=qy(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=mh(qy(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&mh(qy(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return mh(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ea(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=EC(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return EC(e.marks)}}function EC(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function qy(t){return t.document||window.document}const TC=new WeakMap;function BQ(t){let e=TC.get(t);return e===void 0&&TC.set(t,e=UQ(t)),e}function UQ(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function mh(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=BQ(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,l=n?t.createElementNS(n,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=mh(t,h,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const RP=65535,IP=Math.pow(2,16);function VQ(t,e){return t+e*IP}function CC(t){return t&RP}function HQ(t){return(t-(t&RP))/IP}const _P=1,$P=2,gh=4,FP=8;class Nx{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&FP)>0}get deletedBefore(){return(this.delInfo&(_P|gh))>0}get deletedAfter(){return(this.delInfo&($P|gh))>0}get deletedAcross(){return(this.delInfo&gh)>0}}class Jn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Jn.empty)return Jn.empty}recover(e){let n=0,r=CC(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+HQ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:n:n,p=l+s+(h<0?0:u);if(r)return p;let m=e==(n<0?l:d)?null:VQ(a/3,e-l),y=e==l?$P:e==d?_P:gh;return(n<0?e!=l:e!=d)&&(y|=FP),new Nx(p,y,m)}s+=u-c}return r?e+s:new Nx(e+s,0,null)}touches(e,n){let r=0,s=CC(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+n],u=this.ranges[s+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Jn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Jn.empty:new Jn(e<0?[0,-e,0]:[0,0,e])}}Jn.empty=new Jn([]);class dl{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new dl(this.maps,this.mirror,e,n)}copy(){return new dl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new dl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return r?e:new Nx(e,s,null)}}const Ky=Object.create(null);class ln{getMap(){return Jn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ky[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ky)throw new RangeError("Duplicate use of step JSON ID "+e);return Ky[e]=n,n.prototype.jsonID=e,n}}class wt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new wt(e,null)}static fail(e){return new wt(null,e)}static fromReplace(e,n,r,s){try{return wt.ok(e.replace(n,r,s))}catch(i){if(i instanceof Cp)return wt.fail(i.message);throw i}}}function S1(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(S1(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return U.fromArray(r)}class Li extends ln{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new ee(S1(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return wt.fromReplace(e,this.from,this.to,i)}invert(){return new us(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Li(n.pos,r.pos,this.mark)}merge(e){return e instanceof Li&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Li(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Li(n.from,n.to,e.markFromJSON(n.mark))}}ln.jsonID("addMark",Li);class us extends ln{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ee(S1(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return wt.fromReplace(e,this.from,this.to,r)}invert(){return new Li(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new us(n.pos,r.pos,this.mark)}merge(e){return e instanceof us&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new us(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new us(n.from,n.to,e.markFromJSON(n.mark))}}ln.jsonID("removeMark",us);class Di extends ln{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return wt.fromReplace(e,this.pos,this.pos+1,new ee(U.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Di(this.pos,n.marks[s]);return new Di(this.pos,this.mark)}}return new Rl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Di(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Di(n.pos,e.markFromJSON(n.mark))}}ln.jsonID("addNodeMark",Di);class Rl extends ln{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return wt.fromReplace(e,this.pos,this.pos+1,new ee(U.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Di(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Rl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Rl(n.pos,e.markFromJSON(n.mark))}}ln.jsonID("removeNodeMark",Rl);class At extends ln{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Mx(e,this.from,this.to)?wt.fail("Structure replace would overwrite content"):wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Jn([this.from,this.to-this.from,this.slice.size])}invert(e){return new At(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new At(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof At)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new At(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new At(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new At(n.from,n.to,ee.fromJSON(e,n.slice),!!n.structure)}}ln.jsonID("replace",At);class Dt extends ln{constructor(e,n,r,s,i,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Mx(e,this.from,this.gapFrom)||Mx(e,this.gapTo,this.to)))return wt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?wt.fromReplace(e,this.from,this.to,r):wt.fail("Content does not fit in gap")}getMap(){return new Jn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Dt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Dt(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Dt(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}ln.jsonID("replaceAround",Dt);function Mx(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function WQ(t,e,n,r){let s=[],i=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(m)||(o&&o.to==h&&o.mark.eq(d[y])?o.to=p:s.push(o=new us(h,p,d[y])));a&&a.to==h?a.to=p:i.push(a=new Li(h,p,r))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function GQ(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(r instanceof vg){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let p=0;p<s.length;p++){let m=s[p];m.step==i-1&&d.eq(s[p].style)&&(h=m)}h?(h.to=c,h.step=i):s.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>t.step(new us(o.from,o.to,o.style)))}function k1(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new At(a,u,ee.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new us(a,u,c.marks[h]));if(s&&c.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(c.text);)m||(m=new ee(U.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new At(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(U.empty,!0);t.replace(a,a,new ee(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function YQ(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ac(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!YQ(s,i,o))break}return null}function qQ(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),a=s.after(i+1),l=o,c=a,u=U.empty,d=0;for(let m=i,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,u=U.from(r.node(m).copy(u)),d++):l--;let h=U.empty,p=0;for(let m=i,y=!1;m>n;m--)y||s.after(m+1)<s.end(m)?(y=!0,h=U.from(s.node(m).copy(h)),p++):c++;t.step(new Dt(l,c,o,a,new ee(u.append(h),d,p),u.size-d,!0))}function E1(t,e,n=null,r=t){let s=KQ(t,e),i=s&&JQ(r,e);return i?s.map(NC).concat({type:e,attrs:n}).concat(i.map(NC)):null}function NC(t){return{type:t,attrs:null}}function KQ(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function JQ(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function QQ(t,e,n){let r=U.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=U.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new Dt(s,i,s,i,new ee(r,0,0),n.length,!0))}function XQ(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,l)&&ZQ(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&BP(t,o,a,i),k1(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new Dt(d,h,d+1,h-1,new ee(U.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&zP(t,o,a,i),!1}})}function zP(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(r).map(n+1+i+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function BP(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function ZQ(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function eX(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Dt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new ee(U.from(o),0,0),1,!0))}function fl(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>i;c--,u--){let d=s.node(c),h=s.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(h,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let y=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!y.type.validContent(p))return!1}let a=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function tX(t,e,n=1,r){let s=t.doc.resolve(e),i=U.empty,o=U.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){i=U.from(s.node(a).copy(i));let u=r&&r[c];o=U.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}t.step(new At(e,e,new ee(i.append(o),n,n),!0))}function uo(t,e){let n=t.resolve(e),r=n.index();return UP(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function nX(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function UP(t,e){return!!(t&&e&&!t.isLeaf&&nX(t,e))}function xg(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,a=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),a++,o=r.node(s).maybeChild(a)):(i=r.node(s).maybeChild(a-1),o=r.node(s+1)),i&&!i.isTextblock&&UP(i,o)&&r.node(s).canReplace(a,a+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function rX(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),o=i.node().type;if(s&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(s);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);BP(t,u.node(),u.before(),a)}o.inlineContent&&k1(t,e+n-1,o,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new At(c,l.map(e+n,-1),ee.empty,!0)),r===!0){let u=t.doc.resolve(c);zP(t,u.node(),u.before(),t.steps.length)}return t}function sX(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function VP(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function wg(t,e,n=e,r=ee.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return HP(s,i,r)?new At(e,n,r):new iX(s,i,r).fit()}function HP(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class iX{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=U.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=U.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new ee(i,o,a);return e>-1?new Dt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new At(r.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Jy(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(U.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Jy(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ee(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Jy(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new ee(Uc(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ee(Uc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[n];if(s){for(let y=0;y<s.childCount;y++)u.push(s.child(y));d=d.matchFragment(s)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let y=a.child(c),x=d.matchType(y.type);if(!x)break;c++,(c>1||l==0||y.content.size)&&(d=x,u.push(WP(y.mark(h.allowedMarks(y.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=Vc(this.placed,n,U.from(u)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=a;y<p;y++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=m?e==0?ee.empty:new ee(Uc(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new ee(Uc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Qy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Qy(e,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Qy(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Vc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Vc(this.placed,this.depth,U.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(U.empty,!0);n.childCount&&(this.placed=Vc(this.placed,this.frontier.length,n))}}function Uc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Uc(t.firstChild.content,e-1,n)))}function Vc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Vc(t.lastChild.content,e-1,n)))}function Jy(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function WP(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,WP(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(U.empty,!0)))),t.copy(r)}function Qy(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!oX(n,i.content,o)?a:null}function oX(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function aX(t){return t.spec.defining||t.spec.definingForContent}function lX(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(HP(s,i,r))return t.step(new At(e,n,r));let o=YP(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let h=s.depth,p=s.pos-1;h>0;h--,p--){let m=s.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(h)>-1?a=h:s.before(h)==p&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,p=0;;p++){let m=h.firstChild;if(c.push(m),p==r.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let p=c[h],m=aX(p.type);if(m&&!p.sameMarkup(s.node(Math.abs(a)-1)))u=h;else if(m||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+u+1)%(r.openStart+1),m=c[p];if(m)for(let y=0;y<o.length;y++){let x=o[(y+l)%o.length],v=!0;x<0&&(v=!1,x=-x);let w=s.node(x-1),b=s.index(x-1);if(w.canReplaceWith(b,b,m.type,m.marks))return t.replace(s.before(x),v?i.after(x):n,new ee(GP(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let p=o[h];p<0||(e=s.before(p),n=i.after(p))}}function GP(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(GP(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(U.empty,!0))}return t}function cX(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=sX(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ee(U.from(r),0,0))}function uX(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=YP(r,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return t.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function YP(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class hl extends ln{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return wt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return wt.fromReplace(e,this.pos,this.pos+1,new ee(U.from(s),0,n.isLeaf?0:1))}getMap(){return Jn.empty}invert(e){return new hl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new hl(n.pos,n.attr,n.value)}}ln.jsonID("attr",hl);class ad extends ln{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return wt.ok(r)}getMap(){return Jn.empty}invert(e){return new ad(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ad(n.attr,n.value)}}ln.jsonID("docAttr",ad);let Il=class extends Error{};Il=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Il.prototype=Object.create(Error.prototype);Il.prototype.constructor=Il;Il.prototype.name="TransformError";class qP{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new dl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Il(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ee.empty){let s=wg(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new ee(U.from(r),0,0))}delete(e,n){return this.replace(e,n,ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return lX(this,e,n,r),this}replaceRangeWith(e,n,r){return cX(this,e,n,r),this}deleteRange(e,n){return uX(this,e,n),this}lift(e,n){return qQ(this,e,n),this}join(e,n=1){return rX(this,e,n),this}wrap(e,n){return QQ(this,e,n),this}setBlockType(e,n=e,r,s=null){return XQ(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return eX(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new hl(e,n,r)),this}setDocAttribute(e,n){return this.step(new ad(e,n)),this}addNodeMark(e,n){return this.step(new Di(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Be)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Rl(e,n)),this}split(e,n=1,r){return tX(this,e,n,r),this}addMark(e,n,r){return WQ(this,e,n,r),this}removeMark(e,n,r){return GQ(this,e,n,r),this}clearIncompatible(e,n,r){return k1(this,e,n,r),this}}const Xy=Object.create(null);class we{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new dX(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ee.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?ee.empty:n),a==0&&OC(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),OC(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new ge(e):Da(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?Da(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Da(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Sr(e.node(0))}static atStart(e){return Da(e,e,0,0,1)||new Sr(e)}static atEnd(e){return Da(e,e,e.content.size,e.childCount,-1)||new Sr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Xy[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Xy)throw new RangeError("Duplicate use of selection JSON ID "+e);return Xy[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ge.between(this.$anchor,this.$head).getBookmark()}}we.prototype.visible=!0;class dX{constructor(e,n){this.$from=e,this.$to=n}}let MC=!1;function jC(t){!MC&&!t.parent.inlineContent&&(MC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ge extends we{constructor(e,n=e){jC(e),jC(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return we.near(r);let s=e.resolve(n.map(this.anchor));return new ge(s.parent.inlineContent?s:r,r)}replace(e,n=ee.empty){if(super.replace(e,n),n==ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ge&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new bg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ge(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=we.findFrom(n,r,!0)||we.findFrom(n,-r,!0);if(i)n=i.$head;else return we.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(we.findFrom(e,-r,!0)||we.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ge(e,n)}}we.jsonID("text",ge);class bg{constructor(e,n){this.anchor=e,this.head=n}map(e){return new bg(e.map(this.anchor),e.map(this.head))}resolve(e){return ge.between(e.resolve(this.anchor),e.resolve(this.head))}}class ue extends we{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?we.near(i):new ue(i)}content(){return new ee(U.from(this.node),0,0)}eq(e){return e instanceof ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new T1(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ue(e.resolve(n.anchor))}static create(e,n){return new ue(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ue.prototype.visible=!1;we.jsonID("node",ue);class T1{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new bg(r,r):new T1(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ue.isSelectable(r)?new ue(n):we.near(n)}}class Sr extends we{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ee.empty){if(n==ee.empty){e.delete(0,e.doc.content.size);let r=we.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Sr(e)}map(e){return new Sr(e)}eq(e){return e instanceof Sr}getBookmark(){return fX}}we.jsonID("all",Sr);const fX={map(){return this},resolve(t){return new Sr(t)}};function Da(t,e,n,r,s,i=!1){if(e.inlineContent)return ge.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&ue.isSelectable(a))return ue.create(t,n-(s<0?a.nodeSize:0))}else{let l=Da(t,a,n+s,s<0?a.childCount:0,s,i);if(l)return l}n+=a.nodeSize*s}return null}function OC(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof At||s instanceof Dt))return;let i=t.mapping.maps[r],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const AC=1,Df=2,LC=4;class hX extends qP{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|AC)&~Df,this.storedMarks=null,this}get selectionSet(){return(this.updated&AC)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Df,this}ensureMarks(e){return Be.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Df)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Df,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Be.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(we.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=LC,this}get scrolledIntoView(){return(this.updated&LC)>0}}function DC(t,e){return!e||!t?t:t.bind(e)}class Hc{constructor(e,n,r){this.name=e,this.init=DC(n.init,r),this.apply=DC(n.apply,r)}}const pX=[new Hc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Hc("selection",{init(t,e){return t.selection||we.atStart(e.doc)},apply(t){return t.selection}}),new Hc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Hc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Zy{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=pX.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Hc(r.key,r.spec.state,r))})}}class Za{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Za(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new hX(this)}static create(e){let n=new Zy(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Za(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Zy(this.schema,e.plugins),r=n.fields,s=new Za(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Zy(e.schema,e.plugins),i=new Za(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Hi.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=we.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=c.fromJSON.call(l,e,n[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function KP(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=KP(s,e,{})),n[r]=s}return n}class Yt{constructor(e){this.spec=e,this.props={},e.props&&KP(e.props,this,this.props),this.key=e.key?e.key.key:JP("plugin")}getState(e){return e[this.key]}}const e0=Object.create(null);function JP(t){return t in e0?t+"$"+ ++e0[t]:(e0[t]=0,t+"$")}class or{constructor(e="key"){this.key=JP(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ut=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ld=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let jx=null;const Ps=function(t,e,n){let r=jx||(jx=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},mX=function(){jx=null},da=function(t,e,n,r){return n&&(PC(t,e,n,r,-1)||PC(t,e,n,r,1))},gX=/^(img|br|input|textarea|hr)$/i;function PC(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:vr(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Gd(t)||gX.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ut(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?vr(t):0}else return!1}}function vr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yX(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=vr(t)}else if(t.parentNode&&!Gd(t))e=Ut(t),t=t.parentNode;else return null}}function vX(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Gd(t))e=Ut(t)+1,t=t.parentNode;else return null}}function xX(t,e,n){for(let r=e==0,s=e==vr(t);r||s;){if(t==n)return!0;let i=Ut(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==vr(t)}}function Gd(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Sg=function(t){return t.focusNode&&da(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Oo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function wX(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bX(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(vr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(vr(r.startContainer),r.startOffset)}}}const ys=typeof navigator<"u"?navigator:null,RC=typeof document<"u"?document:null,fo=ys&&ys.userAgent||"",Ox=/Edge\/(\d+)/.exec(fo),QP=/MSIE \d/.exec(fo),Ax=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fo),Vn=!!(QP||Ax||Ox),Gi=QP?document.documentMode:Ax?+Ax[1]:Ox?+Ox[1]:0,Kr=!Vn&&/gecko\/(\d+)/i.test(fo);Kr&&+(/Firefox\/(\d+)/.exec(fo)||[0,0])[1];const Lx=!Vn&&/Chrome\/(\d+)/.exec(fo),sn=!!Lx,XP=Lx?+Lx[1]:0,xn=!Vn&&!!ys&&/Apple Computer/.test(ys.vendor),_l=xn&&(/Mobile\/\w+/.test(fo)||!!ys&&ys.maxTouchPoints>2),pr=_l||(ys?/Mac/.test(ys.platform):!1),SX=ys?/Win/.test(ys.platform):!1,$s=/Android \d/.test(fo),Yd=!!RC&&"webkitFontSmoothing"in RC.documentElement.style,kX=Yd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function EX(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function js(t,e){return typeof t=="number"?t:t[e]}function TX(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function IC(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;o=ld(o)){if(o.nodeType!=1)continue;let a=o,l=a==i.body,c=l?EX(i):TX(a),u=0,d=0;if(e.top<c.top+js(r,"top")?d=-(c.top-e.top+js(s,"top")):e.bottom>c.bottom-js(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+js(s,"top")-c.top:e.bottom-c.bottom+js(s,"bottom")),e.left<c.left+js(r,"left")?u=-(c.left-e.left+js(s,"left")):e.right>c.right-js(r,"right")&&(u=e.right-c.right+js(s,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,y=a.scrollTop-p;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function CX(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(i,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:ZP(t.dom)}}function ZP(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ld(r));return e}function NX({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;eR(n,r==0?0:r-e)}function eR(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Aa=null;function MX(t){if(t.setActive)return t.setActive();if(Aa)return t.focus(Aa);let e=ZP(t);t.focus(Aa==null?{get preventScroll(){return Aa={preventScroll:!0},!0}}:void 0),Aa||(Aa=!1,eR(e,0))}function tR(t,e){let n,r=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Ps(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let y=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(y<r){n=u,r=y,s=y&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&y&&(i=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=d+1)}}return!n&&l&&(n=l,s=c,r=0),n&&n.nodeType==3?jX(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:tR(n,s)}function jX(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=fi(r,1);if(i.top!=i.bottom&&C1(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function C1(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function OX(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function AX(t,e,n){let{node:r,offset:s}=tR(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function LX(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?s=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function nR(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(C1(e,c))return nR(o,e,c)}}if((i=(i+1)%r)==s)break}return t}function DX(t,e){let n=t.dom.ownerDocument,r,s=0,i=bX(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!C1(e,c)||(o=nR(t.dom,e,c),!o))return null}if(xn)for(let c=o;r&&c;c=ld(c))c.draggable&&(r=void 0);if(o=OX(o,e),r){if(Kr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}let c;Yd&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=LX(t,r,s,e))}a==null&&(a=AX(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function _C(t){return t.top<t.bottom||t.left<t.right}function fi(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(_C(r))return r}return Array.prototype.find.call(n,_C)||t.getBoundingClientRect()}const PX=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function rR(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=Yd||Kr;if(r.nodeType==3)if(o&&(PX.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=fi(Ps(r,s,s),n);if(Kr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=fi(Ps(r,s-1,s-1),-1);if(c.top==l.top){let u=fi(Ps(r,s,s+1),-1);if(u.top!=l.top)return Cc(u,u.left<c.left)}}return l}else{let l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Cc(fi(Ps(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==vr(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return t0(l.getBoundingClientRect(),!1)}if(i==null&&s<vr(r)){let l=r.childNodes[s];if(l.nodeType==1)return t0(l.getBoundingClientRect(),!0)}return t0(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==vr(r))){let l=r.childNodes[s-1],c=l.nodeType==3?Ps(l,vr(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Cc(fi(c,1),!1)}if(i==null&&s<vr(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Ps(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Cc(fi(c,-1),!0)}return Cc(fi(r.nodeType==3?Ps(r):r,-n),n>=0)}function Cc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function t0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function sR(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function RX(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return sR(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=rR(t,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Ps(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const IX=/[\u0590-\u08ac]/;function _X(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=t.domSelection();return a?!IX.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:sR(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),x=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==y;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),x}):r.pos==r.start()||r.pos==r.end()}let $C=null,FC=null,zC=!1;function $X(t,e,n){return $C==e&&FC==n?zC:($C=e,FC=n,zC=n=="up"||n=="down"?RX(t,e,n):_X(t,e,n))}const kr=0,BC=1,zo=2,vs=3;class qd{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=kr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Ut(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let a=s.children[o];if(a.size){s=a;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>e||o instanceof oR){s=e-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof iR&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Ut(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Ut(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=Ut(h.dom)+1;break}e-=h.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Ut(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let p=0,m=0;p<this.children.length;p++){let y=this.children[p],x=m+y.size;if(i>m&&o<x)return y.setSelection(e-m-y.border,n-m-y.border,r,s);m=x}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Kr||xn)&&e==n){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let y=p,x;y;y=y.parentNode){if(x=y.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:Ut(x)+1});break}let v=y.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let y=p.childNodes[m-1];d=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Kr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||d&&xn)&&da(a.node,a.offset,u.anchorNode,u.anchorOffset)&&da(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||e==n)&&!d){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>n){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+i.border,l=o-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?zo:BC,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=vs:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?zo:vs}r=o}this.dirty=zo}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?zo:BC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class iR extends qd{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==kr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class FX extends qd{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class fa extends qd{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=Ea.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new fa(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&vs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=vs&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=kr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=kr}}slice(e,n,r){let s=fa.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=Px(i,n,o,r)),e>0&&(i=Px(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Yi extends qd{constructor(e,n,r,s,i,o,a,l,c){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(e,n,r,s,i,o){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,s),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Ea.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=cR(u,r,n),c?l=new zX(e,n,r,s,u,d||null,h,c,i,o+1):n.isText?new kg(e,n,r,s,u,h,i):new Yi(e,n,r,s,u,d||null,h,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>U.empty)}return e}matchesNode(e,n,r){return this.dirty==kr&&e.eq(this.node)&&Op(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new UX(this,o&&o.node,e);WX(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Be.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,s)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,h,s)||l.addNode(c,u,d,e,s),s+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==zo)&&(o&&this.protectLocalComposition(e,o),aR(this.contentDOM,this.children,e),_l&&GX(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof ge)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=YX(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new FX(this,i,n,s);e.input.compositionNodes.push(o),this.children=Px(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==vs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=kr}updateOuterDeco(e){if(Op(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=lR(this.dom,this.nodeDOM,Dx(this.outerDeco,this.node,n),Dx(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function UC(t,e,n,r,s){cR(r,e,t);let i=new Yi(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class kg extends Yi{constructor(e,n,r,s,i,o,a){super(e,n,r,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==vs||this.dirty!=kr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=kr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=kr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new kg(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=vs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class oR extends qd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class zX extends Yi{constructor(e,n,r,s,i,o,a,l,c,u){super(e,n,r,s,i,o,a,c,u),this.spec=l}update(e,n,r,s){if(this.dirty==vs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function aR(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=VC(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(a,r);if(o instanceof fa){let l=r?r.previousSibling:t.lastChild;aR(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=VC(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const gu=function(t){t&&(this.nodeName=t)};gu.prototype=Object.create(null);const Bo=[new gu];function Dx(t,e,n){if(t.length==0)return Bo;let r=n?Bo[0]:new gu,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new gu(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&s.length==1&&s.push(r=new gu(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function lR(t,e,n,r){if(n==Bo&&r==Bo)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=Bo[0]),s=l}BX(s,a||Bo[0],o)}return s}function BX(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function cR(t,e,n){return lR(t,t,Bo,Dx(e,n,t.nodeType!=1))}function Op(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function VC(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class UX{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=VX(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=kr,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=fa.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==vs&&o.dom==o.contentDOM&&(o.dirty=zo),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Yi){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=vs&&Op(n,l.outerDeco));if(!h&&l.update(e,n,r,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,n,r,s,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=zo,d.updateChildren(s,o+1),d.dirty=kr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Op(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let a=Yi.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,s,i){let o=Yi.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new iR(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof fa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof kg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((xn||sn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new oR(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function VX(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof fa)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function HX(t,e){return t.type.side-e.type.side}function WX(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let x=s[o++];x.widget&&(u?(d||(d=[u])).push(x):u=x)}if(u)if(d){d.sort(HX);for(let x=0;x<d.length;x++)n(d[x],c,!!l)}else n(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<t.childCount)p=c,h=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=i&&a.splice(x--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let m=i+h.nodeSize;if(h.isText){let x=m;o<s.length&&s[o].from<x&&(x=s[o].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<m&&(l=h.cut(x-i),h=h.cut(0,x-i),m=x,p=-1)}else for(;o<s.length&&s[o].to<m;)o++;let y=h.isInline&&!h.isLeaf?a.filter(x=>!x.inline):a.slice();r(h,y,e.forChild(i,h),p),i=m}}function GX(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function YX(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Px(t,e,n,r,s){let i=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),s&&(i.push(s),s=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function N1(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Sg(n)){for(l=o;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&ue.isSelectable(d)&&s.parent&&!(d.isInline&&xX(n.focusNode,n.focusOffset,s.dom))){let h=s.posBefore;c=new ue(o==h?a:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,h=o;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=h==t.state.selection.anchor?[h,d]:[d,h],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=M1(t,u,a,d)}return c}function uR(t){return t.editable?t.hasFocus():fR(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Vs(t,e=!1){let n=t.state.selection;if(dR(t,n),!!uR(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&sn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&da(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)KX(t);else{let{anchor:r,head:s}=n,i,o;HC&&!(n instanceof ge)&&(n.$from.parent.inlineContent||(i=WC(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=WC(t,n.to))),t.docView.setSelection(r,s,t,e),HC&&(i&&GC(i),o&&GC(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&qX(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const HC=xn||sn&&XP<63;function WC(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(xn&&s&&s.contentEditable=="false")return n0(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return n0(s);if(i)return n0(i)}}function n0(t){return t.contentEditable="true",xn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function GC(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function qX(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!uR(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function KX(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,Ut(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Vn&&Gi<=11&&(r.disabled=!0,r.disabled=!1)}function dR(t,e){if(e instanceof ue){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(YC(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else YC(t)}function YC(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function M1(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ge.between(e,n,r)}function qC(t){return t.editable&&!t.hasFocus()?!1:fR(t)}function fR(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function JX(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return da(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Rx(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&we.findFrom(i,e)}function vi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function KC(t,e,n){let r=t.state.selection;if(r instanceof ge)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return vi(t,new ge(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Rx(t.state,e);return s&&s instanceof ue?vi(t,s):!1}else if(!(pr&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ue.isSelectable(i)?vi(t,new ue(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Yd?vi(t,new ge(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ue&&r.node.isInline)return vi(t,new ge(e>0?r.$to:r.$from));{let s=Rx(t.state,e);return s?vi(t,s):!1}}}function Ap(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function La(t,e){return e<0?QX(t):XX(t)}function QX(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(Kr&&n.nodeType==1&&r<Ap(n)&&yu(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(yu(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(hR(n))break;{let a=n.previousSibling;for(;a&&yu(a,-1);)s=n.parentNode,i=Ut(a),a=a.previousSibling;if(a)n=a,r=Ap(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Ix(t,n,r):s&&Ix(t,s,i)}function XX(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Ap(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(yu(a,1))i=n,o=++r;else break}else{if(hR(n))break;{let a=n.nextSibling;for(;a&&yu(a,1);)i=a.parentNode,o=Ut(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=Ap(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Ix(t,i,o)}function hR(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ZX(t,e){for(;t&&e==t.childNodes.length&&!Gd(t);)e=Ut(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function eZ(t,e){for(;t&&!e&&!Gd(t);)e=Ut(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Ix(t,e,n){if(e.nodeType!=3){let i,o;(o=ZX(e,n))?(e=o,n=0):(i=eZ(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Sg(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Vs(t)},50)}function JC(t,e){let n=t.state.doc.resolve(e);if(!(sn||SX)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function QC(t,e,n){let r=t.state.selection;if(r instanceof ge&&!r.empty||n.indexOf("s")>-1||pr&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Rx(t.state,e);if(o&&o instanceof ue)return vi(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=r instanceof Sr?we.near(o,e):we.findFrom(o,e);return a?vi(t,a):!1}return!1}function XC(t,e){if(!(t.state.selection instanceof ge))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function ZC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function tZ(t){if(!xn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ZC(t,r,"true"),setTimeout(()=>ZC(t,r,"false"),20)}return!1}function nZ(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function rZ(t,e){let n=e.keyCode,r=nZ(e);if(n==8||pr&&n==72&&r=="c")return XC(t,-1)||La(t,-1);if(n==46&&!e.shiftKey||pr&&n==68&&r=="c")return XC(t,1)||La(t,1);if(n==13||n==27)return!0;if(n==37||pr&&n==66&&r=="c"){let s=n==37?JC(t,t.state.selection.from)=="ltr"?-1:1:-1;return KC(t,s,r)||La(t,s)}else if(n==39||pr&&n==70&&r=="c"){let s=n==39?JC(t,t.state.selection.from)=="ltr"?1:-1:1;return KC(t,s,r)||La(t,s)}else{if(n==38||pr&&n==80&&r=="c")return QC(t,-1,r)||La(t,-1);if(n==40||pr&&n==78&&r=="c")return tZ(t)||QC(t,1,r)||La(t,1);if(r==(pr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function j1(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||Ea.fromSchema(t.state.schema),a=xR(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=vR[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function pR(t,e,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,i||r,t)}),i)return e?new ee(U.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ee.empty;let d=t.someProp("clipboardTextParser",h=>h(e,s,r,t));if(d)a=d;else{let h=s.marks(),{schema:p}=t.state,m=Ea.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(m.serializeNode(p.text(y,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=aZ(n),Yd&&lZ(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Wi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!sZ.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=cZ(eN(a,+u[1],+u[2]),u[4]);else if(a=ee.maxOpen(iZ(a.content,s),!0),a.openStart||a.openEnd){let d=0,h=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=eN(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const sZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function iZ(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&gR(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=yR(o[o.length-1],i.length));let u=mR(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return U.from(o)}return t}function mR(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,U.from(t));return t}function gR(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=gR(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(U.from(mR(n,t,s+1))))}}function yR(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,yR(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(U.empty,!0);return t.copy(n.append(r))}function _x(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(i=0),s<r-1&&(a=_x(a,e,n,r,s+1,i)),s>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(U.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function eN(t,e,n){return e<t.openStart&&(t=new ee(_x(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ee(_x(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const vR={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let tN=null;function xR(){return tN||(tN=document.implementation.createHTMLDocument("title"))}let r0=null;function oZ(t){let e=window.trustedTypes;return e?(r0||(r0=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),r0.createHTML(t)):t}function aZ(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=xR().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&vR[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=oZ(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function lZ(t){let e=t.querySelectorAll(sn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function cZ(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=U.from(l.create(r[a+1],s)),i++,o++}return new ee(s,i,o)}const wn={},bn={},uZ={touchstart:!0,touchmove:!0};class dZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function fZ(t){for(let e in wn){let n=wn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{pZ(t,r)&&!O1(t,r)&&(t.editable||!(r.type in bn))&&n(t,r)},uZ[e]?{passive:!0}:void 0)}xn&&t.dom.addEventListener("input",()=>null),$x(t)}function Pi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function hZ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function $x(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>O1(t,r))})}function O1(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function pZ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function mZ(t,e){!O1(t,e)&&wn[e.type]&&(t.editable||!(e.type in bn))&&wn[e.type](t,e)}bn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!bR(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!($s&&sn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),_l&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Oo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||rZ(t,n)?n.preventDefault():Pi(t,"key")};bn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};bn.keypress=(t,e)=>{let n=e;if(bR(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||pr&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ge)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Eg(t){return{left:t.clientX,top:t.clientY}}function gZ(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function A1(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,a=>o>i.depth?a(t,n,i.nodeAfter,i.before(o),s,!0):a(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function pl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function yZ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ue.isSelectable(r)?(pl(t,new ue(n)),!0):!1}function vZ(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof ue&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(ue.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(pl(t,ue.create(t.state.doc,s)),!0):!1}function xZ(t,e,n,r,s){return A1(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?vZ(t,n):yZ(t,n))}function wZ(t,e,n,r){return A1(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function bZ(t,e,n,r){return A1(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||SZ(t,n,r)}function SZ(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(pl(t,ge.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)pl(t,ge.create(r,a+1,a+1+o.content.size));else if(ue.isSelectable(o))pl(t,ue.create(r,a));else continue;return!0}}function L1(t){return Lp(t)}const wR=pr?"metaKey":"ctrlKey";wn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=L1(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&gZ(n,t.input.lastClick)&&!n[wR]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let o=t.posAtCoords(Eg(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new kZ(t,o,n,!!r)):(i=="doubleClick"?wZ:bZ)(t,o.pos,o.inside,n)?n.preventDefault():Pi(t,"pointer"))};class kZ{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[wR],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof ue&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Kr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Pi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Vs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Eg(e))),this.updateAllowDefault(e),this.allowDefault||!n?Pi(this.view,"pointer"):xZ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||xn&&this.mightDrag&&!this.mightDrag.node.isAtom||sn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(pl(this.view,we.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Pi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Pi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}wn.touchstart=t=>{t.input.lastTouch=Date.now(),L1(t),Pi(t,"pointer")};wn.touchmove=t=>{t.input.lastTouch=Date.now(),Pi(t,"pointer")};wn.contextmenu=t=>L1(t);function bR(t,e){return t.composing?!0:xn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const EZ=$s?5e3:-1;bn.compositionstart=bn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ge&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Lp(t,!0),t.markCursor=null;else if(Lp(t,!e.selection.empty),Kr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}SR(t,EZ)};bn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,SR(t,20))};function SR(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Lp(t),e))}function kR(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=CZ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function TZ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=yX(e.focusNode,e.focusOffset),r=vX(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function CZ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Lp(t,e=!1){if(!($s&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),kR(t),e||t.docView&&t.docView.dirty){let n=N1(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function NZ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const cd=Vn&&Gi<15||_l&&kX<604;wn.copy=bn.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=cd?null:n.clipboardData,o=r.content(),{dom:a,text:l}=j1(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):NZ(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function MZ(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function jZ(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ud(t,r.value,null,s,e):ud(t,r.textContent,r.innerHTML,s,e)},50)}function ud(t,e,n,r,s){let i=pR(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||ee.empty)))return!0;if(!i)return!1;let o=MZ(i),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ER(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}bn.paste=(t,e)=>{let n=e;if(t.composing&&!$s)return;let r=cd?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ud(t,ER(r),r.getData("text/html"),s,n)?n.preventDefault():jZ(t,n)};class TR{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const CR=pr?"altKey":"ctrlKey";wn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Eg(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof ue?s.to-1:s.to))){if(r&&r.mightDrag)o=ue.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=ue.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=j1(t,a);(!n.dataTransfer.files.length||!sn||XP>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(cd?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",cd||n.dataTransfer.setData("text/plain",c),t.dragging=new TR(u,!n[CR],o)};wn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};bn.dragover=bn.dragenter=(t,e)=>e.preventDefault();bn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Eg(n));if(!s)return;let i=t.state.doc.resolve(s.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=pR(t,ER(n.dataTransfer),cd?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[CR]);if(t.someProp("handleDrop",m=>m(t,n,o||ee.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?VP(t.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&ue.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ue(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((y,x,v,w)=>m=w),c.setSelection(M1(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};wn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Vs(t)},20))};wn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};wn.beforeinput=(t,e)=>{if(sn&&$s&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Oo(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in bn)wn[t]=bn[t];function dd(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Dp{constructor(e,n){this.toDOM=e,this.spec=n||Qo,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new wr(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Dp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&dd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qi{constructor(e,n){this.attrs=e,this.spec=n||Qo}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new wr(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof qi&&dd(this.attrs,e.attrs)&&dd(this.spec,e.spec)}static is(e){return e.type instanceof qi}destroy(){}}class D1{constructor(e,n){this.attrs=e,this.spec=n||Qo}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new wr(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof D1&&dd(this.attrs,e.attrs)&&dd(this.spec,e.spec)}destroy(){}}class wr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new wr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new wr(e,e,new Dp(n,r))}static inline(e,n,r,s){return new wr(e,n,new qi(r,s))}static node(e,n,r,s){return new wr(e,n,new D1(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof qi}get widget(){return this.type instanceof Dp}}const Pa=[],Qo={};class Tt{constructor(e,n){this.local=e.length?e:Pa,this.children=n.length?n:Pa}static create(e,n){return n.length?Pp(n,e,0,Qo):Xt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,s+a,i)}}map(e,n,r){return this==Xt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Qo)}mapInner(e,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,s);l&&l.type.valid(n,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?OZ(this.children,o||[],e,n,r,s,i):o?new Tt(o.sort(Xo),Pa):Xt}add(e,n){return n.length?this==Xt?Tt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((a,l)=>{let c=l+r,u;if(u=MR(n,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,Pp(u,a,c+1,Qo)),i+=3}});let o=NR(i?jR(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Tt(o.length?this.local.concat(o).sort(Xo):this.local,s||this.children)}remove(e){return e.length==0||this==Xt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,l=r[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(o,a+1);c!=Xt?r[i+2]=c:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Tt(s,r):Xt}forChild(e,n){if(this==Xt)return this;if(n.isLeaf)return Tt.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof qi){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new Tt(s.sort(Xo),Pa);return r?new Ci([a,r]):a}return r||Xt}eq(e){if(this==e)return!0;if(!(e instanceof Tt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return P1(this.localsInner(e))}localsInner(e){if(this==Xt)return Pa;if(e.inlineContent||!this.local.some(qi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof qi||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Tt.empty=new Tt([],[]);Tt.removeOverlap=P1;const Xt=Tt.empty;class Ci{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Qo));return Ci.from(r)}forChild(e,n){if(n.isLeaf)return Tt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Xt&&(i instanceof Ci?r=r.concat(i.members):r.push(i))}return Ci.from(r)}eq(e){if(!(e instanceof Ci)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?P1(r?n:n.sort(Xo)):Pa}static from(e){switch(e.length){case 0:return Xt;case 1:return e[0];default:return new Ci(e.every(n=>n instanceof Tt)?e:e.reduce((n,r)=>n.concat(r instanceof Tt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function OZ(t,e,n,r,s,i,o){let a=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,p,m,y)=>{let x=y-m-(p-h);for(let v=0;v<a.length;v+=3){let w=a[v+1];if(w<0||h>w+u-d)continue;let b=a[v]+u-d;p>=b?a[v+1]=h<=b?-2:-1:h>=u&&x&&(a[v]+=x,a[v+1]+=x)}d+=x}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-s;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+i,-1),p=h-s,{index:m,offset:y}=r.content.findIndex(d),x=r.maybeChild(m);if(x&&y==d&&y+x.nodeSize==p){let v=a[c+2].mapInner(n,x,u+1,t[c]+i+1,o);v!=Xt?(a[c]=d,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=AZ(a,t,e,n,s,i,o),u=Pp(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let p=u.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Tt(e.sort(Xo),a)}function NR(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new wr(s.from+e,s.to+e,s.type))}return n}function AZ(t,e,n,r,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,s,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function MR(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function jR(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Pp(t,e,n,r){let s=[],i=!1;e.forEach((a,l)=>{let c=MR(t,a,l+n);if(c){i=!0;let u=Pp(c,a,n+l+1,r);u!=Xt&&s.push(l,l+a.nodeSize,u)}});let o=NR(i?jR(t):t,-n).sort(Xo);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new Tt(o,s):Xt}function Xo(t,e){return t.from-e.from||t.to-e.to}function P1(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),nN(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),nN(e,s,r.copy(i.from,r.to)));break}}}return e}function nN(t,e,n){for(;e<t.length&&Xo(n,t[e])>0;)e++;t.splice(e,0,n)}function s0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Xt&&e.push(r)}),t.cursorWrapper&&e.push(Tt.create(t.state.doc,[t.cursorWrapper.deco])),Ci.from(e)}const LZ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},DZ=Vn&&Gi<=11;class PZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class RZ{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new PZ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Vn&&Gi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),DZ&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,LZ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qC(this.view)){if(this.suppressingSelectionUpdates)return Vs(this.view);if(Vn&&Gi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&da(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=ld(i))n.add(i);for(let i=e.anchorNode;i;i=ld(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&qC(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Kr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!d||$Z(e,d)!=p)&&h.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Sg(r)&&(c=N1(e))&&c.eq(we.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Vs(e),this.currentSelection.set(r)):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),IZ(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Vs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Vn&&Gi<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h)}let o=s&&s.parentNode==e.target?Ut(s)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?Ut(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let rN=new WeakMap,sN=!1;function IZ(t){if(!rN.has(t)&&(rN.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Kr,sN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),sN=!0}}function iN(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return da(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function _Z(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return iN(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?iN(t,n):null}function $Z(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function FZ(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Sg(l)||c.push({node:l.focusNode,offset:l.focusOffset})),sn&&t.input.lastKeyCode===8)for(let x=i;x>s;x--){let v=r.childNodes[x-1],w=v.pmViewDesc;if(v.nodeName=="BR"&&!w){i=x;break}if(!w||w.size)break}let d=t.state.doc,h=t.someProp("domParser")||Wi.fromSchema(t.state.schema),p=d.resolve(o),m=null,y=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:zZ,context:p});if(c&&c[0].pos!=null){let x=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=x),m={anchor:x+o,head:v+o}}return{doc:y,sel:m,from:o,to:a}}function zZ(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(xn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||xn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const BZ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function UZ(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=N1(t,L);if(M&&!t.state.selection.eq(M)){if(sn&&$s&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",j=>j(t,Oo(13,"Enter"))))return;let N=t.state.tr.setSelection(M);L=="pointer"?N.setMeta("pointer",!0):L=="key"&&N.scrollIntoView(),i&&N.setMeta("composition",i),t.dispatch(N)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=FZ(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),h,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=WZ(d.content,c.doc.content,c.from,h,p);if(m&&t.input.domChangeCount++,(_l&&t.input.lastIOSEnter>Date.now()-225||$s)&&s.some(L=>L.nodeType==1&&!BZ.test(L.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",L=>L(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof ge&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let L=oN(t,t.state.doc,c.sel);if(L&&!L.eq(t.state.selection)){let M=t.state.tr.setSelection(L);i&&M.setMeta("composition",i),t.dispatch(M)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof ge&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Vn&&Gi<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let y=c.doc.resolveNoCache(m.start-c.from),x=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),w=y.sameParent(x)&&y.parent.inlineContent&&v.end()>=m.endA,b;if((_l&&t.input.lastIOSEnter>Date.now()-225&&(!w||s.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!w&&y.pos<c.doc.content.size&&!y.sameParent(x)&&(b=we.findFrom(c.doc.resolve(y.pos+1),1,!0))&&b.head==x.pos)&&t.someProp("handleKeyDown",L=>L(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&HZ(u,m.start,m.endA,y,x)&&t.someProp("handleKeyDown",L=>L(t,Oo(8,"Backspace")))){$s&&sn&&t.domObserver.suppressSelectionUpdates();return}sn&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),$s&&!w&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,x=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Oo(13,"Enter"))})},20));let S=m.start,k=m.endA,E,T,C;if(w){if(y.pos==x.pos)Vn&&Gi<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Vs(t),20)),E=t.state.tr.delete(S,k),T=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(C=VZ(y.parent.content.cut(y.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))E=t.state.tr,C.type=="add"?E.addMark(S,k,C.mark):E.removeMark(S,k,C.mark);else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let L=y.parent.textBetween(y.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",M=>M(t,S,k,L)))return;E=t.state.tr.insertText(L,S,k)}}if(E||(E=t.state.tr.replace(S,k,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let L=oN(t,E.doc,c.sel);L&&!(sn&&t.composing&&L.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(L.head==S||L.head==E.mapping.map(k)-1)||Vn&&L.empty&&L.head==S)&&E.setSelection(L)}T&&E.ensureMarks(T),i&&E.setMeta("composition",i),t.dispatch(E.scrollIntoView())}function oN(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:M1(t,e.resolve(n.anchor),e.resolve(n.head))}function VZ(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,a,l;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(U.from(c).eq(t))return{mark:a,type:o}}function HZ(t,e,n,r,s){if(n-e<=s.pos-r.pos||i0(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(i0(i,!0,!0));return!o.parent.isTextblock||o.pos>n||i0(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function i0(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function WZ(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));r-=o+l-i}if(o<i&&t.size<e.size){let l=r<=i&&r>=o?i-r:0;i-=l,i&&i<e.size&&aN(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&aN(t.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function aN(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class GZ{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new dZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(fN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=uN(this),cN(this),this.nodeViews=dN(this),this.docView=UC(this.state.doc,lN(this),s0(this),this.dom,this),this.domObserver=new RZ(this,(r,s,i,o)=>UZ(this,r,s,i,o)),this.domObserver.start(),fZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&$x(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(fN),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(kR(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=dN(this);qZ(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&$x(this),this.editable=uN(this),cN(this);let l=s0(this),c=lN(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(s.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&CX(this);if(o){this.domObserver.stop();let p=d&&(Vn||sn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&YZ(s.selection,e.selection);if(d){let m=sn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=TZ(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=UC(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&JX(this))?Vs(this,p):(dR(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&NX(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ue){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&IC(this,n.getBoundingClientRect(),e)}else IC(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new TR(e.slice,e.move,s<0?void 0:ue.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(Vn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&MX(this.dom),Vs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return DX(this,e)}coordsAtPos(e,n=1){return rR(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return $X(this,n||this.state,e)}pasteHTML(e,n){return ud(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ud(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return j1(this,e)}destroy(){this.docView&&(hZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],s0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mX())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mZ(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?xn&&this.root.nodeType===11&&wX(this.dom.ownerDocument)==this.dom&&_Z(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function lN(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[wr.node(0,t.state.doc.content.size,e)]}function cN(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:wr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function uN(t){return!t.someProp("editable",e=>e(t.state)===!1)}function YZ(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function dN(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function qZ(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function fN(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var no={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},KZ=typeof navigator<"u"&&/Mac/.test(navigator.platform),JZ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vt=0;Vt<10;Vt++)no[48+Vt]=no[96+Vt]=String(Vt);for(var Vt=1;Vt<=24;Vt++)no[Vt+111]="F"+Vt;for(var Vt=65;Vt<=90;Vt++)no[Vt]=String.fromCharCode(Vt+32),Rp[Vt]=String.fromCharCode(Vt);for(var o0 in no)Rp.hasOwnProperty(o0)||(Rp[o0]=no[o0]);function QZ(t){var e=KZ&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||JZ&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Rp:no)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const XZ=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function ZZ(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))XZ?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function eee(t){let e=Object.create(null);for(let n in t)e[ZZ(n)]=t[n];return e}function a0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function tee(t){return new Yt({props:{handleKeyDown:OR(t)}})}function OR(t){let e=eee(t);return function(n,r){let s=QZ(r),i,o=e[a0(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=e[a0(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=no[r.keyCode])&&i!=s){let a=e[a0(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const nee=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function AR(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const ree=(t,e,n)=>{let r=AR(t,n);if(!r)return!1;let s=R1(r);if(!s){let o=r.blockRange(),a=o&&ac(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(RR(t,s,e,-1))return!0;if(r.parent.content.size==0&&($l(i,"end")||ue.isSelectable(i)))for(let o=r.depth;;o--){let a=wg(t.doc,r.before(o),r.after(o),ee.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection($l(i,"end")?we.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):ue.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},see=(t,e,n)=>{let r=AR(t,n);if(!r)return!1;let s=R1(r);return s?LR(t,s,e):!1},iee=(t,e,n)=>{let r=DR(t,n);if(!r)return!1;let s=I1(r);return s?LR(t,s,e):!1};function LR(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=wg(t.doc,i,l,ee.empty);if(!c||c.from!=i||c instanceof At&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(ge.create(u.doc,i)),n(u.scrollIntoView())}return!0}function $l(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const oee=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=R1(r)}let o=i&&i.nodeBefore;return!o||!ue.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ue.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function R1(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function DR(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const aee=(t,e,n)=>{let r=DR(t,n);if(!r)return!1;let s=I1(r);if(!s)return!1;let i=s.nodeAfter;if(RR(t,s,e,1))return!0;if(r.parent.content.size==0&&($l(i,"start")||ue.isSelectable(i))){let o=wg(t.doc,r.before(),r.after(),ee.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection($l(i,"start")?we.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):ue.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},lee=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=I1(r)}let o=i&&i.nodeAfter;return!o||!ue.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ue.create(t.doc,i.pos)).scrollIntoView()),!0)};function I1(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const cee=(t,e)=>{let n=t.selection,r=n instanceof ue,s;if(r){if(n.node.isTextblock||!uo(t.doc,n.from))return!1;s=n.from}else if(s=xg(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(ue.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},uee=(t,e)=>{let n=t.selection,r;if(n instanceof ue){if(n.node.isTextblock||!uo(t.doc,n.to))return!1;r=n.to}else if(r=xg(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},dee=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&ac(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},fee=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function PR(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const hee=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=PR(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(we.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},pee=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Sr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=PR(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=t.tr.insert(o,i.createAndFill());a.setSelection(ge.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},mee=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(fl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&ac(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},gee=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(ue.create(t.doc,s))),!0)};function yee(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||uo(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function RR(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&yee(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(n){let p=e.pos+i.nodeSize,m=U.empty;for(let v=o.length-1;v>=0;v--)m=U.from(o[v].create(null,m));m=U.from(s.copy(m));let y=t.tr.step(new Dt(e.pos-1,p,e.pos,p,new ee(m,1,0),o.length,!0)),x=y.doc.resolve(p+2*o.length);x.nodeAfter&&x.nodeAfter.type==s.type&&uo(y.doc,x.pos)&&y.join(x.pos),n(y.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:we.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&ac(d);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&$l(i,"start",!0)&&$l(s,"end")){let p=s,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let y=i,x=1;for(;!y.isTextblock;y=y.firstChild)x++;if(p.canReplace(p.childCount,p.childCount,y.content)){if(n){let v=U.empty;for(let b=m.length-1;b>=0;b--)v=U.from(m[b].copy(v));let w=t.tr.step(new Dt(e.pos-m.length,e.pos+i.nodeSize,e.pos+x,e.pos+i.nodeSize-x,new ee(v,m.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function IR(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(ge.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const vee=IR(-1),xee=IR(1);function wee(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&E1(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function hN(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=n.doc.resolve(c),d=u.index();s=u.parent.canReplaceWith(d,d+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function bee(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let a=r?n.tr:null;return See(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function See(t,e,n,r=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);i=new Mp(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Mp(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let a=E1(i,n,r,e);return a?(t&&kee(t,e,a,s,n),!0):!1}function kee(t,e,n,r,s){let i=U.empty;for(let u=n.length-1;u>=0;u--)i=U.from(n[u].type.create(n[u].attrs,i));t.step(new Dt(e.start-(r?2:0),e.end,e.start,e.end,new ee(i,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==s&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&fl(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function Eee(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?Tee(e,n,t,i):Cee(e,n,i):!0:!1}}function Tee(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Dt(i-1,o,i,o,new ee(U.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Mp(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const a=ac(r);if(a==null)return!1;s.lift(r,a);let l=s.mapping.map(i,-1)-1;return uo(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function Cee(t,e,n){let r=t.tr,s=n.parent;for(let p=n.end,m=n.endIndex-1,y=n.startIndex;m>y;m--)p-=s.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?U.empty:U.from(s))))return!1;let d=i.pos,h=d+o.nodeSize;return r.step(new Dt(d-(a?1:0),h+(l?1:0),d+1,h-1,new ee((a?U.empty:U.from(s.copy(U.empty))).append(l?U.empty:U.from(s.copy(U.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Nee(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=U.from(c?t.create():null),d=new ee(U.from(t.create(null,U.from(a.type.create(null,u)))),c?3:1,0),h=i.start,p=i.end;n(e.tr.step(new Dt(h-(c?3:1),p,h,p,d,1,!0)).scrollIntoView())}return!0}}function Tg(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class Cg{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,p])=>[h,(...y)=>{const x=this.buildProps(c,n),v=p(...y)(x);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:Tg({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Mee{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const r=(...s)=>{this.off(e,r),n.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function re(t,e,n){return t.config[e]===void 0&&t.parent?re(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?re(t.parent,e,n):null}):t.config[e]}function Ng(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function _R(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ng(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=re(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:d,name:h,attribute:{...i,...p}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=re(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...i,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function Rt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function It(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const a=i?String(i).split(" "):[],l=r[s]?r[s].split(" "):[],c=a.filter(u=>!l.includes(u));r[s]=[...l,...c].join(" ")}else if(s==="style"){const a=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[s]?r[s].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),r[s]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[s]=i}),r},{})}function Fx(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>It(n,r),{})}function $R(t){return typeof t=="function"}function ke(t,e=void 0,...n){return $R(t)?e?t.bind(e)(...n):t(...n):t}function jee(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Oee(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function pN(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):Oee(n.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...r,...s}}}}function mN(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&jee(n)?!1:n!=null))}function Aee(t,e){var n;const r=_R(t),{nodeExtensions:s,markExtensions:i}=Ng(t),o=(n=s.find(c=>re(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(s.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((v,w)=>{const b=re(w,"extendNodeSchema",d);return{...v,...b?b(c):{}}},{}),p=mN({...h,content:ke(re(c,"content",d)),marks:ke(re(c,"marks",d)),group:ke(re(c,"group",d)),inline:ke(re(c,"inline",d)),atom:ke(re(c,"atom",d)),selectable:ke(re(c,"selectable",d)),draggable:ke(re(c,"draggable",d)),code:ke(re(c,"code",d)),whitespace:ke(re(c,"whitespace",d)),linebreakReplacement:ke(re(c,"linebreakReplacement",d)),defining:ke(re(c,"defining",d)),isolating:ke(re(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var w;return[v.name,{default:(w=v==null?void 0:v.attribute)===null||w===void 0?void 0:w.default}]}))}),m=ke(re(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>pN(v,u)));const y=re(c,"renderHTML",d);y&&(p.toDOM=v=>y({node:v,HTMLAttributes:Fx(v,u)}));const x=re(c,"renderText",d);return x&&(p.toText=x),[c.name,p]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(x=>x.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((x,v)=>{const w=re(v,"extendMarkSchema",d);return{...x,...w?w(c):{}}},{}),p=mN({...h,inclusive:ke(re(c,"inclusive",d)),excludes:ke(re(c,"excludes",d)),group:ke(re(c,"group",d)),spanning:ke(re(c,"spanning",d)),code:ke(re(c,"code",d)),attrs:Object.fromEntries(u.map(x=>{var v;return[x.name,{default:(v=x==null?void 0:x.attribute)===null||v===void 0?void 0:v.default}]}))}),m=ke(re(c,"parseHTML",d));m&&(p.parseDOM=m.map(x=>pN(x,u)));const y=re(c,"renderHTML",d);return y&&(p.toDOM=x=>y({mark:x,HTMLAttributes:Fx(x,u)})),[c.name,p]}));return new LP({topNode:o,nodes:a,marks:l})}function l0(t,e){return e.nodes[t]||e.marks[t]||null}function gN(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function _1(t,e){const n=Ea.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const Lee=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,r-i))}),n};function $1(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Mg{constructor(e){this.find=e.find,this.handler=e.handler}}const Dee=(t,e)=>{if($1(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Pf(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=Lee(c)+i;return o.forEach(h=>{if(u)return;const p=Dee(d,h.find);if(!p)return;const m=l.state.tr,y=Tg({state:l.state,transaction:m}),x={from:r-(p[0].length-i.length),to:s},{commands:v,chain:w,can:b}=new Cg({editor:n,state:y});h.handler({state:y,range:x,match:p,commands:v,chain:w,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:s,text:i}),l.dispatch(m),u=!0)}),u}function Pee(t){const{editor:e,rules:n}=t,r=new Yt({state:{init(){return null},apply(s,i,o){const a=s.getMeta(r);if(a)return a;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=_1(U.from(u),o.schema);const{from:d}=l,h=d+u.length;Pf({editor:e,from:d,to:h,text:u,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return Pf({editor:e,from:i,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Pf({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Pf({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Ree(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rf(t){return Ree(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jg(t,e){const n={...t};return Rf(t)&&Rf(e)&&Object.keys(e).forEach(r=>{Rf(e[r])&&Rf(t[r])?n[r]=jg(t[r],e[r]):n[r]=e[r]}),n}class xs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(re(this,"addOptions",{name:this.name}))),this.storage=ke(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xs(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jg(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new xs(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ke(re(n,"addOptions",{name:n.name})),n.storage=ke(re(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function Iee(t){return typeof t=="number"}class _ee{constructor(e){this.find=e.find,this.handler=e.handler}}const $ee=(t,e,n)=>{if($1(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Fee(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Cg({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,s,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const y=Math.max(r,m),x=Math.min(s,m+p.content.size),v=p.textBetween(y-m,x-m,void 0,"");$ee(v,i.find,o).forEach(b=>{if(b.index===void 0)return;const S=y+b.index+1,k=S+b[0].length,E={from:n.tr.mapping.map(S),to:n.tr.mapping.map(k)},T=i.handler({state:n,range:E,match:b,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(T)})}),d.every(p=>p!==null)}let If=null;const zee=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function Bee(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:h,rule:p,pasteEvt:m})=>{const y=u.tr,x=Tg({state:u,transaction:y});if(!(!Fee({editor:e,state:x,from:Math.max(d-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:a})||!y.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return n.map(u=>new Yt({view(d){const h=m=>{var y;r=!((y=d.dom.parentElement)===null||y===void 0)&&y.contains(m.target)?d.dom.parentElement:null,r&&(If=e)},p=()=>{If&&(If=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(i=r===d.dom.parentElement,a=h,!i){const p=If;p&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=h,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,p)=>{const m=d[0],y=m.getMeta("uiEvent")==="paste"&&!s,x=m.getMeta("uiEvent")==="drop"&&!i,v=m.getMeta("applyPasteRules"),w=!!v;if(!y&&!x&&!w)return;if(w){let{text:k}=v;typeof k=="string"?k=k:k=_1(U.from(k),p.schema);const{from:E}=v,T=E+k.length,C=zee(k);return l({rule:u,state:p,from:E,to:{b:T},pasteEvt:C})}const b=h.doc.content.findDiffStart(p.doc.content),S=h.doc.content.findDiffEnd(p.doc.content);if(!(!Iee(b)||!S||b===S.b))return l({rule:u,state:p,from:b,to:S,pasteEvt:o})}}))}function Uee(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class el{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=el.resolve(e),this.schema=Aee(this.extensions,n),this.setupExtensions()}static resolve(e){const n=el.sort(el.flatten(e)),r=Uee(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=re(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=re(r,"priority")||100,o=re(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:l0(n.name,this.schema)},s=re(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=el.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:l0(o.name,this.schema)},l=[],c=re(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&re(o,"exitable",a)&&(u.ArrowRight=()=>xs.handleExit({editor:e,mark:o})),c){const y=Object.fromEntries(Object.entries(c()).map(([x,v])=>[x,()=>v({editor:e})]));u={...u,...y}}const d=tee(u);l.push(d);const h=re(o,"addInputRules",a);gN(o,e.options.enableInputRules)&&h&&r.push(...h());const p=re(o,"addPasteRules",a);gN(o,e.options.enablePasteRules)&&p&&s.push(...p());const m=re(o,"addProseMirrorPlugins",a);if(m){const y=m();l.push(...y)}return l}).flat();return[Pee({editor:e,rules:r}),...Bee({editor:e,rules:s}),...i]}get attributes(){return _R(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Ng(this.extensions);return Object.fromEntries(n.filter(r=>!!re(r,"addNodeView")).map(r=>{const s=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:Rt(r.name,this.schema)},o=re(r,"addNodeView",i);if(!o)return[];const a=(l,c,u,d,h)=>{const p=Fx(l,s);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:l0(e.name,this.schema)};e.type==="mark"&&(!((n=ke(re(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=re(e,"onBeforeCreate",r),i=re(e,"onCreate",r),o=re(e,"onUpdate",r),a=re(e,"onSelectionUpdate",r),l=re(e,"onTransaction",r),c=re(e,"onFocus",r),u=re(e,"onBlur",r),d=re(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Sn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(re(this,"addOptions",{name:this.name}))),this.storage=ke(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Sn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jg(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Sn({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ke(re(n,"addOptions",{name:n.name})),n.storage=ke(re(n,"addStorage",{name:n.name,options:n.options})),n}}function FR(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,s,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=i);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,s-c))}),a}function zR(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Vee=Sn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Yt({key:new or("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=zR(n);return FR(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Hee=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Wee=(t=!1)=>({commands:e})=>e.setContent("",t),Gee=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(h);if(!p)return;const m=ac(p);if(a.type.isTextblock){const{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,y)}(m||m===0)&&e.lift(p,m)})}),!0},Yee=t=>e=>t(e),qee=()=>({state:t,dispatch:e})=>pee(t,e),Kee=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,i.content),r.setSelection(new ge(r.doc.resolve(o-1))),!0},Jee=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},Qee=t=>({tr:e,state:n,dispatch:r})=>{const s=Rt(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},Xee=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},Zee=()=>({state:t,dispatch:e})=>nee(t,e),ete=()=>({commands:t})=>t.keyboardShortcut("Enter"),tte=()=>({state:t,dispatch:e})=>hee(t,e);function Ip(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:$1(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function BR(t,e,n={}){return t.find(r=>r.type===e&&Ip(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function yN(t,e,n={}){return!!BR(t,e,n)}function F1(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===e)||(n=n||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!BR([...s.node.marks],e,n)))return;let o=s.index,a=t.start()+s.offset,l=o+1,c=a+s.node.nodeSize;for(;o>0&&yN([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&yN([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function ho(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const nte=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=ho(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(s){const d=F1(l,i,e);if(d&&d.from<=c&&d.to>=u){const h=ge.create(o,d.from,d.to);n.setSelection(h)}}return!0},rte=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function UR(t){return t instanceof ge}function Uo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function VR(t,e=null){if(!e)return null;const n=we.atStart(t),r=we.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?ge.create(t,Uo(0,s,i),Uo(t.content.size,s,i)):ge.create(t,Uo(e,s,i),Uo(e,s,i))}function ste(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function z1(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ite=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(z1()||ste())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!UR(n.state.selection))return o(),!0;const a=VR(s.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},ote=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),ate=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),HR=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&HR(r)}return t};function _f(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return HR(n)}function _p(t,e,n){if(t instanceof Hi||t instanceof U)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return U.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),_p("",e,n)}if(s){if(n.errorOnInvalidContent){let o=!1,a="";const l=new LP({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Wi.fromSchema(l).parseSlice(_f(t),n.parseOptions):Wi.fromSchema(l).parse(_f(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Wi.fromSchema(e);return n.slice?i.parseSlice(_f(t),n.parseOptions).content:i.parse(_f(t),n.parseOptions)}return _p("",e,n)}function lte(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof At||s instanceof Dt))return;const i=t.mapping.maps[r];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const cte=t=>!("type"in t),ute=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=_p(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(m){return i.emit("contentError",{editor:i,error:m,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((cte(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;if(u){if(Array.isArray(e))p=e.map(m=>m.text||"").join("");else if(e instanceof U){let m="";e.forEach(y=>{y.text&&(m+=y.text)}),p=m}else typeof e=="object"&&e&&e.text?p=e.text:p=e;r.insertText(p,l,c)}else p=a,r.replaceWith(l,c,p);n.updateSelection&&lte(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:p}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:p})}return!0},dte=()=>({state:t,dispatch:e})=>cee(t,e),fte=()=>({state:t,dispatch:e})=>uee(t,e),hte=()=>({state:t,dispatch:e})=>ree(t,e),pte=()=>({state:t,dispatch:e})=>aee(t,e),mte=()=>({state:t,dispatch:e,tr:n})=>{try{const r=xg(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},gte=()=>({state:t,dispatch:e,tr:n})=>{try{const r=xg(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},yte=()=>({state:t,dispatch:e})=>see(t,e),vte=()=>({state:t,dispatch:e})=>iee(t,e);function WR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function xte(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))z1()||WR()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const wte=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=xte(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&s&&r.maybeStep(u)}),!0};function fd(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?Rt(e,t.schema):null,a=[];t.doc.nodesBetween(r,s,(d,h)=>{if(d.isText)return;const p=Math.max(r,h),m=Math.min(s,h+d.nodeSize);a.push({node:d,from:p,to:m})});const l=s-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Ip(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const bte=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return fd(n,s,e)?dee(n,r):!1},Ste=()=>({state:t,dispatch:e})=>mee(t,e),kte=t=>({state:e,dispatch:n})=>{const r=Rt(t,e.schema);return Eee(r)(e,n)},Ete=()=>({state:t,dispatch:e})=>fee(t,e);function Og(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function vN(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const Tte=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Og(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Rt(t,r.schema)),a==="mark"&&(o=ho(t,r.schema)),s&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,vN(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(vN(d.attrs,e)))})})}),!0):!1},Cte=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Nte=()=>({tr:t,dispatch:e})=>{if(e){const n=new Sr(t.doc);t.setSelection(n)}return!0},Mte=()=>({state:t,dispatch:e})=>oee(t,e),jte=()=>({state:t,dispatch:e})=>lee(t,e),Ote=()=>({state:t,dispatch:e})=>gee(t,e),Ate=()=>({state:t,dispatch:e})=>xee(t,e),Lte=()=>({state:t,dispatch:e})=>vee(t,e);function zx(t,e,n={},r={}){return _p(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Dte=(t,e=!1,n={},r={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{var l,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const d=zx(t,s.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck});return o&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function GR(t,e){const n=ho(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Pte(t,e){const n=new qP(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function Rte(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Ite(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function _te(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function B1(t){return e=>_te(e.$from,t)}function $te(t,e){const n={from:0,to:t.content.size};return FR(t,n,e)}function Fte(t,e){const n=Rt(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function YR(t,e){const n=Og(typeof e=="string"?e:e.name,t.schema);return n==="node"?Fte(t,e):n==="mark"?GR(t,e):{}}function zte(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function Bte(t){const e=zte(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function Ute(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),u=e.slice(i).map(l),d=e.invert().map(c,-1),h=e.invert().map(u);r.push({oldRange:{from:d,to:h},newRange:{from:c,to:u}})})}),Bte(r)}function U1(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),o=F1(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function yh(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function Bx(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?ho(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>Ip(d.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:d,$to:h})=>{const p=d.pos,m=h.pos;t.doc.nodesBetween(p,m,(y,x)=>{if(!y.isText&&!y.marks.length)return;const v=Math.max(p,x),w=Math.min(m,x+y.nodeSize),b=w-v;o+=b,a.push(...y.marks.map(S=>({mark:S,from:v,to:w})))})}),o===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>Ip(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function Vte(t,e,n={}){if(!e)return fd(t,null,n)||Bx(t,null,n);const r=Og(e,t.schema);return r==="node"?fd(t,e,n):r==="mark"?Bx(t,e,n):!1}function xN(t,e){const{nodeExtensions:n}=Ng(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=ke(re(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function V1(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(V1(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function Hte(t){return t instanceof ue}function Wte(t,e,n){var r;const{selection:s}=e;let i=null;if(UR(s)&&(i=s.$cursor),i){const a=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(y=>y.type.excludes(n));c=p&&m}return!c}),c})}const Gte=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,l=ho(t,r.schema);if(s)if(o){const c=GR(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,p)=>{const m=Math.max(p,u),y=Math.min(p+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&n.addMark(m,y,l.create({...v.attrs,...e}))}):n.addMark(m,y,l.create(e))})});return Wte(r,n,l)},Yte=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),qte=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=Rt(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:a})=>hN(i,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>hN(i,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Kte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Uo(t,0,r.content.size),i=ue.create(r,s);e.setSelection(i)}return!0},Jte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=ge.atStart(r).from,a=ge.atEnd(r).to,l=Uo(s,o,a),c=Uo(i,o,a),u=ge.create(r,l,c);e.setSelection(u)}return!0},Qte=t=>({state:e,dispatch:n})=>{const r=Rt(t,e.schema);return Nee(r)(e,n)};function wN(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const Xte=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=yh(c,a.node().type.name,a.node().attrs);if(i instanceof ue&&i.node.isBlock)return!a.parentOffset||!fl(o,a.pos)?!1:(r&&(t&&wN(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:Rte(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,m=fl(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&fl(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:u}]:void 0),r){if(m&&(i instanceof ge&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const y=e.mapping.map(a.before()),x=e.doc.resolve(y);a.node(-1).canReplaceWith(x.index(),x.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&wN(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return m},Zte=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const a=Rt(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let v=U.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-w;C>=l.depth-3;C-=1)v=U.from(l.node(C).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...yh(h,l.node().type.name,l.node().attrs),...e},k=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;v=v.append(U.from(a.createAndFill(null,k)||void 0));const E=l.before(l.depth-(w-1));n.replace(E,l.after(-b),new ee(v,4-w,0));let T=-1;n.doc.nodesBetween(E,n.doc.content.size,(C,L)=>{if(T>-1)return!1;C.isTextblock&&C.content.size===0&&(T=L+1)}),T>-1&&n.setSelection(ge.near(n.doc.resolve(T))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...yh(h,d.type.name,d.attrs),...e},y={...yh(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const x=p?[{type:a,attrs:m},{type:p,attrs:y}]:[{type:a,attrs:m}];if(!fl(n.doc,l.pos,2))return!1;if(s){const{selection:v,storedMarks:w}=r,{splittableMarks:b}=i.extensionManager,S=w||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!S||!s)return!0;const k=S.filter(E=>b.includes(E.type.name));n.ensureMarks(k)}return!0},c0=(t,e)=>{const n=B1(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&uo(t.doc,n.pos)&&t.join(n.pos),!0},u0=(t,e)=>{const n=B1(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&uo(t.doc,r)&&t.join(r),!0},ene=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=s.extensionManager,p=Rt(t,o.schema),m=Rt(e,o.schema),{selection:y,storedMarks:x}=o,{$from:v,$to:w}=y,b=v.blockRange(w),S=x||y.$to.parentOffset&&y.$from.marks();if(!b)return!1;const k=B1(E=>xN(E.type.name,d))(y);if(b.depth>=1&&k&&b.depth-k.depth<=1){if(k.node.type===p)return c.liftListItem(m);if(xN(k.node.type.name,d)&&p.validContent(k.node.content)&&a)return l().command(()=>(i.setNodeMarkup(k.pos,p),!0)).command(()=>c0(i,p)).command(()=>u0(i,p)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>c0(i,p)).command(()=>u0(i,p)).run():l().command(()=>{const E=u().wrapInList(p,r),T=S.filter(C=>h.includes(C.type.name));return i.ensureMarks(T),E?!0:c.clearNodes()}).wrapInList(p,r).command(()=>c0(i,p)).command(()=>u0(i,p)).run()},tne=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=ho(t,r.schema);return Bx(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},nne=(t,e,n={})=>({state:r,commands:s})=>{const i=Rt(t,r.schema),o=Rt(e,r.schema),a=fd(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?s.setNode(o,l):s.setNode(i,{...l,...n})},rne=(t,e={})=>({state:n,commands:r})=>{const s=Rt(t,n.schema);return fd(n,s,e)?r.lift(s):r.wrapIn(s,e)},sne=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},ine=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},one=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=ho(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!s)return!0;if(u&&o){let{from:h,to:p}=a;const m=(i=c.marks().find(x=>x.type===l))===null||i===void 0?void 0:i.attrs,y=F1(c,l,m);y&&(h=y.from,p=y.to),n.removeMark(h,p,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},ane=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Og(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Rt(t,r.schema)),a==="mark"&&(o=ho(t,r.schema)),s&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,h,p,m;n.selection.empty?r.doc.nodesBetween(c,u,(y,x)=>{i&&i===y.type&&(p=Math.max(x,c),m=Math.min(x+y.nodeSize,u),d=x,h=y)}):r.doc.nodesBetween(c,u,(y,x)=>{x<c&&i&&i===y.type&&(p=Math.max(x,c),m=Math.min(x+y.nodeSize,u),d=x,h=y),x>=c&&x<=u&&(i&&i===y.type&&n.setNodeMarkup(x,void 0,{...y.attrs,...e}),o&&y.marks.length&&y.marks.forEach(v=>{if(o===v.type){const w=Math.max(x,c),b=Math.min(x+y.nodeSize,u);n.addMark(w,b,o.create({...v.attrs,...e}))}}))}),h&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(y=>{o===y.type&&n.addMark(p,m,o.create({...y.attrs,...e}))}))}),!0):!1},lne=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return wee(s,e)(n,r)},cne=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return bee(s,e)(n,r)};var une=Object.freeze({__proto__:null,blur:Hee,clearContent:Wee,clearNodes:Gee,command:Yee,createParagraphNear:qee,cut:Kee,deleteCurrentNode:Jee,deleteNode:Qee,deleteRange:Xee,deleteSelection:Zee,enter:ete,exitCode:tte,extendMarkRange:nte,first:rte,focus:ite,forEach:ote,insertContent:ate,insertContentAt:ute,joinBackward:hte,joinDown:fte,joinForward:pte,joinItemBackward:mte,joinItemForward:gte,joinTextblockBackward:yte,joinTextblockForward:vte,joinUp:dte,keyboardShortcut:wte,lift:bte,liftEmptyBlock:Ste,liftListItem:kte,newlineInCode:Ete,resetAttributes:Tte,scrollIntoView:Cte,selectAll:Nte,selectNodeBackward:Mte,selectNodeForward:jte,selectParentNode:Ote,selectTextblockEnd:Ate,selectTextblockStart:Lte,setContent:Dte,setMark:Gte,setMeta:Yte,setNode:qte,setNodeSelection:Kte,setTextSelection:Jte,sinkListItem:Qte,splitBlock:Xte,splitListItem:Zte,toggleList:ene,toggleMark:tne,toggleNode:nne,toggleWrap:rne,undoInputRule:sne,unsetAllMarks:ine,unsetMark:one,updateAttributes:ane,wrapIn:lne,wrapInList:cne});const dne=Sn.create({name:"commands",addCommands(){return{...une}}}),fne=Sn.create({name:"drop",addProseMirrorPlugins(){return[new Yt({key:new or("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),hne=Sn.create({name:"editable",addProseMirrorPlugins(){return[new Yt({key:new or("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pne=Sn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Yt({key:new or("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),mne=Sn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:p}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,y=m.parent.type.spec.isolating,x=d.pos-d.parentOffset,v=y&&m.parent.childCount===1?x===d.pos:we.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return z1()||WR()?i:s},addProseMirrorPlugins(){return[new Yt({key:new or("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(y=>y.getMeta("composition")))return;const r=t.some(y=>y.docChanged)&&!e.doc.eq(n.doc),s=t.some(y=>y.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:a}=e.selection,l=we.atStart(e.doc).from,c=we.atEnd(e.doc).to;if(i||!(o===l&&a===c)||!V1(n.doc))return;const h=n.tr,p=Tg({state:n,transaction:h}),{commands:m}=new Cg({editor:this.editor,state:p});if(m.clearNodes(),!!h.steps.length)return h}})]}}),gne=Sn.create({name:"paste",addProseMirrorPlugins(){return[new Yt({key:new or("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),yne=Sn.create({name:"tabindex",addProseMirrorPlugins(){return[new Yt({key:new or("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ao{get name(){return this.node.type.name}constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ao(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ao(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ao(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+r+(i?0:1),a=this.resolvedPos.doc.resolve(o);if(!s&&a.depth<=this.depth)return;const l=new Ao(a,this.editor,s,s?n:null);s&&(l.actualDepth=this.depth+1),e.push(new Ao(a,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==n[l])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===e&&i.every(l=>n[l]===o.node.attrs[l])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const vne=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function xne(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}class wne extends Mee{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:s})=>this.options.onDrop(n,r,s)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=xne(vne,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=$R(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;r=n.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[hne,Vee.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),dne,pne,mne,yne,fne,gne].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new el(s,this)}createCommandManager(){this.commandManager=new Cg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=zx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=zx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=VR(n,this.options.autofocus);this.view=new GZ(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Za.create({doc:n,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return YR(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return Vte(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _1(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return $te(this.state.doc,{blockSeparator:n,textSerializers:{...zR(this.schema),...r}})}get isEmpty(){return V1(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ao(n,this)}get $doc(){return this.$pos(0)}}function Fl(t){return new Mg({find:t.find,handler:({state:e,range:n,match:r})=>{const s=ke(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(U1(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(y=>y===t.type&&y!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const h=n.from+l+o.length;i.addMark(n.from+l,h,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function bne(t){return new Mg({find:t.find,handler:({state:e,range:n,match:r})=>{const s=ke(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let a=n.to;const l=t.type.create(s);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,o+r[0].length-1),i.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()}})}function Ux(t){return new Mg({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=ke(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function hd(t){return new Mg({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=ke(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&E1(l,t.type,i);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:p}=t.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const y=m.filter(x=>p.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,i).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&uo(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}let Qr=class Vx{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(re(this,"addOptions",{name:this.name}))),this.storage=ke(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vx(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jg(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Vx(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ke(re(n,"addOptions",{name:n.name})),n.storage=ke(re(n,"addStorage",{name:n.name,options:n.options})),n}};function ha(t){return new _ee({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=ke(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(U1(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(x=>x===t.type&&x!==m.mark.type)).filter(m=>m.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function Sne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qR={exports:{}},d0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function kne(){if(bN)return d0;bN=1;var t=_;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),y=m[0].inst,x=m[1];return i(function(){y.value=p,y.getSnapshot=h,l(y)&&x({inst:y})},[d,p,h]),s(function(){return l(y)&&x({inst:y}),d(function(){l(y)&&x({inst:y})})},[d]),o(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!n(d,p)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return d0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,d0}qR.exports=kne();var H1=qR.exports;const Ene=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Tne=({contentComponent:t})=>{const e=H1.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return _.createElement(_.Fragment,null,Object.values(e))};function Cne(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:W4.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}class Nne extends _.Component{constructor(e){var n;super(e),this.editorContentRef=_.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Cne(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return _.createElement(_.Fragment,null,_.createElement("div",{ref:Ene(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&_.createElement(Tne,{contentComponent:e.contentComponent}))}}const Mne=g.forwardRef((t,e)=>{const n=_.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return _.createElement(Nne,{key:n,innerRef:e,...t})}),jne=_.memo(Mne);var One=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},Ane=Sne(One),KR={exports:{}},f0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function Lne(){if(SN)return f0;SN=1;var t=_,e=H1;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return f0.useSyncExternalStoreWithSelector=function(c,u,d,h,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function v(E){if(!w){if(w=!0,b=E,E=h(E),p!==void 0&&y.hasValue){var T=y.value;if(p(T,E))return S=T}return S=E}if(T=S,r(b,E))return T;var C=h(E);return p!==void 0&&p(T,C)?T:(b=E,S=C)}var w=!1,b,S,k=d===void 0?null:d;return[function(){return v(u())},k===null?void 0:function(){return v(k())}]},[u,d,h,p]);var x=s(c,m[0],m[1]);return o(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},f0}KR.exports=Lne();var Dne=KR.exports;const Pne=typeof window<"u"?g.useLayoutEffect:g.useEffect;class Rne{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Ine(t){var e;const[n]=g.useState(()=>new Rne(t.editor)),r=Dne.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Ane);return Pne(()=>n.watch(t.editor),[t.editor,n]),g.useDebugValue(r),r}const _ne=!1,Hx=typeof window>"u",$ne=Hx||!!(typeof window<"u"&&window.next);class W1{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Hx||$ne?null:this.createEditor();if(this.options.current.immediatelyRender&&Hx&&_ne)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)===null||i===void 0?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)===null||i===void 0?void 0:i.call(s,...r)}};return new wne(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=n.extensions)===null||o===void 0?void 0:o[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?W1.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Fne(t={},e=[]){const n=g.useRef(t);n.current=t;const[r]=g.useState(()=>new W1(n)),s=H1.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return g.useDebugValue(s),g.useEffect(r.onRender(e)),Ine({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const zne=g.createContext({editor:null});zne.Consumer;const Bne=g.createContext({onDragStart:void 0}),Une=()=>g.useContext(Bne);_.forwardRef((t,e)=>{const{onDragStart:n}=Une(),r=t.as||"div";return _.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const Vne=/^\s*>\s$/,Hne=Qr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[hd({find:Vne,type:this.type})]}}),Wne=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Gne=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Yne=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qne=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Kne=xs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Fl({find:Wne,type:this.type}),Fl({find:Yne,type:this.type})]},addPasteRules(){return[ha({find:Gne,type:this.type}),ha({find:qne,type:this.type})]}}),Jne="listItem",kN="textStyle",EN=/^\s*([-+*])\s$/,Qne=Qr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",It(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Jne,this.editor.getAttributes(kN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=hd({find:EN,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hd({find:EN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(kN),editor:this.editor})),[t]}}),Xne=/(^|[^`])`([^`]+)`(?!`)/,Zne=/(^|[^`])`([^`]+)`(?!`)/g,ere=xs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Fl({find:Xne,type:this.type})]},addPasteRules(){return[ha({find:Zne,type:this.type})]}}),tre=/^```([a-z]+)?[\s\n]$/,nre=/^~~~([a-z]+)?[\s\n]$/,rre=Qr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",It(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(we.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Ux({find:tre,type:this.type,getAttributes:t=>({language:t[1]})}),Ux({find:nre,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Yt({key:new or("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(ge.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),sre=Qr.create({name:"doc",topNode:!0,content:"block+"});function ire(t={}){return new Yt({view(e){return new ore(e,t)}})}class ore{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();i=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=VP(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const are=Sn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[ire(this.options)]}});class ct extends we{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ct.valid(r)?new ct(r):we.near(r)}content(){return ee.empty}eq(e){return e instanceof ct&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ct(e.resolve(n.pos))}getBookmark(){return new G1(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!lre(e)||!cre(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ct.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let l=e.doc.resolve(s);if(ct.valid(l))return l}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!ue.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=e.doc.resolve(s);if(ct.valid(a))return a}return null}}}ct.prototype.visible=!1;ct.findFrom=ct.findGapCursorFrom;we.jsonID("gapcursor",ct);class G1{constructor(e){this.pos=e}map(e){return new G1(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ct.valid(n)?new ct(n):we.near(n)}}function lre(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function cre(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function ure(){return new Yt({props:{decorations:pre,createSelectionBetween(t,e,n){return e.pos==n.pos&&ct.valid(n)?new ct(n):null},handleClick:fre,handleKeyDown:dre,handleDOMEvents:{beforeinput:hre}}})}const dre=OR({ArrowLeft:$f("horiz",-1),ArrowRight:$f("horiz",1),ArrowUp:$f("vert",-1),ArrowDown:$f("vert",1)});function $f(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ge){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=ct.findGapCursorFrom(a,e,l);return c?(s&&s(r.tr.setSelection(new ct(c))),!0):!1}}function fre(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ct.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&ue.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ct(r))),!0)}function hre(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ct))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=U.empty;for(let o=r.length-1;o>=0;o--)s=U.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new ee(s,0,0));return i.setSelection(ge.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function pre(t){if(!(t.selection instanceof ct))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Tt.create(t.doc,[wr.widget(t.selection.head,e,{key:"gapcursor"})])}const mre=Sn.create({name:"gapCursor",addProseMirrorPlugins(){return[ure()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ke(re(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),gre=Qr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",It(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),yre=Qr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,It(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Ux({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var $p=200,Pt=function(){};Pt.prototype.append=function(e){return e.length?(e=Pt.from(e),!this.length&&e||e.length<$p&&this.leafAppend(e)||this.length<$p&&e.leafPrepend(this)||this.appendInner(e)):this};Pt.prototype.prepend=function(e){return e.length?Pt.from(e).append(this):this};Pt.prototype.appendInner=function(e){return new vre(this,e)};Pt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Pt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Pt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Pt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};Pt.from=function(e){return e instanceof Pt?e:e&&e.length?new JR(e):Pt.empty};var JR=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=$p)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=$p)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Pt);Pt.empty=new JR([]);var vre=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Pt);const xre=500;class Br{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){s||(s=this.remapping(r,h+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new is(d.map));let p=d.step.map(s.slice(i)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new is(m,void 0,void 0,c.length+u.length))),i--,m&&s.appendMap(m,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,l=new Br(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new is(e.mapping.maps[u],d,n),p;(p=l&&l.merge(h))&&(h=p,u?i.pop():a=a.slice(0,a.length-1)),i.push(h),n&&(o++,n=void 0),s||(l=h)}let c=o-r.depth;return c>bre&&(a=wre(a,c),o-=c),new Br(a.append(i),o)}remapping(e,n){let r=new dl;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Br(this.items.append(e.map(n=>new is(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},s);let l=n;this.items.forEach(h=>{let p=i.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=i.maps[p];if(h.step){let y=e.steps[p].invert(e.docs[p]),x=h.selection&&h.selection.map(i.slice(l+1,p));x&&a++,r.push(new is(m,y,x))}else r.push(new is(m))},s);let c=[];for(let h=n;h<o;h++)c.push(new is(i.maps[h]));let u=this.items.slice(0,s).append(c).append(r),d=new Br(u,a);return d.emptyItemCount()>xre&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&i++;let d=new is(c.invert(),l,u),h,p=s.length-1;(h=s.length&&s[p].merge(d))?s[p]=h:s.push(d)}}else o.map&&r--},this.items.length,0),new Br(Pt.from(s.reverse()),i)}}Br.empty=new Br(Pt.empty,0);function wre(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class is{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new is(n.getMap().invert(),n,this.selection)}}}class xi{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const bre=20;function Sre(t,e,n,r){let s=n.getMeta(Zo),i;if(s)return s.historyState;n.getMeta(Tre)&&(t=new xi(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Zo))return o.getMeta(Zo).redo?new xi(t.done.addTransform(n,void 0,r,vh(e)),t.undone,TN(n.mapping.maps),t.prevTime,t.prevComposition):new xi(t.done,t.undone.addTransform(n,void 0,r,vh(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!kre(n,t.prevRanges)),c=o?h0(t.prevRanges,n.mapping):TN(n.mapping.maps);return new xi(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,vh(e)),Br.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new xi(t.done.rebased(n,i),t.undone.rebased(n,i),h0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new xi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),h0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function kre(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function TN(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,o)=>e.push(i,o));return e}function h0(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function Ere(t,e,n){let r=vh(e),s=Zo.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),l=new xi(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(Zo,{redo:n,historyState:l})}let p0=!1,CN=null;function vh(t){let e=t.plugins;if(CN!=e){p0=!1,CN=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){p0=!0;break}}return p0}const Zo=new or("history"),Tre=new or("closeHistory");function Cre(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Yt({key:Zo,state:{init(){return new xi(Br.empty,Br.empty,null,0,-1)},apply(e,n,r){return Sre(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?XR:r=="historyRedo"?ZR:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function QR(t,e){return(n,r)=>{let s=Zo.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=Ere(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const XR=QR(!1,!0),ZR=QR(!0,!0),Nre=Sn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>XR(t,e),redo:()=>({state:t,dispatch:e})=>ZR(t,e)}},addProseMirrorPlugins(){return[Cre(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Mre=Qr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",It(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:s}=n,i=t();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):Hte(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(ge.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(ue.create(o.doc,c.pos)):o.setSelection(ge.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(ge.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[bne({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),jre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Ore=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Are=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Lre=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Dre=xs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Fl({find:jre,type:this.type}),Fl({find:Are,type:this.type})]},addPasteRules(){return[ha({find:Ore,type:this.type}),ha({find:Lre,type:this.type})]}}),Pre=Qr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",It(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Rre="listItem",NN="textStyle",MN=/^(\d+)\.\s$/,Ire=Qr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",It(this.options.HTMLAttributes,n),0]:["ol",It(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Rre,this.editor.getAttributes(NN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=hd({find:MN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hd({find:MN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(NN)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),_re=Qr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),$re=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Fre=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,zre=xs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Fl({find:$re,type:this.type})]},addPasteRules(){return[ha({find:Fre,type:this.type})]}}),Bre=Qr.create({name:"text",group:"inline"}),Ure=Sn.create({name:"starterKit",addExtensions(){var t,e,n,r,s,i,o,a,l,c,u,d,h,p,m,y,x,v;const w=[];return this.options.bold!==!1&&w.push(Kne.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&w.push(Hne.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&w.push(Qne.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&w.push(ere.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&w.push(rre.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&w.push(sre.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&w.push(are.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&w.push(mre.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&w.push(gre.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&w.push(yre.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&w.push(Nre.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&w.push(Mre.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&w.push(Dre.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&w.push(Pre.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&w.push(Ire.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&w.push(_re.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&w.push(zre.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&w.push(Bre.configure((v=this.options)===null||v===void 0?void 0:v.text)),w}}),Vre="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Hre="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",zl=(t,e)=>{for(const n in e)t[n]=e[n];return t},Wx="numeric",Gx="ascii",Yx="alpha",vu="asciinumeric",Wc="alphanumeric",qx="domain",eI="emoji",Wre="scheme",Gre="slashscheme",m0="whitespace";function Yre(t,e){return t in e||(e[t]=[]),e[t]}function Vo(t,e,n){e[Wx]&&(e[vu]=!0,e[Wc]=!0),e[Gx]&&(e[vu]=!0,e[Yx]=!0),e[vu]&&(e[Wc]=!0),e[Yx]&&(e[Wc]=!0),e[Wc]&&(e[qx]=!0),e[eI]&&(e[qx]=!0);for(const r in e){const s=Yre(r,n);s.indexOf(t)<0&&s.push(t)}}function qre(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Rn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Rn.groups={};Rn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Rn.groups;let s;return e&&e.j?s=e:(s=new Rn(e),n&&r&&Vo(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Rn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,a=s.go(t);if(a?(o=new Rn,zl(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Rn,i){if(r)if(o.t&&typeof o.t=="string"){const l=zl(qre(o.t,r),n);Vo(i,l,r)}else n&&Vo(i,n,r);o.t=i}return s.j[t]=o,o}};const be=(t,e,n,r,s)=>t.ta(e,n,r,s),ot=(t,e,n,r,s)=>t.tr(e,n,r,s),jN=(t,e,n,r,s)=>t.ts(e,n,r,s),W=(t,e,n,r,s)=>t.tt(e,n,r,s),Ls="WORD",Kx="UWORD",tI="ASCIINUMERICAL",nI="ALPHANUMERICAL",pd="LOCALHOST",Jx="TLD",Qx="UTLD",xh="SCHEME",Ra="SLASH_SCHEME",Y1="NUM",Xx="WS",q1="NL",xu="OPENBRACE",wu="CLOSEBRACE",Fp="OPENBRACKET",zp="CLOSEBRACKET",Bp="OPENPAREN",Up="CLOSEPAREN",Vp="OPENANGLEBRACKET",Hp="CLOSEANGLEBRACKET",Wp="FULLWIDTHLEFTPAREN",Gp="FULLWIDTHRIGHTPAREN",Yp="LEFTCORNERBRACKET",qp="RIGHTCORNERBRACKET",Kp="LEFTWHITECORNERBRACKET",Jp="RIGHTWHITECORNERBRACKET",Qp="FULLWIDTHLESSTHAN",Xp="FULLWIDTHGREATERTHAN",Zp="AMPERSAND",K1="APOSTROPHE",em="ASTERISK",wi="AT",tm="BACKSLASH",nm="BACKTICK",rm="CARET",Ni="COLON",J1="COMMA",sm="DOLLAR",as="DOT",im="EQUALS",Q1="EXCLAMATION",fr="HYPHEN",bu="PERCENT",om="PIPE",am="PLUS",lm="POUND",Su="QUERY",X1="QUOTE",rI="FULLWIDTHMIDDLEDOT",Z1="SEMI",ls="SLASH",ku="TILDE",cm="UNDERSCORE",sI="EMOJI",um="SYM";var iI=Object.freeze({__proto__:null,WORD:Ls,UWORD:Kx,ASCIINUMERICAL:tI,ALPHANUMERICAL:nI,LOCALHOST:pd,TLD:Jx,UTLD:Qx,SCHEME:xh,SLASH_SCHEME:Ra,NUM:Y1,WS:Xx,NL:q1,OPENBRACE:xu,CLOSEBRACE:wu,OPENBRACKET:Fp,CLOSEBRACKET:zp,OPENPAREN:Bp,CLOSEPAREN:Up,OPENANGLEBRACKET:Vp,CLOSEANGLEBRACKET:Hp,FULLWIDTHLEFTPAREN:Wp,FULLWIDTHRIGHTPAREN:Gp,LEFTCORNERBRACKET:Yp,RIGHTCORNERBRACKET:qp,LEFTWHITECORNERBRACKET:Kp,RIGHTWHITECORNERBRACKET:Jp,FULLWIDTHLESSTHAN:Qp,FULLWIDTHGREATERTHAN:Xp,AMPERSAND:Zp,APOSTROPHE:K1,ASTERISK:em,AT:wi,BACKSLASH:tm,BACKTICK:nm,CARET:rm,COLON:Ni,COMMA:J1,DOLLAR:sm,DOT:as,EQUALS:im,EXCLAMATION:Q1,HYPHEN:fr,PERCENT:bu,PIPE:om,PLUS:am,POUND:lm,QUERY:Su,QUOTE:X1,FULLWIDTHMIDDLEDOT:rI,SEMI:Z1,SLASH:ls,TILDE:ku,UNDERSCORE:cm,EMOJI:sI,SYM:um});const Os=/[a-z]/,Nc=new RegExp("\\p{L}","u"),g0=new RegExp("\\p{Emoji}","u"),As=/\d/,y0=/\s/,ON="\r",v0=`
`,Kre="",Jre="",x0="";let Ff=null,zf=null;function Qre(t=[]){const e={};Rn.groups=e;const n=new Rn;Ff==null&&(Ff=AN(Vre)),zf==null&&(zf=AN(Hre)),W(n,"'",K1),W(n,"{",xu),W(n,"}",wu),W(n,"[",Fp),W(n,"]",zp),W(n,"(",Bp),W(n,")",Up),W(n,"<",Vp),W(n,">",Hp),W(n,"",Wp),W(n,"",Gp),W(n,"",Yp),W(n,"",qp),W(n,"",Kp),W(n,"",Jp),W(n,"",Qp),W(n,"",Xp),W(n,"&",Zp),W(n,"*",em),W(n,"@",wi),W(n,"`",nm),W(n,"^",rm),W(n,":",Ni),W(n,",",J1),W(n,"$",sm),W(n,".",as),W(n,"=",im),W(n,"!",Q1),W(n,"-",fr),W(n,"%",bu),W(n,"|",om),W(n,"+",am),W(n,"#",lm),W(n,"?",Su),W(n,'"',X1),W(n,"/",ls),W(n,";",Z1),W(n,"~",ku),W(n,"_",cm),W(n,"\\",tm),W(n,"",rI);const r=ot(n,As,Y1,{[Wx]:!0});ot(r,As,r);const s=ot(r,Os,tI,{[vu]:!0}),i=ot(r,Nc,nI,{[Wc]:!0}),o=ot(n,Os,Ls,{[Gx]:!0});ot(o,As,s),ot(o,Os,o),ot(s,As,s),ot(s,Os,s);const a=ot(n,Nc,Kx,{[Yx]:!0});ot(a,Os),ot(a,As,i),ot(a,Nc,a),ot(i,As,i),ot(i,Os),ot(i,Nc,i);const l=W(n,v0,q1,{[m0]:!0}),c=W(n,ON,Xx,{[m0]:!0}),u=ot(n,y0,Xx,{[m0]:!0});W(n,x0,u),W(c,v0,l),W(c,x0,u),ot(c,y0,u),W(u,ON),W(u,v0),ot(u,y0,u),W(u,x0,u);const d=ot(n,g0,sI,{[eI]:!0});W(d,"#"),ot(d,g0,d),W(d,Kre,d);const h=W(d,Jre);W(h,"#"),ot(h,g0,d);const p=[[Os,o],[As,s]],m=[[Os,null],[Nc,a],[As,i]];for(let y=0;y<Ff.length;y++)li(n,Ff[y],Jx,Ls,p);for(let y=0;y<zf.length;y++)li(n,zf[y],Qx,Kx,m);Vo(Jx,{tld:!0,ascii:!0},e),Vo(Qx,{utld:!0,alpha:!0},e),li(n,"file",xh,Ls,p),li(n,"mailto",xh,Ls,p),li(n,"http",Ra,Ls,p),li(n,"https",Ra,Ls,p),li(n,"ftp",Ra,Ls,p),li(n,"ftps",Ra,Ls,p),Vo(xh,{scheme:!0,ascii:!0},e),Vo(Ra,{slashscheme:!0,ascii:!0},e),t=t.sort((y,x)=>y[0]>x[0]?1:-1);for(let y=0;y<t.length;y++){const x=t[y][0],w=t[y][1]?{[Wre]:!0}:{[Gre]:!0};x.indexOf("-")>=0?w[qx]=!0:Os.test(x)?As.test(x)?w[vu]=!0:w[Gx]=!0:w[Wx]=!0,jN(n,x,x,w)}return jN(n,"localhost",pd,{ascii:!0}),n.jd=new Rn(um),{start:n,tokens:zl({groups:e},iI)}}function oI(t,e){const n=Xre(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,h=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[o].length,h++),c+=n[o].length,i+=n[o].length,o++;i-=d,o-=h,c-=d,s.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return s}function Xre(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function li(t,e,n,r,s){let i;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new Rn(r),i.jr=s.slice(),t.j[l]=i),t=i}return i=new Rn(n),i.jr=s.slice(),t.j[e[o-1]]=i,i}function AN(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(t[r]),r++}return e}const md={defaultProtocol:"http",events:null,format:LN,formatHref:LN,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function eS(t,e=null){let n=zl({},md);t&&(n=zl(n,t instanceof eS?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}eS.prototype={o:md,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:md[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function LN(t){return t}function aI(t,e){this.t="token",this.v=t,this.tk=e}aI.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=md.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&zl(o,u),{tagName:s,attributes:o,content:i,eventListeners:d}}};function Ag(t,e){class n extends aI{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const DN=Ag("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),PN=Ag("text"),Zre=Ag("nl"),Bf=Ag("url",{isLink:!0,toHref(t=md.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==pd&&t[1].t===Ni}}),ur=t=>new Rn(t);function ese({groups:t}){const e=t.domain.concat([Zp,em,wi,tm,nm,rm,sm,im,fr,Y1,bu,om,am,lm,ls,um,ku,cm]),n=[Ni,J1,as,Q1,bu,Su,X1,Z1,Vp,Hp,xu,wu,zp,Fp,Bp,Up,Wp,Gp,Yp,qp,Kp,Jp,Qp,Xp],r=[Zp,K1,em,tm,nm,rm,sm,im,fr,xu,wu,bu,om,am,lm,Su,ls,um,ku,cm],s=ur(),i=W(s,ku);be(i,r,i),be(i,t.domain,i);const o=ur(),a=ur(),l=ur();be(s,t.domain,o),be(s,t.scheme,a),be(s,t.slashscheme,l),be(o,r,i),be(o,t.domain,o);const c=W(o,wi);W(i,wi,c),W(a,wi,c),W(l,wi,c);const u=W(i,as);be(u,r,i),be(u,t.domain,i);const d=ur();be(c,t.domain,d),be(d,t.domain,d);const h=W(d,as);be(h,t.domain,d);const p=ur(DN);be(h,t.tld,p),be(h,t.utld,p),W(c,pd,p);const m=W(d,fr);W(m,fr,m),be(m,t.domain,d),be(p,t.domain,d),W(p,as,h),W(p,fr,m);const y=W(p,Ni);be(y,t.numeric,DN);const x=W(o,fr),v=W(o,as);W(x,fr,x),be(x,t.domain,o),be(v,r,i),be(v,t.domain,o);const w=ur(Bf);be(v,t.tld,w),be(v,t.utld,w),be(w,t.domain,o),be(w,r,i),W(w,as,v),W(w,fr,x),W(w,wi,c);const b=W(w,Ni),S=ur(Bf);be(b,t.numeric,S);const k=ur(Bf),E=ur();be(k,e,k),be(k,n,E),be(E,e,k),be(E,n,E),W(w,ls,k),W(S,ls,k);const T=W(a,Ni),C=W(l,Ni),L=W(C,ls),M=W(L,ls);be(a,t.domain,o),W(a,as,v),W(a,fr,x),be(l,t.domain,o),W(l,as,v),W(l,fr,x),be(T,t.domain,k),W(T,ls,k),W(T,Su,k),be(M,t.domain,k),be(M,e,k),W(M,ls,k);const N=[[xu,wu],[Fp,zp],[Bp,Up],[Vp,Hp],[Wp,Gp],[Yp,qp],[Kp,Jp],[Qp,Xp]];for(let j=0;j<N.length;j++){const[I,B]=N[j],se=W(k,I);W(E,I,se),W(se,B,k);const te=ur(Bf);be(se,e,te);const $=ur();be(se,n),be(te,e,te),be(te,n,$),be($,e,te),be($,n,$),W(te,B,k),W($,B,k)}return W(s,pd,w),W(s,q1,Zre),{start:s,tokens:iI}}function tse(t,e,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=t,l=null,c=null,u=0,d=null,h=-1;for(;s<r&&!(l=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(c=l||a.go(n[s].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,s++,u++;if(h<0)s-=u,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(w0(PN,e,o)),o=[]),s-=h,u-=h;const p=d.t,m=n.slice(s-u,s);i.push(w0(p,e,m))}}return o.length>0&&i.push(w0(PN,e,o)),i}function w0(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const nse=typeof console<"u"&&console&&console.warn||(()=>{}),rse="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ge={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function sse(){return Rn.groups={},Ge.scanner=null,Ge.parser=null,Ge.tokenQueue=[],Ge.pluginQueue=[],Ge.customSchemes=[],Ge.initialized=!1,Ge}function RN(t,e=!1){if(Ge.initialized&&nse(`linkifyjs: already initialized - will not register custom scheme "${t}" ${rse}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ge.customSchemes.push([t,e])}function ise(){Ge.scanner=Qre(Ge.customSchemes);for(let t=0;t<Ge.tokenQueue.length;t++)Ge.tokenQueue[t][1]({scanner:Ge.scanner});Ge.parser=ese(Ge.scanner.tokens);for(let t=0;t<Ge.pluginQueue.length;t++)Ge.pluginQueue[t][1]({scanner:Ge.scanner,parser:Ge.parser});return Ge.initialized=!0,Ge}function tS(t){return Ge.initialized||ise(),tse(Ge.parser.start,t,oI(Ge.scanner.start,t))}tS.scan=oI;function lI(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new eS(n),s=tS(t),i=[];for(let o=0;o<s.length;o++){const a=s[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&i.push(a.toFormattedObject(r))}return i}function ose(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function ase(t){return new Yt({key:new or("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=r,a=Pte(n.doc,[...e]);if(Ute(a).forEach(({newRange:c})=>{const u=Ite(r.doc,c,p=>p.isTextblock);let d,h;if(u.length>1?(d=u[0],h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],h=r.doc.textBetween(d.pos,c.to,void 0," ")),d&&h){const p=h.split(" ").filter(v=>v!=="");if(p.length<=0)return!1;const m=p[p.length-1],y=d.pos+h.lastIndexOf(m);if(!m)return!1;const x=tS(m).map(v=>v.toObject(t.defaultProtocol));if(!ose(x))return!1;x.filter(v=>v.isLink).map(v=>({...v,from:y+v.start+1,to:y+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).filter(v=>t.shouldAutoLink(v.value)).forEach(v=>{U1(v.from,v.to,r.doc).some(w=>w.mark.type===t.type)||o.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!o.steps.length)return o}})}function lse(t){return new Yt({key:new or("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=YR(e.state,t.type.name),c=r.target,u=(s=c==null?void 0:c.href)!==null&&s!==void 0?s:l.href,d=(i=c==null?void 0:c.target)!==null&&i!==void 0?i:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function cse(t){return new Yt({key:new or("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:o}=i;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=lI(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}const use=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function wo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(use,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const dse=xs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){RN(t);return}RN(t.scheme,t.optionalSlashes)})},onDestroy(){sse()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!wo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!wo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!wo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",It(this.options.HTMLAttributes,t),0]:["a",It(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!wo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!wo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ha({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=lI(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!wo(o,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(ase({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!wo(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(lse({type:this.type})),this.options.linkOnPaste&&t.push(cse({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),fse=xs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",It(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),hse=({editor:t})=>t?f.jsxs("div",{className:"flex items-center gap-1 p-1 mb-2 border-b border-design-greyOutlines dark:border-design-greyOutlines/20",children:[f.jsx(In,{text:"Bold (Ctrl+B)",children:f.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:`p-1.5 rounded hover:bg-design-primaryPurple/20 transition-all duration-200 ${t.isActive("bold")?"bg-design-primaryPurple/20 text-design-primaryPurple":"text-design-primaryGrey"}`,children:f.jsx(nz,{className:"h-4 w-4"})})}),f.jsx(In,{text:"Italic (Ctrl+I)",children:f.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-1.5 rounded hover:bg-design-primaryPurple/20 transition-all duration-200 ${t.isActive("italic")?"bg-design-primaryPurple/20 text-design-primaryPurple":"text-design-primaryGrey"}`,children:f.jsx(yz,{className:"h-4 w-4"})})}),f.jsx(In,{text:"Underline (Ctrl+U)",children:f.jsx("button",{onClick:()=>t.chain().focus().toggleUnderline().run(),className:`p-1.5 rounded hover:bg-design-primaryPurple/20 transition-all duration-200 ${t.isActive("underline")?"bg-design-primaryPurple/20 text-design-primaryPurple":"text-design-primaryGrey"}`,children:f.jsx(_z,{className:"h-4 w-4"})})}),f.jsx(In,{text:"Bullet List",children:f.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-1.5 rounded hover:bg-design-primaryPurple/20 transition-colors ${t.isActive("bulletList")?"bg-design-primaryPurple/20 text-design-primaryPurple":"text-design-primaryGrey"}`,children:f.jsx(K2,{className:"h-4 w-4"})})}),f.jsx(In,{text:"Numbered List",children:f.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-1.5 rounded hover:bg-design-primaryPurple/20 transition-colors ${t.isActive("orderedList")?"bg-design-primaryPurple/20 text-design-primaryPurple":"text-design-primaryGrey"}`,children:f.jsx(Sz,{className:"h-4 w-4"})})})]}):null;function pse({content:t,onChange:e,onBlur:n}){const r=Fne({extensions:[Ure,fse,dse.configure({openOnClick:!0,autolink:!0,linkOnPaste:!0,validate:s=>/^https?:\/\//.test(s),HTMLAttributes:{class:"text-design-primaryPurple hover:underline",rel:"noopener noreferrer nofollow",target:"_blank"}})],content:t||"",onUpdate:({editor:s})=>{e(s.getHTML())},onBlur:({editor:s})=>{n==null||n(s.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none"}}});return f.jsxs("div",{className:"w-full rounded-lg border border-gray-100 shadow-sm p-2 focus-within:border-primary focus-within:ring-primary resize-none transition-all hover:border-primary dark:bg-design-black/50 dark:border-design-greyOutlines/20",children:[f.jsx(hse,{editor:r}),f.jsx(jne,{editor:r})]})}function mse({isOpen:t,onClose:e,users:n,currentAssignees:r,onAssign:s}){yg(t);const[i,o]=g.useState(r),[a,l]=g.useState("");g.useEffect(()=>{o(r)},[r,t]);const c=p=>i.some(m=>m._id===p),u=p=>{const m=c(p._id)?i.filter(y=>y._id!==p._id):[...i,p];o(m)},d=()=>{JSON.stringify(i)!==JSON.stringify(r)&&s(i),e()},h=n.filter(p=>p.firstName.toLowerCase().includes(a.toLowerCase())||p.lastName.toLowerCase().includes(a.toLowerCase()));return f.jsx(yt,{children:t&&f.jsxs("div",{className:"fixed inset-x-0 top-48 flex items-start justify-center z-[200] mt-4",children:[f.jsx(J.div,{className:"fixed inset-0 bg-black/20 backdrop-blur-[2px]",onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),f.jsxs(J.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"w-[90%] max-w-md bg-white rounded-2xl shadow-lg overflow-hidden relative z-[201] flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"p-4 border-b border-design-greyOutlines bg-design-greyBG/50 flex-shrink-0",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Cl,{className:"w-5 h-5 text-design-primaryPurple"}),f.jsx("h3",{className:"text-lg font-medium text-design-black",children:"Assign Users"}),f.jsx("span",{className:"px-2 py-0.5 rounded-full bg-design-lightPurpleButtonFill text-design-primaryPurple text-xs font-medium",children:i.length})]}),f.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 text-design-primaryGrey hover:text-semantic-error rounded-full hover:bg-semantic-error-light transition-all",children:f.jsx(an,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"mt-4 relative",children:[f.jsx(Nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-design-primaryGrey"}),f.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:p=>l(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-design-greyOutlines bg-white focus:outline-none focus:ring-2 focus:ring-design-primaryPurple/20 focus:border-design-primaryPurple transition-all"})]})]}),f.jsx(yt,{children:i.length>0&&f.jsx(J.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden flex-shrink-0 bg-design-lightPurpleButtonFill",children:f.jsx("div",{className:"p-3 flex flex-wrap gap-2",children:i.map(p=>f.jsxs(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"flex items-center gap-2 bg-white rounded-full pl-1 pr-2 py-1 shadow-sm",children:[f.jsxs("div",{className:"h-6 w-6 rounded-full bg-design-primaryPurple text-white flex items-center justify-center text-xs font-medium",children:[p.firstName[0],p.lastName[0]]}),f.jsx("span",{className:"text-xs text-design-primaryGrey",children:p.firstName}),f.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(p),className:"ml-1 p-1 rounded-full hover:bg-semantic-error-light hover:text-semantic-error",children:f.jsx(an,{className:"h-3 w-3"})})]},p._id))})})}),f.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:f.jsx("div",{className:"p-2 space-y-1",children:n.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(Cl,{className:"w-16 h-16 text-gray-300 mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Team Members Yet"}),f.jsx("p",{className:"text-gray-500 text-center text-sm max-w-[250px]",children:"Share this board with a team first to start assigning tasks to team members"})]}):h.map(p=>f.jsxs(J.button,{onClick:()=>u(p),whileHover:{scale:1.01},whileTap:{scale:.99},className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${c(p._id)?"bg-design-lightPurpleButtonFill text-design-primaryPurple":"hover:bg-design-greyBG"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${c(p._id)?"bg-design-primaryPurple text-white":"bg-design-greyBG text-design-primaryGrey"}`,children:[p.firstName[0],p.lastName[0]]}),f.jsx("div",{className:"text-left",children:f.jsxs("p",{className:"font-medium text-design-black",children:[p.firstName," ",p.lastName]})})]}),f.jsx(J.div,{initial:!1,animate:c(p._id)?{rotate:360}:{rotate:0},children:c(p._id)?f.jsx($c,{className:"h-5 w-5 text-semantic-error"}):f.jsx(ob,{className:"h-5 w-5 text-design-primaryPurple opacity-0 group-hover:opacity-100"})})]},p._id))})}),f.jsx("div",{className:"p-4 border-t border-design-greyOutlines bg-design-greyBG/50 flex-shrink-0",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o([]),className:"px-4 py-2 rounded-lg text-semantic-error hover:bg-semantic-error-light transition-all",children:"Clear All"}),f.jsx(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:"px-4 py-2 rounded-lg bg-design-primaryPurple text-white hover:bg-button-primary-hover transition-all",children:"Save Changes"})]})})]})]})})}const gse="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjEwMCUiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2VyaWY9Imh0dHA6Ly93d3cuc2VyaWYuY29tLyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxwYXRoIGQ9Ik01MTIsMjU2YzAsLTE0MS4zODUgLTExNC42MTUsLTI1NiAtMjU2LC0yNTZjLTE0MS4zODUsMCAtMjU2LDExNC42MTUgLTI1NiwyNTZjMCwxMjcuNzc3IDkzLjYxNiwyMzMuNjg1IDIxNiwyNTIuODlsMCwtMTc4Ljg5bC02NSwwbDAsLTc0bDY1LDBsMCwtNTYuNGMwLC02NC4xNiAzOC4yMTksLTk5LjYgOTYuNjk1LC05OS42YzI4LjAwOSwwIDU3LjMwNSw1IDU3LjMwNSw1bDAsNjNsLTMyLjI4MSwwYy0zMS44MDEsMCAtNDEuNzE5LDE5LjczMyAtNDEuNzE5LDM5Ljk3OGwwLDQ4LjAyMmw3MSwwbC0xMS4zNSw3NGwtNTkuNjUsMGwwLDE3OC44OWMxMjIuMzg1LC0xOS4yMDUgMjE2LC0xMjUuMTEzIDIxNiwtMjUyLjg5WiIgc3R5bGU9ImZpbGw6IzE4NzdmMjtmaWxsLXJ1bGU6bm9uemVybzsiLz48cGF0aCBkPSJNMzU1LjY1LDMzMGwxMS4zNSwtNzRsLTcxLDBsMCwtNDguMDIyYzAsLTIwLjI0NSA5LjkxNywtMzkuOTc4IDQxLjcxOSwtMzkuOTc4bDMyLjI4MSwwbDAsLTYzYzAsMCAtMjkuMjk3LC01IC01Ny4zMDUsLTVjLTU4LjQ3NiwwIC05Ni42OTUsMzUuNDQgLTk2LjY5NSw5OS42bDAsNTYuNGwtNjUsMGwwLDc0bDY1LDBsMCwxNzguODljMTMuMDMzLDIuMDQ1IDI2LjM5MiwzLjExIDQwLDMuMTFjMTMuNjA4LDAgMjYuOTY2LC0xLjA2NSA0MCwtMy4xMWwwLC0xNzguODlsNTkuNjUsMFoiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1ydWxlOm5vbnplcm87Ii8+PC9nPjwvc3ZnPg==",yse="/assets/camera_instagram_instagram%20logo_icon-bFdsq0UL.svg",vse="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjEwMCUiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2VyaWY9Imh0dHA6Ly93d3cuc2VyaWYuY29tLyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJXaGF0c0FwcC1Mb2dvLUljb24iPjxwYXRoIGQ9Ik0xMTYuMjI1LC0wLjAwMWMtMTEuMjY0LDAuNTEyIC0yNi4xMTIsMS41MzYgLTMyLjc2OCwzLjA3MmMtMTAuMjQsMi4wNDggLTE5Ljk2OCw1LjEyIC0yNy42NDgsOS4yMTZjLTkuNzI4LDQuNjA4IC0xNy45MiwxMC43NTIgLTI1LjA4OCwxNy45MmMtNy42OCw3LjY4IC0xMy44MjQsMTUuODcyIC0xOC40MzIsMjUuNmMtNC4wOTYsNy42OCAtNy4xNjgsMTcuNDA4IC05LjIxNiwyNy42NDhjLTEuNTM2LDYuNjU2IC0yLjU2LDIxLjUwNCAtMi41NiwzMi43NjhjLTAuNTEyLDQuNjA4IC0wLjUxMiwxMC43NTIgLTAuNTEyLDEzLjgyNGwwLDI1MS45MDVsMCwxMy44MjRjMC41MTIsMTEuMjY0IDEuNTM2LDI2LjExMiAzLjA3MiwzMi43NjhjMi4wNDgsMTAuMjQgNS4xMiwxOS45NjggOS4yMTYsMjcuNjQ4YzQuNjA4LDkuNzI4IDEwLjc1MiwxNy45MiAxNy45MiwyNS4wODhjNy42OCw3LjY4IDE1Ljg3MiwxMy44MjQgMjUuNiwxOC40MzJjNy42OCw0LjA5NiAxNy40MDgsNy4xNjggMjcuNjQ4LDkuMjE2YzYuNjU2LDEuNTM2IDIxLjUwNCwyLjU2IDMyLjc2OCwyLjU2YzQuNjA4LDAuNTEyIDEwLjc1MiwwLjUxMiAxMy44MjQsMC41MTJsMjUxLjkwNCwwbDEzLjgyNCwwYzExLjI2NCwtMC41MTIgMjYuMTEyLC0xLjUzNiAzMi43NjgsLTMuMDcyYzEwLjI0LC0yLjA0OCAxOS45NjgsLTUuMTIgMjcuNjQ4LC05LjIxNmM5LjcyOCwtNC42MDggMTcuOTIsLTEwLjc1MiAyNS4wODgsLTE3LjkyYzcuNjgsLTcuNjggMTMuODI0LC0xNS44NzIgMTguNDMyLC0yNS42YzQuMDk2LC03LjY4IDcuMTY4LC0xNy40MDggOS4yMTYsLTI3LjY0OGMxLjUzNiwtNi42NTYgMi41NiwtMjEuNTA0IDIuNTYsLTMyLjc2OGMwLjUxMiwtNC42MDggMC41MTIsLTEwLjc1MiAwLjUxMiwtMTMuODI0bDAsLTI2NS43MjljLTAuNTEyLC0xMS4yNjQgLTEuNTM2LC0yNi4xMTIgLTMuMDcyLC0zMi43NjhjLTIuMDQ4LC0xMC4yNCAtNS4xMiwtMTkuOTY4IC05LjIxNiwtMjcuNjQ4Yy00LjYwOCwtOS43MjggLTEwLjc1MiwtMTcuOTIgLTE3LjkyLC0yNS4wODhjLTcuNjgsLTcuNjggLTE1Ljg3MiwtMTMuODI0IC0yNS42LC0xOC40MzJjLTcuNjgsLTQuMDk2IC0xNy40MDgsLTcuMTY4IC0yNy42NDgsLTkuMjE2Yy02LjY1NiwtMS41MzYgLTIxLjUwNCwtMi41NiAtMzIuNzY4LC0yLjU2Yy00LjYwOCwtMC41MTIgLTEwLjc1MiwtMC41MTIgLTEzLjgyNCwtMC41MTJsLTI2NS43MjgsMFoiIHN0eWxlPSJmaWxsOnVybCgjX0xpbmVhcjEpO2ZpbGwtcnVsZTpub256ZXJvOyIvPjxwYXRoIGQ9Ik0zNDQuNzU0LDI4OS42OThjLTQuNTYsLTIuMjgyIC0yNi45OCwtMTMuMzExIC0zMS4xNjEsLTE0LjgzMmMtNC4xOCwtMS41MjEgLTcuMjE5LC0yLjI4MiAtMTAuMjU5LDIuMjgyYy0zLjA0MSw0LjU2NCAtMTEuNzgsMTQuODMyIC0xNC40NCwxNy44NzVjLTIuNjYsMy4wNDIgLTUuMzIsMy40MjMgLTkuODgsMS4xNGMtNC41NjEsLTIuMjgxIC0xOS4yNTQsLTcuMDk1IC0zNi42NzIsLTIyLjYyN2MtMTMuNTU2LC0xMi4wODcgLTIyLjcwOSwtMjcuMDE3IC0yNS4zNjksLTMxLjU4MWMtMi42NiwtNC41NjQgLTAuMjgzLC03LjAzMSAyLC05LjMwNGMyLjA1MSwtMi4wNDEgNC41NiwtNS4zMjQgNi44NCwtNy45ODZjMi4yOCwtMi42NjIgMy4wNCwtNC41NjQgNC41NiwtNy42MDZjMS41MiwtMy4wNDIgMC43NiwtNS43MDUgLTAuMzgsLTcuOTg3Yy0xLjE0LC0yLjI4MiAtMTAuMjYsLTI0LjcyIC0xNC4wNiwtMzMuODQ4Yy0zLjcwMSwtOC44ODkgLTcuNDYxLC03LjY4NiAtMTAuMjYsLTcuODI2Yy0yLjY1NywtMC4xMzIgLTUuNywtMC4xNiAtOC43NCwtMC4xNmMtMy4wNDEsMCAtNy45OCwxLjE0MSAtMTIuMTYxLDUuNzA0Yy00LjE4LDQuNTY0IC0xNS45NiwxNS41OTQgLTE1Ljk2LDM4LjAzMmMwLDIyLjQzOCAxNi4zNCw0NC4xMTYgMTguNjIsNDcuMTU5YzIuMjgxLDMuMDQzIDMyLjE1Nyw0OS4wODkgNzcuOTAyLDY4LjgzNmMxMC44OCw0LjY5NyAxOS4zNzQsNy41MDEgMjUuOTk3LDkuNjAzYzEwLjkyNCwzLjQ2OSAyMC44NjYsMi45OCAyOC43MjMsMS44MDZjOC43NjEsLTEuMzA5IDI2Ljk4LC0xMS4wMjkgMzAuNzgxLC0yMS42NzdjMy43OTksLTEwLjY0OSAzLjc5OSwtMTkuNzc3IDIuNjU5LC0yMS42NzhjLTEuMTM5LC0xLjkwMiAtNC4xNzksLTMuMDQzIC04Ljc0LC01LjMyNW0tODMuMjA3LDExMy41NzNsLTAuMDYxLDBjLTI3LjIyLC0wLjAxMSAtNTMuOTE3LC03LjMyIC03Ny4yMDcsLTIxLjEzN2wtNS41MzksLTMuMjg3bC01Ny40MTMsMTUuMDU2bDE1LjMyNSwtNTUuOTU5bC0zLjYwOCwtNS43MzZjLTE1LjE4NCwtMjQuMTQ1IC0yMy4yMDMsLTUyLjA1MSAtMjMuMTkyLC04MC43MDRjMC4wMzMsLTgzLjYxMSA2OC4wODMsLTE1MS42MzUgMTUxLjc1NiwtMTUxLjYzNWM0MC41MTcsMC4wMTYgNzguNjAzLDE1LjgxMSAxMDcuMjQzLDQ0LjQ3NGMyOC42NCwyOC42NjMgNDQuNDA0LDY2Ljc2NCA0NC4zODksMTA3LjI4M2MtMC4wMzUsODMuNjE3IC02OC4wODMsMTUxLjY0NSAtMTUxLjY5MywxNTEuNjQ1bTEyOS4xMDIsLTI4MC43MDljLTM0LjQ1NywtMzQuNDg2IC04MC4yODEsLTUzLjQ4NyAtMTI5LjEwMywtNTMuNTA3Yy0xMDAuNTk1LDAgLTE4Mi40NjgsODEuODQxIC0xODIuNTA4LDE4Mi40MzdjLTAuMDEzLDMyLjE1NiA4LjM5LDYzLjU0NiAyNC4zNjEsOTEuMjEybC0yNS44OTIsOTQuNTQ1bDk2Ljc1LC0yNS4zN2MyNi42NTcsMTQuNTM1IDU2LjY3LDIyLjE5NCA4Ny4yMTYsMjIuMjA3bDAuMDc1LDBjMTAwLjU4NiwwIDE4Mi40NjUsLTgxLjg1MiAxODIuNTA2LC0xODIuNDQ4YzAuMDE5LC00OC43NTEgLTE4Ljk0NiwtOTQuNTkgLTUzLjQwNSwtMTI5LjA3NiIgc3R5bGU9ImZpbGw6I2ZmZjsiLz48L2c+PGRlZnM+PGxpbmVhckdyYWRpZW50IGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMCwtNTEyLC01MTIsMCwyNTYuMDAxLDUxMikiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBpZD0iX0xpbmVhcjEiIHgxPSIwIiB4Mj0iMSIgeTE9IjAiIHkyPSIwIj48c3RvcCBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMyNWNmNDM7c3RvcC1vcGFjaXR5OjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MWZkN2Q7c3RvcC1vcGFjaXR5OjEiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",xse="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='1200'%20height='1227'%20viewBox='0%200%201200%201227'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_1_2)'%3e%3cpath%20d='M714.163%20519.284L1160.89%200H1055.03L667.137%20450.887L357.328%200H0L468.492%20681.821L0%201226.37H105.866L515.491%20750.218L842.672%201226.37H1200L714.137%20519.284H714.163ZM569.165%20687.828L521.697%20619.934L144.011%2079.6944H306.615L611.412%20515.685L658.88%20583.579L1055.08%201150.3H892.476L569.165%20687.854V687.828Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1_2'%3e%3crect%20width='1200'%20height='1227'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",wse="/assets/brand_business_google_logo_my_icon-CJbeiAaq.svg",bse="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjEwMCUiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2VyaWY9Imh0dHA6Ly93d3cuc2VyaWYuY29tLyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJnNTg5MSI+PHBhdGggZD0iTTUxMiw2NGMwLC0zNS4zMjMgLTI4LjY3NywtNjQgLTY0LC02NGwtMzg0LDBjLTM1LjMyMywwIC02NCwyOC42NzcgLTY0LDY0bDAsMzg0YzAsMzUuMzIzIDI4LjY3Nyw2NCA2NCw2NGwzODQsMGMzNS4zMjMsMCA2NCwtMjguNjc3IDY0LC02NGwwLC0zODRaIiBpZD0iYmFja2dyb3VuZCIgc3R5bGU9ImZpbGw6IzI4NjdiMjsiLz48ZyBpZD0ic2hhcGVzIj48cmVjdCBoZWlnaHQ9IjI1Ny45NjIiIGlkPSJyZWN0MTEiIHN0eWxlPSJmaWxsOiNmZmY7IiB3aWR0aD0iODUuNzYiIHg9IjYxLjA1MyIgeT0iMTc4LjY2NyIvPjxwYXRoIGQ9Ik0xMDQuNTEyLDU0LjI4Yy0yOS4zNDEsMCAtNDguNTEyLDE5LjI5IC00OC41MTIsNDQuNTczYzAsMjQuNzUyIDE4LjU4OCw0NC41NzQgNDcuMzc3LDQ0LjU3NGwwLjU1NCwwYzI5LjkwMywwIDQ4LjUxNiwtMTkuODIyIDQ4LjUxNiwtNDQuNTc0Yy0wLjU1NSwtMjUuMjgzIC0xOC42MTEsLTQ0LjU3MyAtNDcuOTM1LC00NC41NzNaIiBpZD0icGF0aDEzLTAiIHN0eWxlPSJmaWxsOiNmZmY7ZmlsbC1ydWxlOm5vbnplcm87Ii8+PHBhdGggZD0iTTM1Ny4yNzgsMTcyLjYwMWMtNDUuNDksMCAtNjUuODY2LDI1LjAxNyAtNzcuMjc2LDQyLjU4OWwwLC0zNi41MjNsLTg1LjczOCwwYzEuMTM3LDI0LjE5NyAwLDI1Ny45NjEgMCwyNTcuOTYxbDg1LjczNywwbDAsLTE0NC4wNjRjMCwtNy43MTEgMC41NTQsLTE1LjQyIDIuODI3LC0yMC45MzFjNi4xODgsLTE1LjQgMjAuMzA1LC0zMS4zNTIgNDMuOTkzLC0zMS4zNTJjMzEuMDEyLDAgNDMuNDM2LDIzLjY2NCA0My40MzYsNTguMzI3bDAsMTM4LjAybDg1Ljc0MSwwbDAsLTE0Ny45M2MwLC03OS4yMzcgLTQyLjMwNSwtMTE2LjA5NyAtOTguNzIsLTExNi4wOTdaIiBpZD0icGF0aDE1IiBzdHlsZT0iZmlsbDojZmZmO2ZpbGwtcnVsZTpub256ZXJvOyIvPjwvZz48L2c+PC9zdmc+",Sse="/assets/mastodon_icon-BVMZV5WY.svg",kse="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjEwMCUiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2VyaWY9Imh0dHA6Ly93d3cuc2VyaWYuY29tLyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxwYXRoIGQ9Ik01MTEuOTk5LDI1Ni4wMDJjMCwxNDEuMzczIC0xMTQuNjA2LDI1NS45NzkgLTI1NS45OCwyNTUuOTc5Yy0xNDEuMzczLDAgLTI1NS45NzksLTExNC42MDYgLTI1NS45NzksLTI1NS45NzljMCwtMTQxLjM3NCAxMTQuNjA2LC0yNTUuOTggMjU1Ljk3OSwtMjU1Ljk4YzE0MS4zNzQsMCAyNTUuOTgsMTE0LjYwNiAyNTUuOTgsMjU1Ljk4WiIgc3R5bGU9ImZpbGw6I2ZmZjtmaWxsLXJ1bGU6bm9uemVybzsiLz48cGF0aCBkPSJNMjU1Ljk5OCwwLjAwMWMtMTQxLjM4NCwwIC0yNTUuOTk4LDExNC42MTcgLTI1NS45OTgsMjU1Ljk5OGMwLDEwOC40NTYgNjcuNDc1LDIwMS4xNzEgMTYyLjcwNywyMzguNDcxYy0yLjI0LC0yMC4yNTUgLTQuMjYxLC01MS40MDUgMC44ODksLTczLjUxOGM0LjY1LC0xOS45NzggMzAuMDE4LC0xMjcuMjQ4IDMwLjAxOCwtMTI3LjI0OGMwLDAgLTcuNjU5LC0xNS4zMzQgLTcuNjU5LC0zOC4wMDhjMCwtMzUuNTk2IDIwLjYzMiwtNjIuMTcxIDQ2LjMyMywtNjIuMTcxYzIxLjgzOSwwIDMyLjM5MSwxNi4zOTkgMzIuMzkxLDM2LjA2MWMwLDIxLjk2NiAtMTMuOTg0LDU0LjgwMyAtMjEuMjAzLDg1LjIzNWMtNi4wMywyNS40ODIgMTIuNzc5LDQ2LjI2MSAzNy45MDksNDYuMjYxYzQ1LjUwMywwIDgwLjQ3NywtNDcuOTc2IDgwLjQ3NywtMTE3LjIyOWMwLC02MS4yOTMgLTQ0LjA0NSwtMTA0LjE0OSAtMTA2LjkzMiwtMTA0LjE0OWMtNzIuODQxLDAgLTExNS41OTcsNTQuNjM0IC0xMTUuNTk3LDExMS4wOTVjMCwyMi4wMDQgOC40NzUsNDUuNTk2IDE5LjA1Miw1OC40MjFjMi4wOSwyLjUzNSAyLjM5OCw0Ljc1OCAxLjc3Niw3LjM0M2MtMS45NDUsOC4wODcgLTYuMjYyLDI1LjQ3NCAtNy4xMTEsMjkuMDMyYy0xLjExNyw0LjY4NiAtMy43MTEsNS42ODEgLTguNTYxLDMuNDI0Yy0zMS45NzQsLTE0Ljg4NCAtNTEuOTYzLC02MS42MjcgLTUxLjk2MywtOTkuMTc0YzAsLTgwLjc1NSA1OC42NzIsLTE1NC45MTUgMTY5LjE0OCwtMTU0LjkxNWM4OC44MDYsMCAxNTcuODIxLDYzLjI3OSAxNTcuODIxLDE0Ny44NWMwLDg4LjIyOSAtNTUuNjI5LDE1OS4yMzIgLTEzMi44NDIsMTU5LjIzMmMtMjUuOTQsMCAtNTAuMzI4LC0xMy40NzYgLTU4LjY3NCwtMjkuMzk0YzAsMCAtMTIuODM4LDQ4Ljg3OCAtMTUuOTUsNjAuODU2Yy01Ljc4MiwyMi4yMzcgLTIxLjM4Miw1MC4xMDkgLTMxLjgxOCw2Ny4xMWMyMy45NTUsNy40MTcgNDkuNDA5LDExLjQxNiA3NS43OTcsMTEuNDE2YzE0MS4zODksMCAyNTYuMDAzLC0xMTQuNjEyIDI1Ni4wMDMsLTI1Ni4wMDFjMCwtMTQxLjM4MSAtMTE0LjYxNCwtMjU1Ljk5OCAtMjU2LjAwMywtMjU1Ljk5OFoiIHN0eWxlPSJmaWxsOiNlNzFkMjc7ZmlsbC1ydWxlOm5vbnplcm87Ii8+PC9nPjwvc3ZnPg==",Ese="/assets/tiktok_logo_brand_icon-V55Nf6As.svg",Tse="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUwIDUwIiBpZD0iTGF5ZXJfMSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJXXzJfIj48cGF0aCBkPSJNMTAsMjVjMCw1LjksMy41LDExLjEsOC41LDEzLjVsLTcuMi0xOS42QzEwLjUsMjAuOCwxMCwyMi44LDEwLDI1eiIgZmlsbD0iIzEyQTVENyIvPjxwYXRoIGQ9Ik0zNS4xLDI0LjJjMC0xLjktMC43LTMuMS0xLjItNC4xYy0wLjgtMS4yLTEuNS0yLjMtMS41LTMuNWMwLTEuNCwxLTIuNywyLjUtMi43YzAuMSwwLDAuMSwwLDAuMiwwICAgQzMyLjUsMTEuNSwyOC45LDEwLDI1LDEwYy01LjIsMC05LjksMi43LTEyLjUsNi44YzAuNCwwLDAuNywwLDEsMGMxLjYsMCw0LTAuMiw0LTAuMmMwLjgsMCwwLjksMS4xLDAuMSwxLjJjMCwwLTAuOCwwLjEtMS43LDAuMSAgIGw1LjUsMTYuMmwzLjMtOS44TDIyLjIsMThjLTAuOCwwLTEuNi0wLjEtMS42LTAuMWMtMC44LDAtMC43LTEuMywwLjEtMS4yYzAsMCwyLjUsMC4yLDQsMC4yYzEuNiwwLDQtMC4yLDQtMC4yICAgYzAuOCwwLDAuOSwxLjEsMC4xLDEuMmMwLDAtMC44LDAuMS0xLjcsMC4xbDUuNCwxNi4xbDEuNS01QzM0LjYsMjcsMzUuMSwyNS41LDM1LjEsMjQuMnoiIGZpbGw9IiMxMkE1RDciLz48cGF0aCBkPSJNMjUuMywyNi4zbC00LjUsMTMuMWMxLjMsMC40LDIuOCwwLjYsNC4yLDAuNmMxLjcsMCwzLjQtMC4zLDUtMC45YzAtMC4xLTAuMS0wLjEtMC4xLTAuMkwyNS4zLDI2LjN6IiBmaWxsPSIjMTJBNUQ3Ii8+PHBhdGggZD0iTTM4LjIsMTcuOGMwLjEsMC41LDAuMSwxLDAuMSwxLjVjMCwxLjUtMC4zLDMuMi0xLjEsNS40TDMyLjUsMzhDMzcsMzUuNCw0MCwzMC41LDQwLDI1ICAgQzQwLDIyLjQsMzkuMywxOS45LDM4LjIsMTcuOHoiIGZpbGw9IiMxMkE1RDciLz48L2c+PHBhdGggZD0iTTI1LDFDMTEuNywxLDEsMTEuNywxLDI1czEwLjcsMjQsMjQsMjRzMjQtMTAuNywyNC0yNFMzOC4zLDEsMjUsMXogTTI1LDQ0QzE0LjUsNDQsNiwzNS41LDYsMjVTMTQuNSw2LDI1LDYgIHMxOSw4LjUsMTksMTlTMzUuNSw0NCwyNSw0NHoiIGZpbGw9IiMxMkE1RDciLz48L3N2Zz4=",Cse="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMC8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQnPjxzdmcgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzIgMzIiIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHZlcnNpb249IjEuMCIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iMzJweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGc+PHBhdGggZD0iTTMxLjY3LDkuMTc5YzAsMC0wLjMxMi0yLjM1My0xLjI3MS0zLjM4OWMtMS4yMTctMS4zNTgtMi41OC0xLjM2Ni0zLjIwNS0xLjQ0M0MyMi43MTcsNCwxNi4wMDIsNCwxNi4wMDIsNCAgIGgtMC4wMTVjMCwwLTYuNzE1LDAtMTEuMTkxLDAuMzQ3QzQuMTcxLDQuNDI0LDIuODA5LDQuNDMyLDEuNTkxLDUuNzlDMC42MzMsNi44MjYsMC4zMiw5LjE3OSwwLjMyLDkuMTc5UzAsMTEuOTQsMCwxNC43MDF2Mi41ODggICBjMCwyLjc2MywwLjMyLDUuNTIzLDAuMzIsNS41MjNzMC4zMTIsMi4zNTIsMS4yNzEsMy4zODZjMS4yMTgsMS4zNTgsMi44MTUsMS4zMTcsMy41MjcsMS40NTlDNy42NzcsMjcuOTE5LDE1Ljk5NSwyOCwxNS45OTUsMjggICBzNi43MjItMC4wMTIsMTEuMTk5LTAuMzU1YzAuNjI1LTAuMDgsMS45ODgtMC4wODgsMy4yMDUtMS40NDZjMC45NTgtMS4wMzQsMS4yNzEtMy4zODYsMS4yNzEtMy4zODZzMC4zMi0yLjc2MSwwLjMyLTUuNTIzdi0yLjU4OCAgIEMzMS45OSwxMS45NCwzMS42Nyw5LjE3OSwzMS42Nyw5LjE3OXoiIGZpbGw9IiNFMDJGMkYiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjEyLDEwIDEyLDIyIDIyLDE2ICAiLz48L2c+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PC9zdmc+",Nse=t=>({facebook:gse,google_my_business:wse,instagram_business:yse,linkedin:bse,mastodon:Sse,pinterest:kse,tiktok:Ese,twitter:xse,whatsapp:vse,wordpress:Tse,youtube:Cse})[t.toLowerCase()]||"/default-social.svg",Mse={hidden:{opacity:0},visible:{opacity:1}},jse={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{type:"spring",duration:.3}},exit:{opacity:0,scale:.95,transition:{duration:.2}}};function Ose({isOpen:t,onClose:e,channels:n,activeChannelIds:r,onShare:s}){yg(t);const[i,o]=g.useState([]),a=c=>{o(u=>u.includes(c)?u.filter(d=>d!==c):[...u,c]),console.log(i)},l=()=>{s(i),e()};return f.jsx(yt,{children:t&&f.jsxs("div",{className:"fixed inset-x-0 top-48 flex items-start justify-center z-[200] mt-4",children:[f.jsx(J.div,{className:"fixed inset-0 bg-black/30 backdrop-blur-[2px]",onClick:e,initial:"hidden",animate:"visible",exit:"hidden",variants:Mse}),f.jsxs(J.div,{className:"w-full max-w-sm bg-white p-6 rounded-2xl shadow-xl relative z-[201]",initial:"hidden",animate:"visible",exit:"exit",variants:jse,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f.jsx(D,{children:"Select Channels to Share"})}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:f.jsx(an,{className:"h-5 w-5"})})]}),n&&n.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(Z2,{className:"w-16 h-16 text-gray-300 mb-4"}),f.jsx("p",{className:"text-gray-500 text-center mb-2",children:f.jsx(D,{children:"No channels available"})}),f.jsx("p",{className:"text-gray-400 text-sm text-center",children:f.jsx(D,{children:"Please add some channels to start sharing your content"})})]}):f.jsx("div",{className:"grid gap-3 mb-6 max-h-[60vh] overflow-y-auto",children:n&&n.map(c=>f.jsxs("div",{onClick:()=>a(c.id),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer border transition-all ${i.includes(c.id)?"bg-design-lightPurpleButtonFill border-primary":"hover:bg-gray-50 border-gray-200"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:c.imageUrl,alt:c.socialNetwork,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-100"}),f.jsx("span",{className:"font-medium",children:c.socialNetwork.replace(/_/g," ").split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" ")})]}),f.jsx("img",{src:Nse(c.socialNetwork),alt:`${c.socialNetwork} icon`,className:"w-8 h-8 object-contain"})]},c.id))}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:l,disabled:i.length===0,className:"btn-primary",children:f.jsx(D,{children:"Share"})})})]})]})})}function Ase({isOpen:t,onClose:e,card:n,onUpdate:r,onDelete:s,onArchive:i,boardId:o,boardTitle:a,teamUsers:l}){var B,se,te;const[c,u]=g.useState(!1),[d,h]=g.useState(!1),[p,m]=g.useState(n.title),[y,x]=g.useState(n.description),v=g.useRef(null),{currentUser:w,currentUserChannels:b}=Mr(),[S,k]=g.useState(!1),[E,T]=g.useState(!1);g.useEffect(()=>{m(n.title),x(n.description)},[n.title,n.description]),g.useEffect(()=>{d&&v.current&&v.current.focus()},[d]);const C=()=>{e(),h(!1)},L=$=>{m($.target.value)},M=()=>{h(!1),p!==n.title&&r(n.id,{title:p})},N=async $=>{const P={title:n.title,description:n.description,attachments:n.attachments,accountId:w.accountId,userId:w.userId,userName:w.email,channelIds:$};try{const A=await fetch("http://localhost:5000/api/cp/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!A.ok)throw new Error("Failed to create post");const V=await A.json();me.success("Successfully shared to selected channels!"),console.log("Post created successfully:",V)}catch(A){me.error("Failed to share post"),console.error("Error creating post:",A)}},j=()=>{y!==n.description&&r(n.id,{description:y})},I=$=>{r(n.id,{due_date:$})};return f.jsx(nt,{appear:!0,show:t,as:g.Fragment,children:f.jsxs(ht,{as:"div",className:"relative z-50",onClose:C,children:[f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-design-black/25 backdrop-blur-sm"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center md:items-stretch justify-center md:justify-end p-4 text-center",children:f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-x-full",enterTo:"opacity-100 translate-x-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 translate-x-full",children:f.jsxs(ht.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white p-8 mt-8 text-left align-middle shadow-xl transition-all border border-gray-100 ",children:[f.jsxs("div",{className:"flex justify-between ",children:[f.jsx("p",{className:"text-xl sm:text-2xl font-medium text-design-primaryGrey",children:a}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(In,{text:"Share on CP SocialHub",position:"left",children:f.jsx("button",{onClick:()=>T(!0),className:`p-2 text-gray-400 hover:text-primary rounded-full 
                          hover:bg-primary-light transition-all duration-200 hover:scale-105`,children:f.jsx(Z2,{className:"h-5 w-5"})})}),f.jsx(In,{text:"Archive Card",position:"left",children:f.jsx("button",{onClick:()=>{i(n.id),e()},className:`p-2 text-gray-400 hover:text-primary rounded-full 
                          hover:bg-primary-light transition-all duration-200 hover:scale-105`,children:f.jsx(Hu,{className:"h-5 w-5"})})}),f.jsx(In,{text:"Delete Card",position:"left",children:f.jsx("button",{onClick:()=>{s(n.id),e()},className:`p-2 text-gray-400 hover:text-semantic-error rounded-full 
                          hover:bg-semantic-error-light transition-all duration-200 hover:scale-105`,children:f.jsx(Sa,{className:"h-5 w-5"})})}),f.jsx(In,{text:"Close",position:"left",children:f.jsx("button",{onClick:C,className:`p-2 text-gray-400 hover:text-primary rounded-full 
                          hover:bg-primary-light transition-all duration-200 hover:scale-105`,children:f.jsx(an,{className:"h-5 w-5"})})})]})]}),f.jsx("div",{className:"h-0.5 w-full bg-design-greyOutlines mt-2"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center  mt-8 p-3 rounded-xl ",children:[f.jsx(ez,{className:"h-6 w-6 text-design-primaryPurple flex-shrink-0 mr-3"}),f.jsx(ht.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 flex-grow mr-2",children:d?f.jsx("input",{ref:v,type:"text",value:p,onChange:L,onBlur:M,className:"w-full max-w-full text-xl font-semibold text-gray-900 border-b-2 border-primary focus:ring-0 focus:outline-none bg-primary-light/30 px-3 py-2 rounded-lg transition-all",placeholder:"Card title"}):f.jsx("span",{onClick:()=>h(!0),className:"text-2xl font-semibold text-gray-900 truncate hover:text-primary transition-colors cursor-pointer",children:p})}),f.jsxs("div",{className:"group relative",children:[f.jsx("button",{onClick:()=>h(!0),className:"p-2 text-gray-400 hover:text-design-primaryPurple rounded-full hover:bg-design-primaryPurple/20 transition-all hover:scale-110 flex-shrink-0",children:f.jsx(Rv,{className:"h-4 w-4"})}),f.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 hidden group-hover:block",children:f.jsxs("div",{className:"bg-gray-800 text-white text-sm py-1 px-2 rounded-md shadow-lg whitespace-nowrap",children:[f.jsx(D,{children:"Edit Title"}),f.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-gray-800"})]})})]})]}),f.jsxs("div",{className:"space-y-7 p-4 rounded-xl ",children:[f.jsxs("div",{className:"grid grid-cols-2 items-center ",children:[f.jsxs("label",{className:"flex text-base font-medium text-design-primaryGrey",children:[f.jsx(Ed,{className:"h-5 w-5 mr-2 text-design-primaryGrey"}),f.jsx(D,{children:"Due Date"})]}),f.jsx(gQ,{value:n.due_date,onChange:I})]}),f.jsxs("div",{className:"grid grid-cols-2 items-center",children:[f.jsxs("label",{className:"flex gap-2 text-base font-medium text-design-primaryGrey",children:[f.jsx(Tl,{className:"h-5 w-5 text-design-primaryGrey"}),f.jsx(D,{children:"Priority"})]}),f.jsx(cQ,{value:n.priority,onChange:$=>r(n.id,{priority:$})})]}),f.jsxs("div",{className:"grid grid-cols-2 items-center ",children:[f.jsxs("label",{className:"flex gap-2 text-base font-medium text-design-primaryGrey",children:[f.jsx(Iz,{className:"h-5 w-5 text-design-primaryGrey"}),f.jsx(D,{children:"Labels"})]}),f.jsx(dQ,{labels:n.labels,onUpdate:$=>r(n.id,{labels:$})})]}),f.jsxs("div",{className:"grid grid-cols-2 items-center",children:[f.jsxs("label",{className:"flex gap-2 text-base font-medium text-design-primaryGrey",children:[f.jsx(sz,{className:"h-5 w-5 text-design-primaryGrey"}),f.jsx(D,{children:"Assignees"})," (",((B=n.assignee)==null?void 0:B.length)||0,")"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex flex-wrap gap-2",children:n.assignee&&n.assignee.length>0?f.jsx("div",{className:"flex flex-wrap gap-1",children:n.assignee.map($=>f.jsxs("div",{className:"flex items-center gap-2 bg-primary-light rounded-full pl-1 pr-2 py-1",children:[f.jsxs("div",{className:"h-6 w-6 rounded-full bg-design-primaryPurple text-white flex items-center justify-center text-xs",children:[$.firstName[0],$.lastName[0]]}),f.jsx("span",{className:"text-xs text-design-primaryGrey",children:$.firstName})]},$._id))}):f.jsx("span",{className:"text-sm text-design-primaryGrey",children:f.jsx(D,{children:"No assignees"})})}),f.jsx("button",{onClick:()=>k(!0),className:"p-2 text-design-primaryGrey hover:text-primary rounded-full hover:bg-primary-light transition-all",children:f.jsx(Rv,{className:"h-4 w-4"})})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex text-base font-medium text-gray-700 items-center",children:[f.jsx(Nz,{className:"h-5 w-5 mr-2 text-design-primaryGrey"}),f.jsx(D,{children:"Description"})]}),f.jsx(pse,{content:y,onChange:x,onBlur:j},n.id)]}),f.jsxs("div",{className:"bg-gray-50/50 border border-gray-100 p-4 rounded-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:()=>u(!c),className:"inline-flex items-center px-4 py-2 border border-design-greyOutlines rounded-lg shadow-sm text-sm font-medium text-primary bg-white transition-all hover:scale-105",children:c?f.jsx(D,{children:"Hide Checklist"}):f.jsx(D,{children:"Show Checklist"})}),n.checklist&&n.checklist.length>0&&f.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-sm font-medium bg-button-tertiary-fill text-button-primary-cta dark:bg-button-tertiary-fill/20",children:[f.jsx(Wu,{className:"h-4 w-4 mr-1"}),n.checklist.filter($=>$.checked).length,"/",n.checklist.length]})]}),c&&f.jsx(mQ,{isOpen:c,onClose:()=>u(!1),checklist:n.checklist||[],onUpdate:$=>r(n.id,{checklist:$})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"flex items-center text-base font-medium text-design-primaryGrey",children:[f.jsx(ub,{className:"h-5 w-5 mr-2 text-design-primaryGrey"}),f.jsx(D,{children:"Attachments"})," (",((se=n.attachments)==null?void 0:se.length)||0,")"]}),f.jsx(hQ,{attachments:n.attachments||[],onAddAttachment:$=>r(n.id,{attachments:[...n.attachments||[],$]}),onDeleteAttachment:$=>r(n.id,{attachments:(n.attachments||[]).filter(P=>P.id!==$)}),boardId:o,boardTitle:a})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"flex items-center text-base font-medium text-design-primaryGrey",children:[f.jsx(cb,{className:"h-5 w-5 mr-2 text-design-primaryGrey"}),f.jsx(D,{children:"Comments"})," (",((te=n.comments)==null?void 0:te.length)||0,")"]}),f.jsx(pQ,{comments:n.comments||[],userUserId:w.userId,onAddComment:async $=>{const P={id:Date.now().toString(),text:$,author:w.firstName,user_id:w.userId,created_at:new Date().toISOString()};try{await Gy("add",n.id,P)}catch(A){console.error("Error adding comment:",A)}},onEditComment:async($,P)=>{const A={id:$,text:P,editedAt:new Date().toISOString()};try{await Gy("edit",n.id,A)}catch(V){console.error("Error editing comment:",V)}},onDeleteComment:async $=>{try{await Gy("delete",n.id,{commentId:$,account_id:w.accountId})}catch(P){console.error("Error deleting comment:",P)}},teamUsers:l,cardId:n.id,boardId:o,cardTitle:n.title})]})]}),f.jsx(mse,{isOpen:S,onClose:()=>k(!1),users:l,currentAssignees:n.assignee||[],onAssign:$=>r(n.id,{assignee:$})}),f.jsx(Ose,{isOpen:E,onClose:()=>T(!1),channels:b,activeChannelIds:w.activeChannelIds,onShare:N})]})})})})]})})}function cI({card:t,isDragging:e=!1,onUpdate:n,onDelete:r,onArchive:s,boardId:i,boardTitle:o,teamUsers:a}){const[l,c]=g.useState(!1),[u,d]=g.useState(t.completed||!1),[h,p]=g.useState(!1);g.useState(!0);const{attributes:m,listeners:y,setNodeRef:x,transform:v,transition:w}=aQ({id:t.id}),b={transform:to.Transform.toString(v),transition:w},S=T=>T?T.length>30?T.substring(0,20)+"...":T:"",k=T=>{T.stopPropagation(),c(!0)},E=T=>{T.stopPropagation();const C=!t.completed;d(C),n(t.id,{completed:C})};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{ref:x,style:b,...m,...y,onClick:()=>c(!0),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:`card p-4 cursor-grab hover:shadow-md transition-all  dark:hover:bg-design-black/70 ${e?"opacity-50":""} relative group ${t.priority==="high"?"border-l-4 border-b-0 border-t-0 border-r-0 border-semantic-error":t.priority==="medium"?"border-l-4 border-b-0 border-t-0 border-r-0 border-semantic-warning":"border-l-4 border-b-0 border-t-0 border-r-0 border-semantic-success"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:`text-sm font-semibold text-design-black truncate flex-1 group-hover:text-button-primary-cta transition-colors dark:text-design-white ${t.completed?"line-through":""}`,children:t.title}),f.jsx("button",{onClick:T=>{T.stopPropagation(),r(t.id)},className:"btn-ghost p-1 hover:text-semantic-error hover:scale-110 transition-all ml-2 dark:hover:text-semantic-error",children:f.jsx(Sa,{className:"h-4 w-4"})})]}),t.description&&f.jsxs("div",{className:"mt-2 flex items-start gap-2",children:[f.jsx("button",{onClick:E,className:`flex-shrink-0 mt-1 text-design-primaryGrey hover:text-button-primary-cta transition-colors ${h?"opacity-100":"opacity-0"} group-hover:opacity-100`,children:t.completed?f.jsx(ob,{className:"h-4 w-4 text-semantic-success"}):f.jsx(Wu,{className:"h-4 w-4"})}),f.jsx("p",{onClick:k,className:`text-xs text-design-primaryGrey dark:text-design-greyOutlines cursor-pointer hover:text-button-primary-cta transition-colors ${t.completed?"line-through":""}`,children:S(t.description.replace(/<\/?[^>]+>/g,""))})]}),t.due_date&&f.jsxs("div",{className:"mt-2 flex items-center text-xs text-design-primaryGrey dark:text-design-greyOutlines bg-button-tertiary-fill/30 w-fit px-2 py-1 rounded-full hover:bg-button-tertiary-fill/50 transition-colors",children:[f.jsx(Ed,{className:"h-3 w-3 mr-1"}),f.jsx("span",{children:Xn(new Date(t.due_date),"MMM d, yyyy")})]}),t.assignee&&t.assignee.length>0&&f.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:t.assignee.map((T,C)=>f.jsxs("div",{className:"h-6 w-6 rounded-full bg-design-primaryPurple text-white text-xs flex items-center justify-center",style:{zIndex:t.assignee.length-C,marginLeft:C>0?"-12px":"0"},children:[T.firstName[0],T.lastName[0]]}))}),f.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[f.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${t.priority==="high"?"bg-semantic-error-light text-semantic-error dark:bg-semantic-error/20":t.priority==="medium"?"bg-semantic-warning-light text-semantic-warning dark:bg-button-tertiary-fill/20":"bg-semantic-success-light text-semantic-success dark:bg-semantic-success/20"}`,children:f.jsx(D,{children:t.priority})}),t.checklist&&t.checklist.length>0&&f.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-button-tertiary-fill text-button-primary-cta dark:bg-button-tertiary-fill/20",children:[f.jsx(Wu,{className:"h-3 w-3 mr-1"}),t.checklist.filter(T=>T.checked).length,"/",t.checklist.length]}),t.attachments&&t.attachments.length>0&&f.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-button-secondary-fill text-design-primaryGrey dark:bg-button-secondary-fill/10 dark:text-design-greyOutlines",children:[f.jsx(ub,{className:"h-3 w-3 mr-1"}),t.attachments.length]}),t.comments&&t.comments.length>0&&f.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-button-secondary-fill text-design-primaryGrey dark:bg-button-secondary-fill/10 dark:text-design-greyOutlines",children:[f.jsx(cb,{className:"h-3 w-3 mr-1"}),t.comments.length]})]})]}),f.jsx(Ase,{isOpen:l,onClose:()=>c(!1),card:t,onUpdate:n,onDelete:r,onArchive:s,boardId:i,boardTitle:o,teamUsers:a})]})}const Zx=VD(t=>({users:[],currentUser:null,setCurrentUser:e=>t(n=>({currentUser:e,users:[...n.users.filter(r=>r.id!==e.id),e]})),addUser:e=>t(n=>({users:[...n.users.filter(r=>r.id!==e.id),e]})),removeUser:e=>t(n=>({users:n.users.filter(r=>r.id!==e)})),updateUserPresence:(e,n)=>t(r=>{var s;return{users:r.users.map(i=>i.id===e?{...i,...n,lastSeen:new Date().toISOString()}:i),currentUser:((s=r.currentUser)==null?void 0:s.id)===e?{...r.currentUser,...n,lastSeen:new Date().toISOString()}:r.currentUser}})}));function Lse({location:t,id:e}){const n=Zx(i=>i.users),r=Zx(i=>i.currentUser),s=n.filter(i=>i.id!==(r==null?void 0:r.id)&&(t==="card"?i.currentCard===e:i.currentColumn===e));return s.length===0?null:f.jsxs("div",{className:"flex -space-x-2 overflow-hidden animate-in slide-in-from-right",children:[s.slice(0,3).map(i=>f.jsx("div",{className:"inline-block h-6 w-6 rounded-full ring-2 ring-white shadow-sm hover:scale-110 transition-transform",title:i.email,children:i.avatar?f.jsx("img",{src:i.avatar,alt:i.email,className:"h-full w-full rounded-full object-cover hover:opacity-90 transition-opacity"}):f.jsx("div",{className:"h-full w-full rounded-full bg-primary flex items-center justify-center text-white text-xs font-medium hover:bg-primary-hover transition-colors",children:i.email.charAt(0).toUpperCase()})},i.id)),s.length>3&&f.jsxs("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary-light text-xs font-medium text-primary shadow-sm hover:scale-110 transition-transform",children:["+",s.length-3]})]})}function Dse(t){const{currentUser:e,addUser:n,removeUser:r,updateUserPresence:s}=Zx(),i=g.useRef(null);return g.useEffect(()=>{if(!e||!t)return;const a=oe.channel(`presence:${t}`,{config:{presence:{key:e.id}}});return i.current=a,a.on("presence",{event:"sync"},()=>{const l=a.presenceState();Object.values(l).forEach(c=>{if(c&&c.length>0){const u=c[0];n(u)}})}).on("presence",{event:"join"},({key:l,newPresence:c})=>{c&&c.length>0&&n(c[0])}).on("presence",{event:"leave"},({key:l})=>{r(l)}),a.subscribe(async l=>{l==="SUBSCRIBED"&&await a.track({...e,lastSeen:new Date().toISOString()})}),()=>{a.unsubscribe(),i.current=null}},[t,e,n,r]),{updatePresence:async a=>{if(!e||!i.current)return;const l={...e,...a,lastSeen:new Date().toISOString()};s(e.id,a),i.current.state==="joined"&&await i.current.track(l)}}}function Pse({isOpen:t,onClose:e,onConfirm:n,columnTitle:r}){const[s,i]=g.useState(1),[o,a]=g.useState(!1);g.useEffect(()=>{let c;return t&&s>0&&(c=setInterval(()=>{i(u=>u-1)},1e3)),()=>{clearInterval(c),i(1)}},[t]);const l=async()=>{a(!0),await n(),a(!1),e()};return f.jsx(nt,{appear:!0,show:t,as:g.Fragment,children:f.jsxs(ht,{as:"div",className:"relative z-50",onClose:e,children:[f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsxs(ht.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all",children:[f.jsxs(ht.Title,{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-white",children:[f.jsx(Tl,{className:"h-6 w-6 text-semantic-error"}),f.jsx(D,{children:"Delete Column"})]}),f.jsx("div",{className:"mt-4",children:f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.jsx(D,{children:"Are you sure you want to delete the column"})," ",f.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:['"',r,'"']}),"? ",f.jsx(D,{children:"This action cannot be undone."})]})}),f.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[f.jsx("button",{onClick:e,className:"btn-ghost",children:f.jsx(D,{children:"Cancel"})}),f.jsx("button",{onClick:l,disabled:s>0||o,className:`btn bg-semantic-error text-button-primary-text hover:bg-semantic-error focus:ring-semantic-error dark:bg-semantic-error dark:hover:bg-semantic-error/80 ${s>0?"opacity-50 cursor-not-allowed":"hover:bg-semantic-error/90"}`,children:o?f.jsx(D,{children:"Deleting..."}):s>0?f.jsxs(f.Fragment,{children:[f.jsx(D,{children:"Delete"})," (",s,"s)"]}):f.jsx(D,{children:"Delete"})})]})]})})})})]})})}function Rse({column:t,onAddCard:e,onUpdateCard:n,onDeleteCard:r,onArchiveCard:s,onDeleteColumn:i,onUpdateColumn:o,boardId:a,boardTitle:l,teamUsers:c}){const{setNodeRef:u}=uP({id:t.id}),{updatePresence:d}=Dse(a),[h,p]=g.useState(!1);_.useState(!0);const[m,y]=g.useState(!1),[x,v]=g.useState(t.title),w=E=>{E.preventDefault(),x.trim()&&x!==t.title&&o(t.id,{title:x.trim()}),y(!1)},b=E=>{E.key==="Escape"&&(v(t.title),y(!1))};_.useEffect(()=>(d({currentColumn:t.id}),()=>{d({currentColumn:void 0})}),[t.id,d]);const k=(t.cards||[]).filter(E=>!E.archived);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{ref:u,className:"flex-shrink-0 w-80 bg-design-greyBG/50 rounded-2xl p-4 dark:bg-button-tertiary-fill/10 flex flex-col h-full",children:[f.jsx("div",{className:"flex-none mb-4",children:f.jsxs("div",{className:"flex items-center justify-between mb-4 flex-none",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[m?f.jsx("form",{onSubmit:w,className:"flex-1",children:f.jsx("input",{type:"text",value:x,onChange:E=>v(E.target.value),onBlur:w,onKeyDown:b,className:"text-sm font-semibold bg-design-white dark:bg-design-black px-2 py-1 rounded w-full focus:outline-none focus:ring-2 focus:ring-button-primary-cta",autoFocus:!0})}):f.jsx("h3",{className:"text-sm font-semibold text-button-primary-cta dark:text-button-primary-text cursor-pointer hover:text-button-primary-hover",onClick:()=>y(!0),children:t.title}),f.jsx(Lse,{location:"column",id:t.id})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-sm font-medium text-button-primary-hover bg-design-white rounded-full dark:bg-design-black dark:text-button-primary-text",children:k.length}),f.jsx(In,{text:`Delete "${t.title}"`,position:"bottom",children:f.jsx("button",{onClick:()=>p(!0),className:"btn-ghost p-1",children:f.jsx(Sa,{className:"h-4 w-4"})})})]})]})}),f.jsxs("div",{className:"space-y-3 overflow-y-auto scrollbar-hide flex-1 relative",style:{maskImage:"linear-gradient(to bottom, transparent, black 5%, black 95%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, transparent, black 5%, black 95%, transparent 100%)"},children:[f.jsx("div",{className:"absolute inset-x-0 top-0 h-20 pointer-events-none",style:{background:"linear-gradient(to bottom, var(--tw-gradient-stops))","--tw-gradient-from":"rgb(var(--design-greyBG) / 0.05)","--tw-gradient-to":"transparent"}}),f.jsx("div",{className:"absolute inset-x-0 bottom-0 h-20 pointer-events-none",style:{background:"linear-gradient(to top, var(--tw-gradient-stops))","--tw-gradient-from":"rgb(var(--design-greyBG) / 0.05)","--tw-gradient-to":"transparent"}}),f.jsx(mP,{items:k.map(E=>E.id),children:k.map(E=>f.jsx(cI,{card:E,onUpdate:n,onDelete:r,onArchive:s,boardId:a,teamUsers:c,boardTitle:l},E.id))})]}),f.jsx("div",{className:"flex-none mt-3",children:f.jsxs("button",{onClick:e,className:"btn-secondary w-full",children:[f.jsx(Ks,{className:"h-4 w-4 mr-1"}),f.jsx(D,{children:"Add Card"})]})})]}),f.jsx(Pse,{isOpen:h,onClose:()=>p(!1),onConfirm:i,columnTitle:t.title})]})}function Ise({isOpen:t,onClose:e,onConfirm:n,boardTitle:r}){const[s,i]=g.useState(1),[o,a]=g.useState(!1);g.useEffect(()=>{let c;return t&&s>0&&(c=setInterval(()=>{i(u=>u-1)},1e3)),()=>{clearInterval(c),i(1)}},[t]);const l=async()=>{a(!0),await n(),a(!1),e()};return f.jsx(nt,{appear:!0,show:t,as:g.Fragment,children:f.jsxs(ht,{as:"div",className:"relative z-50",onClose:e,children:[f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-design-black/25 backdrop-blur-sm"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsxs(ht.Panel,{className:"card w-full max-w-md transform overflow-hidden p-6 text-left align-middle transition-all",children:[f.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:f.jsx("button",{onClick:e,className:"btn-ghost hover:bg-semantic-error-light p-2 rounded-full hover:rotate-90 transition-transform",children:f.jsx(an,{className:"h-5 w-5"})})}),f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Z5,{className:"h-6 w-6 text-semantic-error dark:text-semantic-error"})}),f.jsx(ht.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-design-black dark:text-design-white",children:f.jsx(D,{children:"Delete Board"})})]}),f.jsx("div",{className:"mt-3 text-center sm:mt-0 sm:text-left animate-in slide-in-from-top",children:f.jsx("div",{className:"mt-2",children:f.jsxs("p",{className:"text-sm text-design-primaryGrey dark:text-design-greyOutlines leading-relaxed",children:[f.jsx(D,{children:"Are you sure you want to delete the board"}),' "',r,'"?'," ",f.jsx(D,{children:"This action cannot be undone."})]})})}),f.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[f.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:f.jsx(D,{children:"Cancel"})}),f.jsx("button",{type:"button",onClick:l,disabled:s>0||o,className:`btn bg-semantic-error text-button-primary-text hover:bg-semantic-error focus:ring-semantic-error dark:bg-semantic-error dark:hover:bg-semantic-error/80 ${s>0?"opacity-50 cursor-not-allowed":"hover:bg-semantic-error/90"}`,children:o?f.jsx(D,{children:"Deleting..."}):s>0?f.jsxs(f.Fragment,{children:[f.jsx(D,{children:"Delete"})," (",s,"s)"]}):f.jsx(D,{children:"Delete"})})]})]})})})})]})})}function _se({isOpen:t,onClose:e,board:n,updateBoardsList:r,teams:s,users:i,currentUser:o}){const[a,l]=g.useState("teams"),[c,u]=g.useState(null),[d,h]=g.useState([]),[p,m]=g.useState(""),[y,x]=g.useState(!1),v=async M=>{try{x(!0),await G8(n.id,M),r(N=>N.map(j=>j.id===n.id?{...j,team_id:M}:j)),me.success("Board assigned to team successfully"),e(),u(null)}catch(N){console.error("Error assigning board to team:",N),me.error("Failed to assign board to team")}finally{x(!1)}},w=async()=>{try{x(!0),await Y8(n.id),r(M=>M.map(N=>N.id===n.id?{...N,team_id:null}:N)),me.success("Board unassigned from team successfully"),e(),u(null)}catch(M){console.error("Error unassigning board from team:",M),me.error("Failed to unassign board from team")}finally{x(!1)}},b=async M=>{try{x(!0),await Q8(n.id,M),r(N=>N.map(j=>j.id===n.id?{...j,shared_users:[...j.shared_users||[],...M]}:j)),me.success("Board shared with users successfully"),e(),h([])}catch(N){console.error("Error sharing board with users:",N),me.error("Failed to share board with users")}finally{x(!1)}},S=async M=>{try{x(!0),await X8(n.id,M),r(N=>N.map(j=>j.id===n.id?{...j,shared_users:(j.shared_users||[]).filter(I=>!M.includes(I))}:j)),me.success("Users removed from board successfully"),e(),h([])}catch(N){console.error("Error removing users from board:",N),me.error("Failed to remove users from board")}finally{x(!1)}},k=i==null?void 0:i.filter(M=>{var N,j;return(((N=M.name)==null?void 0:N.toLowerCase().includes(p.toLowerCase()))||((j=M.email)==null?void 0:j.toLowerCase().includes(p.toLowerCase())))&&M.id!==o.userId}),E=s==null?void 0:s.filter(M=>M.name.toLowerCase().includes(p.toLowerCase())),T=({tab:M,label:N,icon:j})=>f.jsxs("button",{onClick:()=>{l(M),M==="teams"?h([]):(u(null),h([]))},className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-all ${a===M?"text-button-primary-cta border-button-primary-cta":"text-gray-500 dark:text-gray-400 border-transparent hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300"}`,children:[f.jsx(j,{className:"h-4 w-4"}),f.jsx(D,{children:N})]}),C=()=>{n.team_id===c._id?w():v(c._id)},L=()=>{const M=d.filter(j=>{var I;return(I=n.shared_users)==null?void 0:I.includes(j)}),N=d.filter(j=>{var I;return!((I=n.shared_users)!=null&&I.includes(j))});M.length>0&&S(M),N.length>0&&b(N)};return f.jsx(nt,{appear:!0,show:t,as:g.Fragment,children:f.jsxs(ht,{as:"div",className:"relative z-50",onClose:e,children:[f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsxs(ht.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-design-black p-6 shadow-xl transition-all",children:[f.jsxs(ht.Title,{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-gray-900 dark:text-white",children:[f.jsx(Cl,{className:"h-5 w-5 text-button-primary-cta"}),f.jsx(D,{children:"Share Board"})]}),f.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[f.jsx(T,{tab:"teams",label:"Teams",icon:Cl}),f.jsx(T,{tab:"users",label:"Users",icon:ep})]}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx("input",{type:"text",placeholder:a==="teams"?f.jsx(D,{children:"Search teams..."}):f.jsx(D,{children:"Search users..."}),value:p,onChange:M=>m(M.target.value),className:"w-full px-4 py-2 pl-10 text-sm bg-gray-50 dark:bg-design-black/50 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-button-primary-cta focus:border-transparent transition-all"}),f.jsx(Nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),f.jsx(yt,{mode:"wait",children:a==="teams"?f.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto scrollbar-hide",children:f.jsx(yt,{mode:"wait",children:E.map(M=>f.jsxs(J.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},onClick:()=>u(M),className:`w-full text-left px-4 py-3 rounded-lg transition-all flex items-center justify-between group ${(c==null?void 0:c.id)===M.id?"hover:bg-button-primary-cta/10 hover:text-button-primary-cta dark:bg-button-primary-cta/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[f.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:M.name}),(n==null?void 0:n.team_id)===M._id&&f.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-1 rounded-full",children:f.jsx(D,{children:"Current"})})]},M._id||M.id))})}):f.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-2 max-h-60 overflow-y-auto scrollbar-hide",children:k.map(M=>{var N;return f.jsxs(J.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>h(j=>j.includes(M.id)?j.filter(I=>I!==M.id):[...j,M.id]),className:`w-full text-left px-4 py-3 rounded-lg transition-all flex items-center justify-between group ${d.includes(M.id)?"bg-button-primary-cta/10 text-button-primary-cta dark:bg-button-primary-cta/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:M.avatar_url?f.jsx("img",{src:M.avatar_url,alt:M.name,className:"w-8 h-8 rounded-full object-cover"}):f.jsx(ep,{className:"h-4 w-4"})}),f.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:M.name||M.email})]}),((N=n.shared_users)==null?void 0:N.includes(M.id))&&f.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-1 rounded-full",children:f.jsx(D,{children:"Shared"})})]},M.id)})})}),(a==="teams"&&c||a==="users"&&d.length>0)&&f.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800/30",children:a==="teams"?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:n.team_id===c._id?f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx($c,{className:"h-4 w-4 text-semantic-error"}),f.jsx(D,{children:"Stop Sharing with team:"})," ",f.jsx("span",{className:"font-semibold",children:c.name}),"?"]}):f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(vf,{className:"h-4 w-4 text-semantic-success"}),f.jsx(D,{children:"Share with team:"})," ",f.jsx("span",{className:"font-semibold",children:c.name}),"?"]})}),f.jsx("button",{onClick:C,className:`btn-primary text-sm w-full justify-center ${n.team_id===c._id?"!bg-semantic-error hover:!bg-semantic-error/90":"!bg-semantic-success hover:!bg-semantic-success/90"}`,children:n.team_id===c._id?f.jsxs(f.Fragment,{children:[f.jsx($c,{className:"h-4 w-4 mr-2"}),f.jsx(D,{children:"Stop Sharing"})]}):f.jsxs(f.Fragment,{children:[f.jsx(vf,{className:"h-4 w-4 mr-2"}),f.jsx(D,{children:"Share"})]})})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:f.jsx("span",{className:"flex items-center gap-2",children:d.some(M=>{var N;return(N=n.shared_users)==null?void 0:N.includes(M)})?f.jsxs(f.Fragment,{children:[f.jsx($c,{className:"h-4 w-4 text-semantic-error"}),f.jsx(D,{children:"Remove"})," ",d.length," ",f.jsx(D,{children:"users from board?"})]}):f.jsxs(f.Fragment,{children:[f.jsx(vf,{className:"h-4 w-4 text-semantic-success"}),f.jsx(D,{children:"Share with"})," ",d.length," ",f.jsx(D,{children:"selected users?"})]})})}),f.jsx("button",{onClick:L,className:`btn-primary text-sm w-full justify-center ${d.some(M=>{var N;return(N=n.shared_users)==null?void 0:N.includes(M)})?"!bg-semantic-error hover:!bg-semantic-error/90":"!bg-semantic-success hover:!bg-semantic-success/90"}`,children:d.some(M=>{var N;return(N=n.shared_users)==null?void 0:N.includes(M)})?f.jsxs(f.Fragment,{children:[f.jsx($c,{className:"h-4 w-4 mr-2"}),f.jsx(D,{children:"Remove Users"})]}):f.jsxs(f.Fragment,{children:[f.jsx(vf,{className:"h-4 w-4 mr-2"}),f.jsx(D,{children:"Share with Users"})]})})]})})]})})})})]})})}const $se=()=>f.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((t,e)=>f.jsxs("div",{className:"flex gap-4 items-start",children:[f.jsx("div",{className:"w-10 h-10 bg-design-greyBG dark:bg-design-black/50 rounded-xl"}),f.jsxs("div",{className:"flex-1 space-y-2",children:[f.jsx("div",{className:"h-4 bg-design-greyBG dark:bg-design-black/50 rounded-lg w-3/4"}),f.jsx("div",{className:"h-3 bg-design-greyBG dark:bg-design-black/50 rounded-lg w-1/4"})]})]},e))}),Fse=t=>!t||!t.message||t.message.includes("Changed fields: updated_at")&&!t.message.includes(",")?null:t.message.includes(", updated_at")?{...t,message:t.message.replace(", updated_at","")}:t.message.includes("updated_at, ")?{...t,message:t.message.replace("updated_at, ","")}:t,zse=t=>{switch(t){case"INSERT":return f.jsx(Ks,{className:"h-4 w-4"});case"UPDATE":return f.jsx(X2,{className:"h-4 w-4"});case"DELETE":return f.jsx(Sa,{className:"h-4 w-4"});default:return f.jsx(Cd,{className:"h-4 w-4"})}},Bse=t=>{switch(t){case"INSERT":return"bg-semantic-success-light text-semantic-success dark:bg-semantic-success/20";case"UPDATE":return"bg-button-primary-cta/10 text-button-primary-cta dark:bg-button-primary-cta/20";case"DELETE":return"bg-semantic-error-light text-semantic-error dark:bg-semantic-error/20";default:return"bg-design-primaryPurple/10 text-design-primaryPurple"}},IN=[{id:"all",name:"All Activities",icon:Cd},{id:"INSERT",name:"Created",icon:Ks},{id:"UPDATE",name:"Updated",icon:X2},{id:"DELETE",name:"Deleted",icon:Sa}];function Use({isOpen:t,setIsOpen:e,board:n}){var h;const[r,s]=g.useState([]),[i,o]=g.useState(!0),[a,l]=g.useState("all"),[c,u]=g.useState("");g.useEffect(()=>{async function p(){if(t&&n.id){o(!0);try{const y=(await J8(n.id)).map(Fse).filter(Boolean);s(y)}catch(m){console.error("Error fetching logs:",m)}finally{o(!1)}}}p()},[t,n]);const d=r.filter(p=>{const m=a==="all"||p.event_type===a,y=p.message.toLowerCase().includes(c.toLowerCase());return m&&y});return f.jsx(nt.Root,{show:t,as:g.Fragment,children:f.jsxs(ht,{as:"div",className:"relative z-50",onClose:e,children:[f.jsx(nt.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-design-black/25 backdrop-blur-sm transition-opacity"})}),f.jsx("div",{className:"fixed inset-0 overflow-hidden",children:f.jsx("div",{className:"absolute inset-0 overflow-hidden",children:f.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:f.jsx(nt.Child,{as:g.Fragment,enter:"transform transition ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:f.jsx(ht.Panel,{className:"pointer-events-auto w-screen max-w-md",children:f.jsxs("div",{className:"flex h-full flex-col rounded-l-3xl overflow-y-scroll bg-white dark:bg-design-black shadow-xl",children:[f.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-design-black border-b border-design-greyOutlines dark:border-design-greyOutlines/20 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(ht.Title,{className:"text-lg font-semibold flex items-center gap-2 text-design-black dark:text-design-white",children:[f.jsx(hz,{className:"h-5 w-5 text-design-primaryPurple"}),f.jsx(D,{children:"Activity Log"})]}),f.jsx("button",{onClick:()=>e(!1),className:"rounded-lg p-2 text-design-primaryGrey hover:text-semantic-error hover:bg-semantic-error-light transition-all duration-200",children:f.jsx(an,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"mt-4",children:f.jsx(Tf,{value:a,onChange:l,children:f.jsxs("div",{className:"relative",children:[f.jsxs(Tf.Button,{className:"relative w-full flex items-center gap-2 text-left bg-design-greyBG dark:bg-design-black border border-design-greyOutlines dark:border-design-greyOutlines/20 rounded-xl px-4 py-2.5 hover:bg-design-greyBG/80 dark:hover:bg-design-black/80 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-design-primaryPurple",children:[f.jsx(q2,{className:"h-4 w-4 text-design-primaryGrey"}),f.jsx("span",{className:"block truncate text-sm",children:f.jsx(D,{children:(h=IN.find(p=>p.id===a))==null?void 0:h.name})}),f.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:f.jsx(ba,{className:"h-4 w-4 text-design-primaryGrey transition-transform duration-200 ui-open:rotate-180","aria-hidden":"true"})})]}),f.jsx(nt,{as:g.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx(Tf.Options,{className:"absolute mt-1 w-full overflow-hidden bg-white dark:bg-design-black border border-design-greyOutlines dark:border-design-greyOutlines/20 rounded-xl py-1 shadow-lg focus:outline-none z-50",children:IN.map(p=>f.jsx(Tf.Option,{className:({active:m,selected:y})=>`relative cursor-pointer select-none py-2.5 pl-10 pr-4 transition-colors duration-200 ${m?"bg-design-primaryPurple/5 dark:bg-design-primaryPurple/10":""} ${y?"text-design-primaryPurple":"text-design-black dark:text-design-white"}`,value:p.id,children:({selected:m,active:y})=>f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(p.icon,{className:`h-4 w-4 ${m?"text-design-primaryPurple":"text-design-primaryGrey"}`}),f.jsx("span",{className:`block truncate ${m?"font-medium":"font-normal"}`,children:f.jsx(D,{children:p.name})})]}),m&&f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-design-primaryPurple",children:f.jsx(Td,{className:"h-4 w-4","aria-hidden":"true"})})]})},p.id))})})]})})}),f.jsxs("div",{className:"mt-4 relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:f.jsx(Nd,{className:"h-4 w-4 text-design-primaryGrey"})}),f.jsx("input",{type:"text",value:c,onChange:p=>u(p.target.value),placeholder:"Search activity logs...",className:"w-full pl-10 pr-4 py-2.5 bg-design-greyBG dark:bg-design-black border border-design-greyOutlines dark:border-design-greyOutlines/20 rounded-xl text-sm text-design-black dark:text-design-white placeholder-design-primaryGrey focus:outline-none focus:ring-2 focus:ring-design-primaryPurple transition-all duration-200"}),f.jsx("span",{className:"sr-only",children:f.jsx(D,{children:"Search activity logs"})})]})]}),f.jsx("div",{className:"flex-1 p-6",children:i?f.jsx($se,{}):d.length===0?f.jsx("div",{className:"text-center text-design-primaryGrey dark:text-design-greyOutlines mt-8",children:f.jsx(D,{children:"No activity logs found"})}):f.jsx("div",{className:"space-y-4",children:d.map(p=>f.jsxs("div",{className:"group flex gap-4 items-start p-4 rounded-xl bg-design-greyBG/30 dark:bg-design-black/30 hover:bg-design-primaryPurple/5 transition-all duration-200",children:[f.jsx("div",{className:`mt-1 p-2 rounded-xl ${Bse(p.event_type)} transition-colors`,children:zse(p.event_type)}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-design-black dark:text-design-white group-hover:text-design-primaryPurple transition-colors",children:p.message}),f.jsxs("p",{className:"text-xs text-design-primaryGrey dark:text-design-greyOutlines mt-1 flex items-center gap-1",children:[f.jsx(tz,{className:"h-3 w-3"}),vq(new Date(p.created_at),{addSuffix:!0})]})]})]},p.id))})})]})})})})})})]})})}async function Vse(t,e,n){const{data:r,error:s}=await oe.from("columns").select("position").eq("board_id",t).order("position",{ascending:!1}).limit(1);if(s)throw s;const i=r&&r.length>0?r[0].position+1:0,{data:o,error:a}=await oe.from("columns").insert([{board_id:t,title:e,account_id:n,position:i}]).select().single();if(a)throw a;const l=wa(o);return{id:l.id,title:l.title,cards:[]}}async function Hse(t,e){console.log("deleteColumn:",t,e);const{error:n}=await oe.from("columns").delete().eq("id",t);if(n)throw n}async function Wse(t,e,n){const{data:r,error:s}=await oe.from("columns").update(e).eq("id",t).select().single();if(s)throw s;return wa(r)}/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:uI,setPrototypeOf:_N,isFrozen:Gse,getPrototypeOf:Yse,getOwnPropertyDescriptor:qse}=Object;let{freeze:kn,seal:Nr,create:dI}=Object,{apply:ew,construct:tw}=typeof Reflect<"u"&&Reflect;kn||(kn=function(e){return e});Nr||(Nr=function(e){return e});ew||(ew=function(e,n,r){return e.apply(n,r)});tw||(tw=function(e,n){return new e(...n)});const Uf=En(Array.prototype.forEach),Kse=En(Array.prototype.lastIndexOf),$N=En(Array.prototype.pop),Mc=En(Array.prototype.push),Jse=En(Array.prototype.splice),wh=En(String.prototype.toLowerCase),b0=En(String.prototype.toString),FN=En(String.prototype.match),jc=En(String.prototype.replace),Qse=En(String.prototype.indexOf),Xse=En(String.prototype.trim),Rr=En(Object.prototype.hasOwnProperty),hn=En(RegExp.prototype.test),Oc=Zse(TypeError);function En(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return ew(t,e,r)}}function Zse(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tw(t,n)}}function Ne(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wh;_N&&_N(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(Gse(e)||(e[r]=i),s=i)}t[s]=!0}return t}function eie(t){for(let e=0;e<t.length;e++)Rr(t,e)||(t[e]=null);return t}function No(t){const e=dI(null);for(const[n,r]of uI(t))Rr(t,n)&&(Array.isArray(r)?e[n]=eie(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=No(r):e[n]=r);return e}function Ac(t,e){for(;t!==null;){const r=qse(t,e);if(r){if(r.get)return En(r.get);if(typeof r.value=="function")return En(r.value)}t=Yse(t)}function n(){return null}return n}const zN=kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S0=kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),k0=kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tie=kn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E0=kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nie=kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),BN=kn(["#text"]),UN=kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),T0=kn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),VN=kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vf=kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),rie=Nr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sie=Nr(/<%[\w\W]*|[\w\W]*%>/gm),iie=Nr(/\$\{[\w\W]*/gm),oie=Nr(/^data-[\-\w.\u00B7-\uFFFF]+$/),aie=Nr(/^aria-[\-\w]+$/),fI=Nr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lie=Nr(/^(?:\w+script|data):/i),cie=Nr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hI=Nr(/^html$/i),uie=Nr(/^[a-z][.\w]*(-[.\w]+)+$/i);var HN=Object.freeze({__proto__:null,ARIA_ATTR:aie,ATTR_WHITESPACE:cie,CUSTOM_ELEMENT:uie,DATA_ATTR:oie,DOCTYPE_NAME:hI,ERB_EXPR:sie,IS_ALLOWED_URI:fI,IS_SCRIPT_OR_DATA:lie,MUSTACHE_EXPR:rie,TMPLIT_EXPR:iie});const Lc={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},die=function(){return typeof window>"u"?null:window},fie=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},WN=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function pI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:die();const e=ce=>pI(ce);if(e.version="3.2.4",e.removed=[],!t||!t.document||t.document.nodeType!==Lc.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:p}=t,m=l.prototype,y=Ac(m,"cloneNode"),x=Ac(m,"remove"),v=Ac(m,"nextSibling"),w=Ac(m,"childNodes"),b=Ac(m,"parentNode");if(typeof o=="function"){const ce=n.createElement("template");ce.content&&ce.content.ownerDocument&&(n=ce.content.ownerDocument)}let S,k="";const{implementation:E,createNodeIterator:T,createDocumentFragment:C,getElementsByTagName:L}=n,{importNode:M}=r;let N=WN();e.isSupported=typeof uI=="function"&&typeof b=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:j,ERB_EXPR:I,TMPLIT_EXPR:B,DATA_ATTR:se,ARIA_ATTR:te,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:A}=HN;let{IS_ALLOWED_URI:V}=HN,H=null;const X=Ne({},[...zN,...S0,...k0,...E0,...BN]);let z=null;const fe=Ne({},[...UN,...T0,...VN,...Vf]);let ae=Object.seal(dI(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Le=null,gt=!0,Xe=!0,je=!1,Hn=!0,pe=!1,De=!0,Pe=!1,Mn=!1,ar=!1,lr=!1,Xr=!1,jr=!1,Wn=!0,Ss=!1;const ni="user-content-";let ks=!0,F=!1,Z={},Y=null;const K=Ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let he=null;const ve=Ne({},["audio","video","img","source","image","track"]);let Te=null;const Re=Ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml";let Or=Fe,Es=!1,jn=null;const Zr=Ne({},[Ze,ye,Fe],b0);let ri=Ne({},["mi","mo","mn","ms","mtext"]),Gn=Ne({},["annotation-xml"]);const po=Ne({},["title","style","font","a","script"]);let Ke=null;const _t=["application/xhtml+xml","text/html"],cn="text/html";let ze=null,St=null;const un=n.createElement("form"),Yn=function(O){return O instanceof RegExp||O instanceof Function},es=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(St&&St===O)){if((!O||typeof O!="object")&&(O={}),O=No(O),Ke=_t.indexOf(O.PARSER_MEDIA_TYPE)===-1?cn:O.PARSER_MEDIA_TYPE,ze=Ke==="application/xhtml+xml"?b0:wh,H=Rr(O,"ALLOWED_TAGS")?Ne({},O.ALLOWED_TAGS,ze):X,z=Rr(O,"ALLOWED_ATTR")?Ne({},O.ALLOWED_ATTR,ze):fe,jn=Rr(O,"ALLOWED_NAMESPACES")?Ne({},O.ALLOWED_NAMESPACES,b0):Zr,Te=Rr(O,"ADD_URI_SAFE_ATTR")?Ne(No(Re),O.ADD_URI_SAFE_ATTR,ze):Re,he=Rr(O,"ADD_DATA_URI_TAGS")?Ne(No(ve),O.ADD_DATA_URI_TAGS,ze):ve,Y=Rr(O,"FORBID_CONTENTS")?Ne({},O.FORBID_CONTENTS,ze):K,Ce=Rr(O,"FORBID_TAGS")?Ne({},O.FORBID_TAGS,ze):{},Le=Rr(O,"FORBID_ATTR")?Ne({},O.FORBID_ATTR,ze):{},Z=Rr(O,"USE_PROFILES")?O.USE_PROFILES:!1,gt=O.ALLOW_ARIA_ATTR!==!1,Xe=O.ALLOW_DATA_ATTR!==!1,je=O.ALLOW_UNKNOWN_PROTOCOLS||!1,Hn=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pe=O.SAFE_FOR_TEMPLATES||!1,De=O.SAFE_FOR_XML!==!1,Pe=O.WHOLE_DOCUMENT||!1,lr=O.RETURN_DOM||!1,Xr=O.RETURN_DOM_FRAGMENT||!1,jr=O.RETURN_TRUSTED_TYPE||!1,ar=O.FORCE_BODY||!1,Wn=O.SANITIZE_DOM!==!1,Ss=O.SANITIZE_NAMED_PROPS||!1,ks=O.KEEP_CONTENT!==!1,F=O.IN_PLACE||!1,V=O.ALLOWED_URI_REGEXP||fI,Or=O.NAMESPACE||Fe,ri=O.MATHML_TEXT_INTEGRATION_POINTS||ri,Gn=O.HTML_INTEGRATION_POINTS||Gn,ae=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&Yn(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&Yn(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe&&(Xe=!1),Xr&&(lr=!0),Z&&(H=Ne({},BN),z=[],Z.html===!0&&(Ne(H,zN),Ne(z,UN)),Z.svg===!0&&(Ne(H,S0),Ne(z,T0),Ne(z,Vf)),Z.svgFilters===!0&&(Ne(H,k0),Ne(z,T0),Ne(z,Vf)),Z.mathMl===!0&&(Ne(H,E0),Ne(z,VN),Ne(z,Vf))),O.ADD_TAGS&&(H===X&&(H=No(H)),Ne(H,O.ADD_TAGS,ze)),O.ADD_ATTR&&(z===fe&&(z=No(z)),Ne(z,O.ADD_ATTR,ze)),O.ADD_URI_SAFE_ATTR&&Ne(Te,O.ADD_URI_SAFE_ATTR,ze),O.FORBID_CONTENTS&&(Y===K&&(Y=No(Y)),Ne(Y,O.FORBID_CONTENTS,ze)),ks&&(H["#text"]=!0),Pe&&Ne(H,["html","head","body"]),H.table&&(Ne(H,["tbody"]),delete Ce.tbody),O.TRUSTED_TYPES_POLICY){if(typeof O.TRUSTED_TYPES_POLICY.createHTML!="function")throw Oc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof O.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Oc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=O.TRUSTED_TYPES_POLICY,k=S.createHTML("")}else S===void 0&&(S=fie(p,s)),S!==null&&typeof k=="string"&&(k=S.createHTML(""));kn&&kn(O),St=O}},On=Ne({},[...S0,...k0,...tie]),si=Ne({},[...E0,...nie]),mo=function(O){let q=b(O);(!q||!q.tagName)&&(q={namespaceURI:Or,tagName:"template"});const ie=wh(O.tagName),Je=wh(q.tagName);return jn[O.namespaceURI]?O.namespaceURI===ye?q.namespaceURI===Fe?ie==="svg":q.namespaceURI===Ze?ie==="svg"&&(Je==="annotation-xml"||ri[Je]):!!On[ie]:O.namespaceURI===Ze?q.namespaceURI===Fe?ie==="math":q.namespaceURI===ye?ie==="math"&&Gn[Je]:!!si[ie]:O.namespaceURI===Fe?q.namespaceURI===ye&&!Gn[Je]||q.namespaceURI===Ze&&!ri[Je]?!1:!si[ie]&&(po[ie]||!On[ie]):!!(Ke==="application/xhtml+xml"&&jn[O.namespaceURI]):!1},dn=function(O){Mc(e.removed,{element:O});try{b(O).removeChild(O)}catch{x(O)}},Ts=function(O,q){try{Mc(e.removed,{attribute:q.getAttributeNode(O),from:q})}catch{Mc(e.removed,{attribute:null,from:q})}if(q.removeAttribute(O),O==="is")if(lr||Xr)try{dn(q)}catch{}else try{q.setAttribute(O,"")}catch{}},lc=function(O){let q=null,ie=null;if(ar)O="<remove></remove>"+O;else{const $t=FN(O,/^[\r\n\t ]+/);ie=$t&&$t[0]}Ke==="application/xhtml+xml"&&Or===Fe&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");const Je=S?S.createHTML(O):O;if(Or===Fe)try{q=new h().parseFromString(Je,Ke)}catch{}if(!q||!q.documentElement){q=E.createDocument(Or,"template",null);try{q.documentElement.innerHTML=Es?k:Je}catch{}}const qt=q.body||q.documentElement;return O&&ie&&qt.insertBefore(n.createTextNode(ie),qt.childNodes[0]||null),Or===Fe?L.call(q,Pe?"html":"body")[0]:Pe?q.documentElement:qt},ii=function(O){return T.call(O.ownerDocument||O,O,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Cs=function(O){return O instanceof d&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof u)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},Ta=function(O){return typeof a=="function"&&O instanceof a};function Ns(ce,O,q){Uf(ce,ie=>{ie.call(e,O,q,St)})}const nS=function(O){let q=null;if(Ns(N.beforeSanitizeElements,O,null),Cs(O))return dn(O),!0;const ie=ze(O.nodeName);if(Ns(N.uponSanitizeElement,O,{tagName:ie,allowedTags:H}),O.hasChildNodes()&&!Ta(O.firstElementChild)&&hn(/<[/\w]/g,O.innerHTML)&&hn(/<[/\w]/g,O.textContent)||O.nodeType===Lc.progressingInstruction||De&&O.nodeType===Lc.comment&&hn(/<[/\w]/g,O.data))return dn(O),!0;if(!H[ie]||Ce[ie]){if(!Ce[ie]&&sS(ie)&&(ae.tagNameCheck instanceof RegExp&&hn(ae.tagNameCheck,ie)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ie)))return!1;if(ks&&!Y[ie]){const Je=b(O)||O.parentNode,qt=w(O)||O.childNodes;if(qt&&Je){const $t=qt.length;for(let An=$t-1;An>=0;--An){const ts=y(qt[An],!0);ts.__removalCount=(O.__removalCount||0)+1,Je.insertBefore(ts,v(O))}}}return dn(O),!0}return O instanceof l&&!mo(O)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&hn(/<\/no(script|embed|frames)/i,O.innerHTML)?(dn(O),!0):(pe&&O.nodeType===Lc.text&&(q=O.textContent,Uf([j,I,B],Je=>{q=jc(q,Je," ")}),O.textContent!==q&&(Mc(e.removed,{element:O.cloneNode()}),O.textContent=q)),Ns(N.afterSanitizeElements,O,null),!1)},rS=function(O,q,ie){if(Wn&&(q==="id"||q==="name")&&(ie in n||ie in un))return!1;if(!(Xe&&!Le[q]&&hn(se,q))){if(!(gt&&hn(te,q))){if(!z[q]||Le[q]){if(!(sS(O)&&(ae.tagNameCheck instanceof RegExp&&hn(ae.tagNameCheck,O)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(O))&&(ae.attributeNameCheck instanceof RegExp&&hn(ae.attributeNameCheck,q)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(q))||q==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&hn(ae.tagNameCheck,ie)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ie))))return!1}else if(!Te[q]){if(!hn(V,jc(ie,P,""))){if(!((q==="src"||q==="xlink:href"||q==="href")&&O!=="script"&&Qse(ie,"data:")===0&&he[O])){if(!(je&&!hn($,jc(ie,P,"")))){if(ie)return!1}}}}}}return!0},sS=function(O){return O!=="annotation-xml"&&FN(O,A)},iS=function(O){Ns(N.beforeSanitizeAttributes,O,null);const{attributes:q}=O;if(!q||Cs(O))return;const ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let Je=q.length;for(;Je--;){const qt=q[Je],{name:$t,namespaceURI:An,value:ts}=qt,cc=ze($t);let fn=$t==="value"?ts:Xse(ts);if(ie.attrName=cc,ie.attrValue=fn,ie.keepAttr=!0,ie.forceKeepAttr=void 0,Ns(N.uponSanitizeAttribute,O,ie),fn=ie.attrValue,Ss&&(cc==="id"||cc==="name")&&(Ts($t,O),fn=ni+fn),De&&hn(/((--!?|])>)|<\/(style|title)/i,fn)){Ts($t,O);continue}if(ie.forceKeepAttr||(Ts($t,O),!ie.keepAttr))continue;if(!Hn&&hn(/\/>/i,fn)){Ts($t,O);continue}pe&&Uf([j,I,B],aS=>{fn=jc(fn,aS," ")});const oS=ze(O.nodeName);if(rS(oS,cc,fn)){if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!An)switch(p.getAttributeType(oS,cc)){case"TrustedHTML":{fn=S.createHTML(fn);break}case"TrustedScriptURL":{fn=S.createScriptURL(fn);break}}try{An?O.setAttributeNS(An,$t,fn):O.setAttribute($t,fn),Cs(O)?dn(O):$N(e.removed)}catch{}}}Ns(N.afterSanitizeAttributes,O,null)},yI=function ce(O){let q=null;const ie=ii(O);for(Ns(N.beforeSanitizeShadowDOM,O,null);q=ie.nextNode();)Ns(N.uponSanitizeShadowNode,q,null),nS(q),iS(q),q.content instanceof i&&ce(q.content);Ns(N.afterSanitizeShadowDOM,O,null)};return e.sanitize=function(ce){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=null,ie=null,Je=null,qt=null;if(Es=!ce,Es&&(ce="<!-->"),typeof ce!="string"&&!Ta(ce))if(typeof ce.toString=="function"){if(ce=ce.toString(),typeof ce!="string")throw Oc("dirty is not a string, aborting")}else throw Oc("toString is not a function");if(!e.isSupported)return ce;if(Mn||es(O),e.removed=[],typeof ce=="string"&&(F=!1),F){if(ce.nodeName){const ts=ze(ce.nodeName);if(!H[ts]||Ce[ts])throw Oc("root node is forbidden and cannot be sanitized in-place")}}else if(ce instanceof a)q=lc("<!---->"),ie=q.ownerDocument.importNode(ce,!0),ie.nodeType===Lc.element&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?q=ie:q.appendChild(ie);else{if(!lr&&!pe&&!Pe&&ce.indexOf("<")===-1)return S&&jr?S.createHTML(ce):ce;if(q=lc(ce),!q)return lr?null:jr?k:""}q&&ar&&dn(q.firstChild);const $t=ii(F?ce:q);for(;Je=$t.nextNode();)nS(Je),iS(Je),Je.content instanceof i&&yI(Je.content);if(F)return ce;if(lr){if(Xr)for(qt=C.call(q.ownerDocument);q.firstChild;)qt.appendChild(q.firstChild);else qt=q;return(z.shadowroot||z.shadowrootmode)&&(qt=M.call(r,qt,!0)),qt}let An=Pe?q.outerHTML:q.innerHTML;return Pe&&H["!doctype"]&&q.ownerDocument&&q.ownerDocument.doctype&&q.ownerDocument.doctype.name&&hn(hI,q.ownerDocument.doctype.name)&&(An="<!DOCTYPE "+q.ownerDocument.doctype.name+`>
`+An),pe&&Uf([j,I,B],ts=>{An=jc(An,ts," ")}),S&&jr?S.createHTML(An):An},e.setConfig=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};es(ce),Mn=!0},e.clearConfig=function(){St=null,Mn=!1},e.isValidAttribute=function(ce,O,q){St||es({});const ie=ze(ce),Je=ze(O);return rS(ie,Je,q)},e.addHook=function(ce,O){typeof O=="function"&&Mc(N[ce],O)},e.removeHook=function(ce,O){if(O!==void 0){const q=Kse(N[ce],O);return q===-1?void 0:Jse(N[ce],q,1)[0]}return $N(N[ce])},e.removeHooks=function(ce){N[ce]=[]},e.removeAllHooks=function(){N=WN()},e}var hie=pI();const bo=t=>typeof t=="string"?hie.sanitize(t).trim().slice(0,1e3):t;async function pie(t,e,n){try{if(!(t!=null&&t.name)||!Array.isArray(t.lists)||!Array.isArray(t.cards))throw new Error("Invalid Trello data structure");const{data:r,error:s}=await oe.from("boards").insert({account_id:e,title:bo(t.name),created_by:n}).select("id").single();if(s)throw s;const i=Array.isArray(r)?r[0].id:r.id,o=new Map;for(const a of t.lists){if(!a.name||typeof a.pos!="number")continue;const{data:l,error:c}=await oe.from("columns").insert({board_id:i,account_id:e,title:bo(a.name),position:Math.max(0,Math.floor(a.pos))}).select("id").single();if(c)throw c;const u=Array.isArray(l)?l[0].id:l.id;o.set(a.id,u)}for(const a of t.cards){const l=o.get(a.idList);if(!l||!a.name)continue;const c={column_id:l,account_id:e,title:bo(a.name),description:bo(a.desc),due_date:a.due?new Date(a.due).toISOString():null,labels:(a.idLabels||[]).map(d=>{const h=t.labels.find(p=>p.id===d);return h?{color:"green",text:bo(h.name)}:null}).filter(Boolean),checklist:(t.checklists||[]).filter(d=>d.idCard===a.id).flatMap(d=>d.checkItems.map(h=>({id:bo(h.id),text:bo(h.name),checked:h.state==="complete"}))),attachments:[],position:Math.max(0,Math.floor(a.pos)),completed:!!a.dueComplete,archived:!!a.closed,priority:"medium"},{error:u}=await oe.from("cards").insert(c);if(u)throw u}return{success:!0,boardId:i}}catch(r){return console.error("Import failed:",r),{success:!1,error:r}}}function mie(t,e){g.useEffect(()=>{if(!t)return;const n=oe.channel(`cards-board-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"cards"},async r=>{var i,o;console.log("Realtime card event received:",r);const s={...r.new,column_id:(i=r.new)==null?void 0:i.column_id,position:(o=r.new)==null?void 0:o.position,type:r.eventType};if(r.eventType==="DELETE"){e({id:r.old.id,type:"DELETE"});return}e(s)}).subscribe();return()=>{oe.removeChannel(n)}},[t,e])}function gie(t,e){g.useEffect(()=>{if(!t)return;console.log("useRealtimeColumns:",t);const n=oe.channel(`public:columns:${t}`).on("postgres_changes",{event:"*",schema:"public",table:"columns"},r=>{if(r.eventType==="DELETE"){e({id:r.old.id,board_id:r.old.board_id,type:"DELETE"});return}const s=r.new;s&&e({...s,cards:[],type:r.eventType})}).subscribe();return()=>{oe.removeChannel(n)}},[t,e])}function yie(t){g.useEffect(()=>{if(t){document.body.classList.add("loading-cursor");const e=n=>{n.preventDefault(),nn("Please wait...",{icon:""})};return document.addEventListener("click",e,!0),()=>{document.body.classList.remove("loading-cursor"),document.removeEventListener("click",e,!0)}}},[t])}function vie(t,e){g.useEffect(()=>{if(!t)return;const n=oe.channel(`comments-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"comments"},r=>{console.log("Comment change detected:",r),r.eventType==="DELETE"?e(r.old.id,"DELETE"):e(r.new,r.eventType)}).subscribe();return()=>{oe.removeChannel(n)}},[t,e])}function xie(t){g.useEffect(()=>{const e=oe.channel("public:boards").on("postgres_changes",{event:"*",schema:"public",table:"boards"},n=>{console.log("Board change received:",n),n.eventType==="DELETE"?t({id:n.old.id,type:"DELETE"}):t(n.new)}).subscribe();return()=>{oe.removeChannel(e)}},[t])}function wie(t,e){const[n,r]=g.useState([]);return g.useEffect(()=>{if(!t||!e)return;const s=oe.channel(`presence:${t}`,{config:{presence:{key:e.email}}});return s.on("presence",{event:"sync"},()=>{const i=s.presenceState(),o=Object.values(i).flat().map(a=>({firstName:a.firstName,lastName:a.lastName}));r(o)}),s.subscribe(async i=>{i==="SUBSCRIBED"&&await s.track({firstName:e.firstName,lastName:e.lastName})}),()=>{s.unsubscribe()}},[t,e]),n}function bie(){const t=Array(5).fill(null),e=Array(4).fill(null);return f.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4 min-h-[calc(100vh-12rem)]",children:t.map((n,r)=>f.jsxs("div",{className:"flex-shrink-0 w-80 bg-design-greyBG/50 border border-design-greyOutlines dark:bg-design-black/50 rounded-lg p-4 animate-pulse",children:[f.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded-md w-3/4 mb-4"}),f.jsx("div",{className:"space-y-3",children:e.map((s,i)=>f.jsxs("div",{className:"card p-4 relative overflow-hidden",children:[f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3 mb-2"}),f.jsxs("div",{className:"flex gap-2 mt-3",children:[f.jsx("div",{className:"h-5 w-16 bg-gray-200 rounded-full"}),f.jsx("div",{className:"h-5 w-16 bg-gray-200 rounded-full"})]})]}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent shimmer"})]},i))})]},r))})}function GN(){var ks;const{boardsList:t,isLoading:e,loadInitialBoards:n,updateBoardsList:r,addBoard:s,removeBoardFromList:i}=Pd(),[o,a]=g.useState(null),[l,c]=g.useState(null),[u,d]=g.useState(!1),[h,p]=g.useState(""),[m,y]=g.useState(!1),[x,v]=g.useState(""),[w,b]=g.useState(!1),[S,k]=g.useState(!1),[E,T]=g.useState(!1),[C,L]=g.useState(!1),[M,N]=g.useState(!1),[j,I]=g.useState(!1),{currentUser:B,currentUserUsers:se,currentUserTeams:te,authUser:$}=Mr(),P=wie(o,B),A=t.find(F=>F.id===o),[V,H]=g.useState([]),X=ws(),{boardId:z}=x3(),fe=IK(RK(w1,{activationConstraint:{distance:8}})),ae=g.useRef(null),Ce=async F=>{const Z=F.target.files[0];if(Z)try{const Y=await Z.text(),K=JSON.parse(Y);if(!K.cards||!K.lists||!Array.isArray(K.cards)||!Array.isArray(K.lists))throw new Error("Invalid Trello JSON format");me.success("Successfully validated Trello JSON");const he=await pie(K,B.accountId,$.id);he.success?(console.log("Import successful!"),me.success("Trello JSON imported successfully"),ix().then(r)):console.error("Import failed:",he.error),ae.current&&(ae.current.value="")}catch(Y){console.error("Error processing Trello JSON:",Y),me.error("Invalid Trello JSON file")}};g.useEffect(()=>{n()},[]),g.useEffect(()=>{a(z)},[z]),g.useEffect(()=>{if(!A){H([]);return}let F=new Set;if(A.team_id){const Y=te.find(K=>K._id===A.team_id);Y&&Y.users.forEach(K=>F.add(K)),se.filter(K=>K.role==="ADMIN").forEach(K=>F.add(K._id))}else A.shared_users&&A.shared_users.forEach(Y=>F.add(Y));const Z=se.filter(Y=>F.has(Y._id));H(Z)},[A==null?void 0:A.team_id,A==null?void 0:A.shared_users,te,se,A]);const Le=async F=>{if((F==null?void 0:F.type)==="DELETE"){if(r(t.filter(Y=>Y.id!==F.id)),o===F.id){const Y=t.filter(K=>K.id!==F.id);Y.length>0?(a(Y[0].id),X(`/ideation/${Y[0].id}`)):(a(null),X("/ideation"))}return}const Z=await ix();r(Z)};g.useEffect(()=>{e||(t.length===0?X("/ideation"):z?t.some(Z=>Z.id===z)?a(z):(a(t[0].id),X(`/ideation/${t[0].id}`)):(a(t[0].id),X(`/ideation/${t[0].id}`)))},[t,e,z,X]);const gt=F=>{r(Z=>{let Y=!1;return Z.map(he=>({...he,columns:he.columns.map(ve=>{ve.cards.find(Ze=>Ze.id===F.id)&&(ve.id,Y=!0);const Re=ve.cards.filter(Ze=>Ze.id!==F.id);if(ve.id===F.column_id){const Ze=[...Re];if(F.type!=="DELETE"){const ye={...Y?Z.flatMap(Fe=>Fe.columns).flatMap(Fe=>Fe.cards).find(Fe=>Fe.id===F.id):{},...F,position:F.position||0};Ze.splice(F.position,0,ye)}return Ze.sort((ye,Fe)=>ye.position-Fe.position),{...ve,cards:Ze}}return{...ve,cards:Re}})}))})},Xe=F=>{if(F.type==="DELETE"){r(Z=>Z.map(Y=>({...Y,columns:Y.columns.filter(K=>K.id!==F.id)})));return}r(Z=>Z.map(Y=>{if(Y.id===F.board_id){const K=Y.columns.findIndex(Te=>Te.id===F.id),he=[...Y.columns],ve={...F,cards:F.cards||[]};return K===-1&&F.type==="INSERT"?he.push(ve):K!==-1&&(he[K]={...he[K],...ve,cards:he[K].cards||[]}),{...Y,columns:he}}return Y}))},je=(F,Z)=>{if(Z==="DELETE"){r(Y=>Y.map(K=>({...K,columns:K.columns.map(he=>({...he,cards:he.cards.map(ve=>({...ve,comments:ve.comments?ve.comments.filter(Te=>Te.id!==F):[]}))}))})));return}r(Y=>Y.map(K=>({...K,columns:K.columns.map(he=>({...he,cards:he.cards.map(ve=>{if(ve.id===F.card_id){const Te=ve.comments||[],Re=Te.findIndex(ye=>ye.id===F.id),Ze=[...Te];return Re===-1&&Z==="INSERT"?Ze.unshift(F):Re!==-1&&(Ze[Re]={...Ze[Re],...F}),{...ve,comments:Ze}}return ve})}))})))};mie(o||"",gt),gie(o||"",Xe),vie(o,je),xie(Le),yie(w);const Hn=async()=>{if(h.trim())try{b(!0);const F=await s(h.trim(),B.accountId,$.id);a(F.id),X(`/ideation/${F.id}`),p(""),d(!1),me.success("Board created successfully")}catch(F){console.error("Error creating board:",F),me.error("Failed to create board")}finally{b(!1)}},pe=async()=>{if(o)try{b(!0),await i(o);const F=t.find(Z=>Z.id!==o);F?(a(F.id),X(`/ideation/${F.id}`)):(a(null),X("/ideation")),me.success("Board deleted successfully")}catch(F){console.error("Error deleting board:",F),me.error("Failed to delete board")}finally{k(!1),b(!1)}},De=async()=>{if(x.trim()&&o)try{b(!0);const F=await Vse(o,x.trim(),B.accountId);r(Z=>Z.map(Y=>Y.id===o?{...Y,columns:[...Y.columns,F]}:Y)),v(""),y(!1),me.success("Column added successfully")}catch(F){console.error("Error adding column:",F),me.error("Failed to add column")}finally{b(!1)}},Pe=async F=>{if(o)try{b(!0),await Hse(F,B.accountId),r(Z=>Z.map(Y=>Y.id===o?{...Y,columns:Y.columns.filter(K=>K.id!==F)}:Y)),me.success("Column deleted successfully")}catch(Z){console.error("Error deleting column:",Z),me.error("Failed to delete column")}finally{b(!1)}},Mn=async(F,Z)=>{try{b(!0),await Wse(F,Z,B.accountId),r(Y=>Y.map(K=>({...K,columns:K.columns.map(he=>he.id===F?{...he,...Z}:he)}))),me.success("Column updated successfully")}catch(Y){console.error("Error updating column:",Y),me.error("Failed to update column")}finally{b(!1)}},ar=async F=>{try{b(!0);const Z=await yQ(F,{title:"New Task",priority:"medium",description:"Add a description...",labels:[],attachments:[],assignee:[],position:0},B.accountId);r(Y=>Y.map(he=>({...he,columns:he.columns.map(ve=>{if(ve.id===F){const Te=[Z,...ve.cards.map(Re=>({...Re,position:Re.position+1}))];return Wy(Te).catch(Re=>{console.error("Error updating card positions:",Re)}),{...ve,cards:Te}}return ve})}))),me.success("Card added successfully")}catch(Z){console.error("Error adding card:",Z),me.error("Failed to add card")}finally{b(!1)}},lr=async(F,Z)=>{try{b(!0);let Y=null;if(Z.assignee&&Z.assignee.length>0&&(Y=t.flatMap(K=>K.columns).flatMap(K=>K.cards).find(K=>K.id===F)),await pC(F,Z,B.accountId),r(K=>K.map(he=>({...he,columns:he.columns.map(ve=>({...ve,cards:ve.cards.map(Te=>Te.id===F?{...Te,...Z}:Te)}))}))),Z.assignee&&Z.assignee.length>0&&Y){const K=Array.isArray(Y.assignee)?Y.assignee.map(Te=>Te._id):[],he=Z.assignee.filter(Te=>!K.includes(Te._id)),ve=Z.title||Y.title;V8(he,B.firstName,ve,o,A.title);for(const Te of he)try{console.log("Creating notification for user:",Te),await oe.from("notifications").insert([{user_id:Te._id,content:`You've been assigned to "${ve}" in board "${A.title}"`,type:"CARD_ASSIGNMENT",board_id:A.id,card_id:F,created_at:new Date().toISOString(),read:!1}])}catch(Re){console.error("Error creating notification:",Re)}}}catch(Y){console.error("Error updating card:",Y),me.error("Failed to update card")}finally{b(!1)}},Xr=async F=>{try{b(!0),await vQ(F,B.accountId),r(Z=>Z.map(Y=>({...Y,columns:Y.columns.map(K=>({...K,cards:K.cards.filter(he=>he.id!==F)}))}))),me.success("Card deleted successfully")}catch(Z){console.error("Error deleting card:",Z),me.error("Failed to delete card")}finally{b(!1)}},jr=async F=>{try{await pC(F,{archived:!0},B.accountId),r(Z=>Z.map(Y=>({...Y,columns:Y.columns.map(K=>({...K,cards:K.cards.map(he=>he.id===F?{...he,archived:!0}:he)}))}))),me.success("Card archived successfully")}catch(Z){console.error("Error archiving card:",Z),me.error("Failed to archive card")}},Wn=F=>{const{active:Z}=F,Y=t.flatMap(K=>K.columns).flatMap(K=>K.cards).find(K=>K.id===Z.id);Y&&c(Y)},Ss=async F=>{const{active:Z,over:Y}=F;if(!Y)return;const K=t.flatMap(ye=>ye.columns).flatMap(ye=>ye.cards).find(ye=>ye.id===Z.id),he=t.flatMap(ye=>ye.columns).find(ye=>ye.cards.some(Fe=>Fe.id===Z.id)),ve=t.flatMap(ye=>ye.columns).flatMap(ye=>ye.cards).find(ye=>ye.id===Y.id),Te=ve?t.flatMap(ye=>ye.columns).find(ye=>ye.cards.includes(ve)):t.flatMap(ye=>ye.columns).find(ye=>ye.id===Y.id);if(!K||!Te)return;const Re=he.id===Te.id,Ze=ve?Te.cards.findIndex(ye=>ye.id===Y.id):Te.cards.length;try{r(Fe=>Fe.map(Es=>({...Es,columns:Es.columns.map(jn=>{if(!Re&&jn.id===he.id)return{...jn,cards:jn.cards.filter(Zr=>Zr.id!==Z.id)};if(jn.id===Te.id){let Zr;if(Re){const Gn=[...jn.cards],po=Gn.findIndex(_t=>_t.id===Z.id),[Ke]=Gn.splice(po,1);Gn.splice(Ze,0,Ke),Zr=Gn}else Zr=[...jn.cards,{...K,column_id:Te.id}];const ri=Zr.map((Gn,po)=>({...Gn,position:po,column_id:Te.id}));return{...jn,cards:ri}}return jn})})));const ye=t.flatMap(Fe=>Fe.columns).find(Fe=>Fe.id===Te.id).cards;Re?await Wy(ye,B.accountId):(await xQ(K.id,Te.id,Ze,B.accountId),await Wy(ye,B.accountId))}catch(ye){console.error("Error moving card:",ye),me.error("Failed to move card")}c(null)},ni=()=>{const F=g.useRef(null),Z=[{label:f.jsx(D,{children:"Board History"}),icon:f.jsx(Cd,{className:"h-4 w-4"}),onClick:()=>L(!0),visible:!0},{label:f.jsx(D,{children:"Archived Cards"}),icon:f.jsx(Hu,{className:"h-4 w-4"}),onClick:()=>I(!0),visible:!0},{label:f.jsx(D,{children:"Delete Board"}),icon:f.jsx(Sa,{className:"h-4 w-4 text-semantic-error"}),onClick:()=>k(!0),className:"text-semantic-error",visible:(A==null?void 0:A.created_by)===$.id}];return g.useEffect(()=>{const Y=K=>{F.current&&!F.current.contains(K.target)&&N(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]),f.jsxs("div",{className:"relative",ref:F,children:[f.jsx("button",{onClick:()=>N(!M),className:"btn-ghost p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:f.jsx(Cz,{className:"h-5 w-5"})}),M&&f.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50",children:Z.filter(Y=>Y.visible).map((Y,K)=>f.jsxs("button",{onClick:Y.onClick,className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 ${Y.className||""}`,children:[Y.icon,Y.label]},K))})]})};return e?f.jsx("div",{className:"h-[calc(100vh-4rem)] mt-8 border border-design-greyOutlines rounded-3xl bg-gradient-to-br from-primary-light to-white dark:from-design-black dark:to-design-black p-6",children:f.jsxs("div",{className:"mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded-md animate-pulse"}),f.jsx("div",{className:"h-8 w-32 bg-gray-200 dark:bg-gray-700 rounded-md animate-pulse"})]}),f.jsx(bie,{})]})}):!e&&t.length===0?f.jsx("div",{className:"h-[calc(100vh-4rem)] mt-8 border border-design-greyOutlines rounded-3xl bg-gradient-to-br from-primary-light to-white dark:from-design-black dark:to-design-black p-6",children:f.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[f.jsx("div",{className:"bg-primary-light/30 p-6 rounded-full mb-6",children:f.jsx(Y2,{className:"w-16 h-16 text-primary"})}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-3",children:f.jsx(D,{children:"No Boards Yet"})}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 text-center max-w-md",children:f.jsx(D,{children:"Create your first board to start organizing your ideas and tasks in a visual way."})}),u?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:h,onChange:F=>p(F.target.value),placeholder:"Enter board title...",className:"input p-2",autoFocus:!0}),f.jsx("button",{onClick:Hn,className:"btn-primary",disabled:!h.trim(),children:f.jsx(D,{children:"Create"})}),f.jsx("button",{onClick:()=>{d(!1),p("")},className:"btn-ghost",children:f.jsx(D,{children:"Cancel"})})]}):f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsxs("button",{onClick:()=>d(!0),className:"btn-primary flex items-center gap-2 px-6 py-3 text-lg animate-bounce",children:[f.jsx(Ks,{className:"h-5 w-5"}),f.jsx(D,{children:"Create Your First Board"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"file",accept:".json",onChange:Ce,ref:ae,className:"hidden",id:"trello-import"}),f.jsxs("label",{htmlFor:"trello-import",className:"btn-secondary flex items-center gap-2 cursor-pointer",children:[f.jsx(Gk,{className:"h-5 w-5"}),f.jsx(D,{children:" Import from Trello"})]})]})]})]})}):f.jsxs("div",{className:"h-[calc(100vh-4rem)] bg-design-white border border-design-greyOutlines rounded-3xl dark:bg-design-black p-6 flex flex-col mt-8",children:[f.jsxs("div",{className:"flex-none mb-4",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-design-greyOutlines",children:[f.jsx("h1",{className:"text-2xl font-semibold",children:A&&A.title}),f.jsx("div",{className:"flex items-center gap-2",children:u?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:h,onChange:F=>p(F.target.value),placeholder:"Board title...",className:"input",autoFocus:!0}),f.jsx("button",{onClick:Hn,className:"btn-primary",children:f.jsx(D,{children:"Add"})}),f.jsx("button",{onClick:()=>{d(!1),p("")},className:"btn-ghost",children:f.jsx(D,{children:"Cancel"})})]}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>d(!0),className:"btn-primary group flex items-center gap-2 px-3 py-2 sm:px-4",children:[f.jsx(uz,{className:"h-4 w-4 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(D,{children:"Add Board"})})]}),f.jsx("input",{type:"file",accept:".json",onChange:Ce,ref:ae,className:"hidden",id:"trello-import-header"}),f.jsxs("label",{htmlFor:"trello-import-header",className:"btn-secondary group flex items-center gap-2 px-3 py-2 sm:px-4 cursor-pointer",children:[f.jsx(Gk,{className:"h-4 w-4 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(D,{children:"Import Trello"})})," "]})]})})]}),f.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:()=>T(!0),className:`btn-secondary text-sm ${A&&A.created_by===$.id?"":"hidden"}`,children:[f.jsx("span",{className:`h-1.5 w-1.5 mr-2 ${A&&(A.team_id||((ks=A==null?void 0:A.shared_users)==null?void 0:ks.length)>0)?"bg-green-400":"bg-red-400"} rounded-full`}),f.jsx(D,{children:"Share Board"})]}),f.jsx("div",{className:"flex -space-x-3",children:P.map((F,Z)=>f.jsx(In,{text:`${F.firstName} ${F.lastName}`,children:f.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium text-white bg-design-primaryPurple  cursor-pointer border-2 border-white shadow-lg transition-transform hover:scale-110",style:{zIndex:P.length-Z,backgroundColor:`hsl(${Z*60%360}, 70%, 50%)`},children:`${F.firstName[0]}${F.lastName[0]}`})},F.accountId))})]}),o&&f.jsx(ni,{})]})]}),A&&f.jsxs(DJ,{sensors:fe,onDragStart:Wn,onDragEnd:Ss,children:[f.jsxs("div",{className:"flex gap-6 overflow-x-auto flex-1 min-h-0",children:[f.jsx(mP,{items:A.columns.map(F=>F.id),children:A.columns.map(F=>f.jsx(Rse,{column:F,onAddCard:()=>ar(F.id),onUpdateCard:lr,onDeleteCard:Xr,onArchiveCard:jr,onDeleteColumn:()=>Pe(F.id),onUpdateColumn:Mn,boardId:A.id,teamUsers:V,boardTitle:A.title},F.id))}),m?f.jsxs("div",{className:"flex-shrink-0 w-80 bg-primary-light/50 backdrop-blur-sm rounded-lg p-4 snap-start animate-in slide-in-from-right",children:[f.jsx("input",{type:"text",value:x,onChange:F=>v(F.target.value),placeholder:"Column title...",className:"input",autoFocus:!0}),f.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[f.jsx("button",{onClick:De,className:"btn-primary",children:f.jsx(D,{children:"Add"})}),f.jsx("button",{onClick:()=>{y(!1),v("")},className:"btn-ghost",children:f.jsx(D,{children:"Cancel"})})]})]}):f.jsxs("button",{onClick:()=>y(!0),className:"flex-shrink-0 w-80 bg-design-greyBG/50 backdrop-blur-sm rounded-2xl p-4 flex items-center justify-center text-primary hover:text-primary-hover hover:bg-primary-light/50 transition-all  snap-start group",children:[f.jsx(Ks,{className:"h-5 w-5 mr-2 group-hover:rotate-90 transition-transform"}),f.jsx(D,{children:"Add Column"})]})]}),f.jsx(QJ,{children:l?f.jsx(cI,{card:l,isDragging:!0,onUpdate:lr,onDelete:Xr,onArchive:jr,boardId:A.id,teamUsers:V,boardTitle:A.title}):null})]}),f.jsx(Ise,{isOpen:S,onClose:()=>k(!1),onConfirm:pe,boardTitle:(A==null?void 0:A.title)||""}),f.jsx(_se,{isOpen:E,onClose:()=>T(!1),board:A,updateBoardsList:r,teams:te,users:se,currentUser:B}),f.jsx(Use,{isOpen:C,setIsOpen:L,board:A}),f.jsx(ID,{isOpen:j,onClose:()=>I(!1),onRestoreCard:()=>{I(!1)},boardId:o})]})}function Sie({children:t}){const{isAuthenticated:e}=Mr(),n=oo();return e?f.jsx(f.Fragment,{children:t}):f.jsx(Kh,{to:"/ideation/login",state:{from:n},replace:!0})}function kie(){const t=()=>{window.location.href="https://app.socialhub.io/login/login"};return f.jsx("div",{className:"flex items-center justify-center h-screen bg-cover bg-center",children:f.jsxs("div",{className:"bg-white bg-opacity-90 backdrop-blur-sm p-8 rounded-2xl shadow-lg text-center w-96",children:[f.jsx("p",{className:"mb-6 text-lg font-semibold text-gray-700",children:"Dear User, your session has expired. Please log in to SocialHub and revisit the Ideation Board."}),f.jsxs("button",{onClick:t,className:"flex items-center justify-center w-full btn-primary",children:[f.jsx(J2,{className:"h-4 w-4 mr-2"}),f.jsx("span",{children:"Social Hub"})]})]})})}const Eie={high:"bg-semantic-error",medium:"bg-semantic-warning",low:"bg-semantic-success"},Tie=({date:t,tasks:e,currentMonth:n,onTaskClick:r})=>{const s=DD(t,n),i=p1(t),o=e.filter(l=>{if(!l.due_date)return!1;const c=typeof l.due_date=="string"?uu(l.due_date):l.due_date;return ug(c,t)}),a=o.length>0;return f.jsxs(J.div,{whileHover:a?{scale:1.05,zIndex:10}:{},className:`
        relative p-1.5 min-h-[45px] lg:min-h-[52px] rounded-lg transition-all duration-300 group
        ${s?"":"opacity-30"}
        ${i?"ring-2 ring-design-primaryPurple ring-offset-2":""}
        ${a?"bg-design-lightPurpleButtonFill cursor-pointer":"hover:bg-design-greyBG/50"}
      `,children:[f.jsx("span",{className:`
        text-sm font-medium block mb-1
        ${i?"text-design-primaryPurple":"text-design-primaryGrey"}
      `,children:Xn(t,"d")}),a&&f.jsxs("div",{className:"flex gap-1 flex-wrap",children:[o.slice(0,2).map(l=>f.jsx("div",{className:`w-2 h-2 rounded-full ${Eie[l.priority]}`},l.id)),o.length>2&&f.jsxs("div",{className:"w-2 h-2 rounded-full  text-[8px] flex items-center justify-center",children:["+",o.length-2]})]}),a&&f.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 translate-y-2 w-48 z-50 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto",children:f.jsx(yt,{children:f.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"bg-white rounded-lg shadow-lg border border-design-greyOutlines p-2 relative",style:{backdropFilter:"blur(8px)",backgroundColor:"rgba(255, 255, 255, 0.95)"},children:f.jsx("div",{className:"space-y-2",children:o.map(l=>f.jsxs(J.div,{whileHover:{x:5},onClick:()=>r(l),className:"flex items-center justify-between p-2 rounded-lg hover:bg-design-lightPurpleButtonFill cursor-pointer",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-design-black truncate",children:l.title}),f.jsx("p",{className:`text-xs ${l.priority==="high"?"text-semantic-error":l.priority==="medium"?"text-semantic-warning":"text-semantic-success"}`,children:l.priority})]}),f.jsx(ib,{className:"h-4 w-4 text-design-primaryPurple flex-shrink-0"})]},l.id))})})})})]})};function Cie({tasks:t,onTaskClick:e}){const[n,r]=g.useState(new Date),[s,i]=g.useState(!1),a=(d=>{const h=Dl(vx(d)),p=xY(vp(d));return jD({start:h,end:p})})(n),c=t.filter(d=>{if(!d.due_date)return!1;const h=typeof d.due_date=="string"?uu(d.due_date):d.due_date;return wq(h,{start:vx(n),end:vp(n)})}),u=async d=>{i(!0);const h=d==="next"?cu(n,1):RD(n,1);r(h),i(!1)};return f.jsxs("div",{className:"bg-white p-4 lg:p-5 rounded-2xl border border-design-greyOutlines h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ed,{className:"h-5 w-5 text-design-primaryPurple"}),f.jsx("h2",{className:"text-lg font-semibold text-design-black",children:f.jsx(D,{children:"Task Calendar"})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("prev"),className:"p-1 rounded-lg hover:bg-design-greyBG transition-colors",disabled:s,children:f.jsx(ab,{className:"h-5 w-5 text-design-primaryGrey"})}),f.jsx("span",{className:"text-sm font-medium text-design-black min-w-[100px] text-center",children:f.jsx(D,{children:Xn(n,"MMMM yyyy")})}),f.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("next"),className:"p-1 rounded-lg hover:bg-design-greyBG transition-colors",disabled:s,children:f.jsx(lb,{className:"h-5 w-5 text-design-primaryGrey"})})]})]}),f.jsxs("div",{className:"grid grid-cols-7 gap-1.5 lg:gap-2 flex-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(d=>f.jsx("div",{className:"text-center text-xs lg:text-sm font-medium text-design-primaryGrey p-1",children:f.jsx(D,{children:d})},d)),a.map((d,h)=>f.jsx(Tie,{date:d,tasks:c,currentMonth:n,onTaskClick:e},d.toISOString()))]})]})}const C0={high:{color:"text-semantic-error",bg:"bg-semantic-error-light",icon:Tl},medium:{color:"text-semantic-warning",bg:"bg-semantic-warning-light",icon:Cd},low:{color:"text-semantic-success",bg:"bg-semantic-success-light",icon:Td}},Nie=({task:t})=>{var s,i,o;const e=ws(),n=((s=C0[t.priority])==null?void 0:s.icon)||Cd,r=a=>{if(!a)return null;const l=new Date(a);return p1(l)?"Today":xq(l)?"Tomorrow":Xn(l,"MMM dd")};return f.jsx(J.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{scale:1.02},onClick:()=>e(`/ideation/${t.boardId}`),className:"bg-white rounded-xl border border-design-greyOutlines p-3.5 hover:shadow-md transition-all cursor-pointer group",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx(J.button,{whileHover:{scale:1.2},whileTap:{scale:.9},className:"mt-1",children:t.completed?f.jsx(Td,{className:"h-5 w-5 text-semantic-success"}):f.jsx(iz,{className:"h-5 w-5 text-design-primaryGrey group-hover:text-design-primaryPurple"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsx("h3",{className:`font-medium text-design-black truncate ${t.completed?"line-through text-design-primaryGrey":""}`,children:f.jsx(D,{children:t.title})}),f.jsx(ib,{className:"h-5 w-5 text-design-primaryGrey opacity-0 group-hover:opacity-100 transition-opacity"})]}),f.jsxs("div",{className:"mt-2 flex items-center gap-3 flex-wrap",children:[f.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${(i=C0[t.priority])==null?void 0:i.color} ${(o=C0[t.priority])==null?void 0:o.bg}`,children:[f.jsx(n,{className:"h-3 w-3"}),f.jsx(D,{children:t.priority})]}),t.due_date&&f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-design-primaryGrey",children:[f.jsx(Ed,{className:"h-3 w-3"}),f.jsx(D,{children:r(t.due_date)})]}),t.labels&&t.labels.length>0&&f.jsxs("div",{className:"flex items-center gap-1",children:[t.labels.slice(0,2).map((a,l)=>f.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-design-lightPurpleButtonFill text-design-primaryPurple",children:f.jsx(D,{children:a.text})},l)),t.labels.length>2&&f.jsx("span",{className:"text-xs text-design-primaryGrey",children:f.jsxs(D,{children:["+",t.labels.length-2]})})]}),f.jsx("span",{className:"text-xs text-design-primaryGrey ml-auto",children:f.jsx(D,{children:t.boardTitle})})]})]})]})})};function Mie({tasks:t,onStatusChange:e}){const n=[...t].sort((s,i)=>{if(s.due_date&&i.due_date)return new Date(s.due_date)-new Date(i.due_date);if(s.due_date)return-1;if(i.due_date)return 1;const o={high:0,medium:1,low:2};return o[s.priority]-o[i.priority]}),r=n.slice(0,5);return f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-design-greyOutlines h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-design-black",children:f.jsx(D,{children:"My Tasks"})}),f.jsx("span",{className:"text-sm text-design-primaryGrey",children:f.jsxs(D,{children:["Showing ",Math.min(5,n.length)," of ",n.length," tasks"]})})]}),f.jsx("div",{className:"lg:flex-1 lg:overflow-y-auto custom-scrollbar",children:f.jsx(yt,{mode:"popLayout",children:n.length===0?f.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8 text-design-primaryGrey",children:[f.jsx(Td,{className:"h-12 w-12 mx-auto mb-3 text-design-primaryPurple opacity-50"}),f.jsx("p",{className:"text-sm",children:f.jsx(D,{children:"No tasks assigned to you"})})]}):f.jsx("div",{className:"space-y-3 lg:pr-2",children:r.map(s=>f.jsx(Nie,{task:s,onStatusChange:e},s.id))})})})]})}const N0=({icon:t,title:e,value:n,color:r})=>f.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden bg-white p-6 rounded-2xl border border-design-greyOutlines shadow-sm transition-all",children:[f.jsx("div",{className:`absolute inset-0 opacity-15 ${{total:"bg-gradient-to-r from-blue-600 via-sky-400 to-cyan-500",completed:"bg-gradient-to-r from-green-500 via-emerald-400 to-teal-500",tasks:"bg-gradient-to-r from-violet-600 via-purple-500 to-fuchsia-500"}[r]}`}),f.jsxs("div",{className:"relative flex items-center gap-4",children:[f.jsx("div",{className:`p-3 rounded-xl ${{total:"bg-blue-600/10",completed:"bg-green-500/10",tasks:"bg-violet-600/10"}[r]}`,children:f.jsx(t,{className:`h-6 w-6 ${{total:"text-blue-600",completed:"text-green-500",tasks:"text-violet-600"}[r]}`})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:e})}),f.jsx("p",{className:"text-2xl font-bold text-design-black mt-1",children:f.jsx(D,{children:n})})]})]})]}),YN=t=>{if(!t)return"N/A";try{return Xn(new Date(t),"MMM dd, yyyy")}catch{return"Invalid date"}},jie=({boards:t,teams:e,onBoardClick:n})=>f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-design-greyOutlines",children:[f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Board Name"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Team"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Total Cards"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Completed"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Created At"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey",children:f.jsx(D,{children:"Last Updated"})}),f.jsx("th",{className:"text-left p-3 text-sm font-medium text-design-primaryGrey"})]})}),f.jsx("tbody",{children:t.map(r=>{var a,l;const s=e.find(c=>c._id===r.team_id),i=(a=r.columns)==null?void 0:a.reduce((c,u)=>{var d;return c+(((d=u.cards)==null?void 0:d.length)||0)},0),o=(l=r.columns)==null?void 0:l.reduce((c,u)=>{var d,h;return c+(((h=(d=u.cards)==null?void 0:d.filter(p=>p.completed))==null?void 0:h.length)||0)},0);return f.jsxs(J.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{backgroundColor:"rgba(124, 58, 237, 0.05)"},onClick:()=>n(r.id),className:"border-b border-design-greyOutlines cursor-pointer",children:[f.jsx("td",{className:"p-3",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-design-lightPurpleButtonFill",children:f.jsx(Zh,{className:"h-5 w-5 text-design-primaryPurple"})}),f.jsx("span",{className:"font-medium text-design-black",children:r.title})]})}),f.jsx("td",{className:"p-3",children:f.jsxs("span",{className:"text-sm text-design-primaryGrey flex items-center gap-1",children:[f.jsx(Cl,{className:"h-4 w-4"}),f.jsx(D,{children:(s==null?void 0:s.name)||"Personal"})]})}),f.jsx("td",{className:"p-3",children:f.jsx("span",{className:"text-sm text-design-primaryGrey",children:i})}),f.jsx("td",{className:"p-3",children:f.jsxs("span",{className:"text-sm text-design-primaryGrey",children:[o,"/",i]})}),f.jsx("td",{className:"p-3",children:f.jsx("span",{className:"text-sm text-design-primaryGrey",children:YN(r.created_at)})}),f.jsx("td",{className:"p-3",children:f.jsx("span",{className:"text-sm text-design-primaryGrey",children:YN(r.updated_at)})}),f.jsx("td",{className:"p-3 text-right",children:f.jsx(ib,{className:"h-5 w-5 text-design-primaryGrey inline-block"})})]},r.id)})})]})}),Oie=({boards:t,selectedBoard:e,onBoardSelect:n})=>{const[r,s]=g.useState(!1),i=g.useRef(null);return g.useEffect(()=>{const o=a=>{i.current&&!i.current.contains(a.target)&&s(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>s(!r),className:"flex items-center gap-2 px-4 py-2 rounded-xl border border-design-greyOutlines hover:border-design-primaryPurple/30 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Zh,{className:"h-5 w-5 text-design-primaryPurple"}),f.jsx("span",{className:"font-medium text-design-black",children:e?e.title:f.jsx(D,{children:"All Boards"})})]}),f.jsx(ba,{className:"h-4 w-4 text-design-primaryGrey ml-2"})]}),r&&f.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-xl border border-design-greyOutlines shadow-lg z-50",children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:"p-2 rounded-lg cursor-pointer hover:bg-design-lightPurpleButtonFill",onClick:()=>{n(null),s(!1)},children:f.jsx(D,{children:"All Boards"})}),t.map(o=>f.jsx("div",{className:"p-2 rounded-lg cursor-pointer hover:bg-design-lightPurpleButtonFill",onClick:()=>{n(o),s(!1)},children:o.title},o.id))]})})]})};function Aie(){const{boardsList:t,loadInitialBoards:e,isLoading:n,updateCard:r}=Pd(),{currentUser:s,currentUserTeams:i}=Mr(),[o,a]=g.useState(null),[l,c]=g.useState({totalTasks:0,completedTasks:0,myTasks:[]});g.useState([]);const u=ws();g.useEffect(()=>{(!n||t.length===0)&&e()},[]),g.useEffect(()=>{let y=0,x=0,v=[];(o?[o]:t).forEach(b=>{var S;(S=b.columns)==null||S.forEach(k=>{var E;(E=k.cards)==null||E.forEach(T=>{var C;y++,T.completed&&x++,(C=T.assignee)!=null&&C.some(L=>L._id===s.userId)&&v.push({...T,boardId:b.id,boardTitle:b.title})})})}),c({totalTasks:y,completedTasks:x,myTasks:v})},[t,s,o]);const d=y=>{u(`/ideation/${y}`)},p=(()=>{const y=new Date().getHours();return y>=5&&y<12?{text:"Good Morning",icon:Pz,className:"text-amber-500"}:y>=12&&y<17?{text:"Good Afternoon",icon:Dz,className:"text-yellow-500"}:y>=17&&y<20?{text:"Good Evening",icon:Rz,className:"text-orange-500"}:{text:"Good Night",icon:Tz,className:"text-indigo-500"}})(),m=p.icon;return n?f.jsxs("div",{className:"p-4 md:p-8 space-y-4 md:space-y-8 animate-in fade-in-50",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"}),f.jsx("div",{className:"h-9 w-64 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"})]}),f.jsx("div",{className:"h-10 w-full md:w-40 bg-gray-200 dark:bg-gray-700 rounded-xl animate-pulse"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[1,2,3].map(y=>f.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 animate-pulse",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200 dark:bg-gray-700"}),f.jsxs("div",{className:"space-y-2 flex-1",children:[f.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"}),f.jsx("div",{className:"h-7 w-16 bg-gray-200 dark:bg-gray-700 rounded"})]})]})},y))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"h-5 w-32 bg-gray-200 dark:bg-gray-700 rounded"}),f.jsx("div",{className:"h-5 w-24 bg-gray-200 dark:bg-gray-700 rounded"})]}),f.jsx("div",{className:"grid grid-cols-7 gap-2",children:[...Array(35)].map((y,x)=>f.jsx("div",{className:"h-16 rounded-lg bg-gray-100 dark:bg-gray-800 p-2",children:f.jsx("div",{className:"h-4 w-4 bg-gray-200 dark:bg-gray-700 rounded"})},x))})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100",children:[f.jsx("div",{className:"h-6 w-32 bg-gray-200 dark:bg-gray-700 rounded mb-6"}),f.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(y=>f.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800",children:[f.jsx("div",{className:"h-4 w-4 rounded-full bg-gray-200 dark:bg-gray-700"}),f.jsxs("div",{className:"space-y-2 flex-1",children:[f.jsx("div",{className:"h-4 w-3/4 bg-gray-200 dark:bg-gray-700 rounded"}),f.jsx("div",{className:"h-3 w-1/4 bg-gray-200 dark:bg-gray-700 rounded"})]})]},y))})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-5 w-5 bg-gray-200 dark:bg-gray-700 rounded"}),f.jsx("div",{className:"h-5 w-32 bg-gray-200 dark:bg-gray-700 rounded"})]}),f.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded"})]}),f.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 dark:bg-gray-700"}),f.jsx("div",{className:"h-5 w-40 bg-gray-200 dark:bg-gray-700 rounded"})]}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),f.jsx("div",{className:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),f.jsx("div",{className:"h-5 w-24 bg-gray-200 dark:bg-gray-700 rounded"}),f.jsx("div",{className:"h-5 w-24 bg-gray-200 dark:bg-gray-700 rounded"})]})]},y))})]})]}):f.jsxs("div",{className:"p-4 md:p-8 space-y-4 md:space-y-8 animate-in fade-in-50",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mt-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(m,{className:`h-8 w-8 ${p.className}`}),f.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-design-black",children:[f.jsx(D,{children:p.text}),", ",s.firstName]})]}),f.jsx("div",{className:"flex justify-end w-full md:w-auto",children:f.jsx(Oie,{boards:t,selectedBoard:o,onBoardSelect:a})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[f.jsx(N0,{icon:Y2,title:f.jsx(D,{children:"Total Tasks"}),value:l.totalTasks,color:"total"}),f.jsx(N0,{icon:Td,title:f.jsx(D,{children:"Completed Tasks"}),value:l.completedTasks,color:"completed"}),f.jsx(N0,{icon:Zh,title:f.jsx(D,{children:"My Tasks"}),value:l.myTasks.length,color:"tasks"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-8 lg:h-[600px]",children:[f.jsx("div",{className:"lg:h-full overflow-hidden",children:f.jsx(Cie,{tasks:l.myTasks,onTaskClick:y=>{y.boardId&&u(`/ideation/${y.boardId}`)}})}),f.jsx("div",{className:"lg:h-full overflow-hidden",children:f.jsx(Mie,{tasks:l.myTasks})})]}),!o&&f.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 md:p-6 rounded-2xl border border-design-greyOutlines w-full overflow-hidden",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Zh,{className:"h-5 w-5 text-design-primaryPurple"}),f.jsx("h2",{className:"text-lg font-semibold text-design-black",children:f.jsx(D,{children:"My Boards"})})]}),f.jsxs("span",{className:"text-sm text-design-primaryGrey",children:[t.length," ",t.length===1?f.jsx(D,{children:"Board"}):f.jsx(D,{children:"Boards"})]})]}),f.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:f.jsx("div",{className:"min-w-[800px] px-4 md:px-0",children:f.jsx(jie,{boards:t,teams:i,onBoardClick:d})})})]})]})}const qN=["Organizing your ideas...","Bringing collaboration to life...","Turning thoughts into action...","Streamlining your workflow...","Managing tasks efficiently...","Your productivity, our priority..."];function mI(){const[t,e]=g.useState(0);return g.useEffect(()=>{const n=setInterval(()=>{e(r=>r===qN.length-1?0:r+1)},3e3);return()=>clearInterval(n)},[]),f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-design-lightPurpleButtonFill to-white dark:from-design-black dark:to-design-black/70 z-50",children:f.jsxs("div",{className:"relative w-full h-full",children:[f.jsx("div",{className:"absolute inset-0 opacity-5",children:f.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:Array.from({length:20}).map((n,r)=>f.jsx("div",{className:"absolute bg-design-primaryPurple rounded-full",style:{width:`${Math.random()*300+50}px`,height:`${Math.random()*300+50}px`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:Math.random()*.1,filter:"blur(50px)",transform:"translate(-50%, -50%)",animation:`float ${Math.random()*10+10}s ease-in-out infinite`,animationDelay:`${Math.random()*5}s`}},r))})}),f.jsx(J.div,{className:"absolute inset-0 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:f.jsxs("div",{className:"bg-white dark:bg-design-black/80 rounded-2xl shadow-2xl p-10 max-w-md w-full backdrop-blur-lg border border-design-greyOutlines dark:border-design-greyOutlines/20",children:[f.jsx("div",{className:"flex justify-center mb-8",children:f.jsxs("div",{className:"relative",children:[f.jsxs(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"text-3xl font-bold text-design-primaryPurple text-center flex items-center",children:["Social",f.jsx("span",{className:"text-design-black dark:text-white",children:"Hub"}),f.jsx("img",{src:_D,alt:"",className:"h-12 w-12 mx-auto ml-2"})]}),f.jsx(J.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1,delay:.8},className:"h-0.5 bg-design-primaryPurple mt-1"})]})}),f.jsx(J.h1,{className:"text-3xl md:text-4xl font-bold text-design-black dark:text-white text-center mb-8",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.5},children:"Ideation Board"}),f.jsx("div",{className:"h-8 relative overflow-hidden",children:qN.map((n,r)=>f.jsx(J.div,{className:"absolute inset-0 flex justify-center items-center text-lg text-design-primaryGrey dark:text-design-greyOutlines text-center",initial:{opacity:0,y:20},animate:{opacity:t===r?1:0,y:t===r?0:20},transition:{duration:.5},children:n},r))}),f.jsx("div",{className:"mt-12",children:f.jsx("div",{className:"relative h-1 w-full bg-design-greyBG dark:bg-design-black rounded-full overflow-hidden",children:f.jsx(J.div,{className:"absolute top-0 left-0 h-full bg-design-primaryPurple",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:3,repeat:1/0,ease:"linear"}})})}),f.jsx("div",{className:"flex justify-center mt-8 gap-2",children:[0,1,2].map(n=>f.jsx(J.div,{className:"w-2 h-2 rounded-full bg-design-primaryPurple",animate:{opacity:[.3,1,.3],scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:n*.2}},n))})]})})]})})}const M0=({children:t})=>f.jsx(Sie,{children:f.jsx(xK,{children:t})}),Lie=()=>{const{isAuthenticated:t,isLoading:e}=Mr(),n=!1;return e?f.jsx(mI,{}):t?f.jsx(Kh,{to:"/home",replace:!0}):n?f.jsx(wK,{}):f.jsx(kie,{})},Die=()=>{const{isAuthenticated:t,isLoading:e}=Mr();return e?f.jsx(mI,{}):t?f.jsxs(g2,{children:[f.jsx(Ro,{path:"/",element:f.jsx(Kh,{to:"/home",replace:!0})}),f.jsx(Ro,{path:"/ideation",element:f.jsx(M0,{children:f.jsx(GN,{})})}),f.jsx(Ro,{path:"/ideation/:boardId",element:f.jsx(M0,{children:f.jsx(GN,{})})}),f.jsx(Ro,{path:"/home",element:f.jsx(M0,{children:f.jsx(Aie,{})})})," "]}):f.jsx(Kh,{to:"/ideation/login",replace:!0})};function Pie(){return f.jsx(J5,{children:f.jsx(Z8,{children:f.jsx(eW,{children:f.jsx(F8,{children:f.jsxs(U3,{children:[f.jsxs(g2,{children:[f.jsx(Ro,{path:"/ideation/login",element:f.jsx(Lie,{})}),f.jsx(Ro,{path:"/*",element:f.jsx(Die,{})})]}),f.jsx(F$,{position:"top-right"})]})})})})})}const gI=document.getElementById("root");if(!gI)throw new Error("Failed to find the root element");a2(gI).render(f.jsx(Pie,{}));export{nw as g};
